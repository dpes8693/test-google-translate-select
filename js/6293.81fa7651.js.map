{"version":3,"file":"js/6293.81fa7651.js","mappings":"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","sources":["webpack://nubk_cli/./src/components/global/header/HeaderArea.vue","webpack://nubk_cli/./src/components/global/header/HeaderArea.vue?a13c","webpack://nubk_cli/./src/view/map/components/CitySelecter_.vue","webpack://nubk_cli/./src/view/map/components/CitySelecter_.vue?7da2","webpack://nubk_cli/./src/view/map/longtermCareMap.vue","webpack://nubk_cli/./src/view/map/components/GoogleMap_.vue","webpack://nubk_cli/./src/view/map/components/GoogleMap_.vue?da70","webpack://nubk_cli/./src/view/map/longtermCareMap.vue?ce8f"],"sourcesContent":["<script>\r\nimport { useRouter } from \"vue-router\"\r\n// import { ExtCall } from \"@/utils/extCall\"\r\nimport { useGlobalStore } from \"@/store/global\"\r\n\r\nexport default {\r\n  props: {\r\n    title: String,\r\n    right: String,\r\n    path: String,\r\n    backToPath: String,\r\n  },\r\n  setup(props) {\r\n    const globalStore = useGlobalStore()\r\n    const globalGoto = globalStore.goto\r\n\r\n    const router = useRouter()\r\n    let iconCode = \"\"\r\n    let text = \"\"\r\n    const state = props.right ? props.right : \"\"\r\n    if (state == \"add\") {\r\n      iconCode = \"fa fa-plus\"\r\n      text = \" 新增\"\r\n    }\r\n    if (state == \"map\") {\r\n      iconCode = \"fas fa-map-marker-alt\"\r\n      text = \" 地圖\"\r\n    }\r\n    if (state == \"text\") {\r\n      iconCode = \"far fa-list-ul\"\r\n      text = \" 列表\"\r\n    }\r\n    if (state == \"search\") {\r\n      iconCode = \"far fa-search\"\r\n      text = \" 搜尋\"\r\n    }\r\n\r\n    const goto = () => {\r\n      if (props.path == \"search\") {\r\n        console.log(\"search\")\r\n      } else {\r\n        router.push({ path: props.path })\r\n      }\r\n    }\r\n    const backTo = () => {\r\n      if (props.backToPath == \"-1\") {\r\n        try {\r\n          globalGoto(\"back\")\r\n        } catch (error) {\r\n          console.log(error)\r\n          router.back()\r\n        }\r\n      } else if (props.backToPath) {\r\n        router.push({ path: props.backToPath })\r\n      } else {\r\n        router.push({ path: \"/home\" })\r\n      }\r\n    }\r\n\r\n    return { iconCode, text, backTo, goto }\r\n  },\r\n}\r\n</script>\r\n\r\n<template>\r\n  <header class=\"c-header\">\r\n    <nav class=\"navbar ui-navbar\">\r\n      <ul class=\"navbar-nav\">\r\n        <li class=\"nav-item\" @click=\"backTo\"> \r\n          <a class=\"nav-link\"\r\n            ><i class=\"fa fa-chevron-left\"></i\r\n          ></a>\r\n        </li>\r\n      </ul>\r\n      <h1 class=\"navbar-brand\">{{ title }}</h1>\r\n      <ul class=\"navbar-nav\">\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\"\r\n            ><i :class=\"iconCode\" @click=\"goto\"\r\n              ><span>{{ text }}</span></i\r\n            ></a\r\n          >\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </header>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n// @import \"../../../assets/layout.scss\";\r\n@import \"@/assets/custom/config\";\r\n@import \"@/assets/custom/mixins\";\r\n\r\n// header\r\n.c-header {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  z-index: 2;\r\n}\r\n\r\n.ui-navbar {\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n  height: $header-height;\r\n  background-color: $primary-color;\r\n\r\n  .nav-link {\r\n    padding-left: 0.875rem;\r\n    padding-right: 0.875rem;\r\n    color: white;\r\n    font-size: 0.8125rem;\r\n    line-height: 1;\r\n    white-space: nowrap;\r\n\r\n    i {\r\n      font-size: 1.125rem;\r\n      color: white;\r\n    }\r\n\r\n    span {\r\n      font-size: 0.8125rem;\r\n      padding-left: 0.25rem;\r\n    }\r\n\r\n    .fa-chevron-left {\r\n      font-size: 1.25rem;\r\n    }\r\n  }\r\n}\r\n\r\n.navbar-brand {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  margin-right: 0;\r\n  margin-bottom: 0;\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n  color: white;\r\n  font-size: 1.25rem;\r\n  white-space: nowrap;\r\n  @include translate(-50%, -50%);\r\n\r\n  img {\r\n    height: 2.1875rem;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./HeaderArea.vue?vue&type=template&id=6d50fb3a&scoped=true\"\nimport script from \"./HeaderArea.vue?vue&type=script&lang=js\"\nexport * from \"./HeaderArea.vue?vue&type=script&lang=js\"\n\nimport \"./HeaderArea.vue?vue&type=style&index=0&id=6d50fb3a&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Documents\\\\nubk_cli\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6d50fb3a\"]])\n\nexport default __exports__","<script>\r\nimport { ref, onMounted, watch, $emit } from 'vue'\r\nimport { apiGetCityArea, apiGetLongTermCityArea } from \"@/api/api\"\r\nimport { useCityStore2, useUserPositionStore } from '@/store/global'\r\n\r\nexport default {\r\n    props: {\r\n    },\r\n    setup(props, { emit }) {\r\n        const cityStore = useCityStore2()\r\n        const userPositionStore = useUserPositionStore()\r\n        let cityAreaData = ref([])\r\n        let cityAreaData2 = ref([])\r\n        let city = ref(\"請選擇縣市\")\r\n        let area = ref(\"請選擇鄉鎮市區\")\r\n        let code = ref(1)\r\n        let cityIdx = ref(0)\r\n        let areaIdx = ref(0)\r\n        let codeIdx = ref(1)\r\n        let cityList = ref([])\r\n        let areaList = ref([])\r\n        let codeList = ref([])\r\n        const changeCityIdx = (e) => {\r\n            cityIdx.value = e.target.value\r\n            // console.log(cityIdx.value)\r\n        }\r\n        const changeAreaIdx = (e) => {\r\n            areaIdx.value = e.target.value\r\n            // console.log(areaIdx.value)\r\n        }\r\n        const changeCodeIdx = (e) => {\r\n            codeIdx.value = e.target.value\r\n            // console.log(codeIdx.value)\r\n        }\r\n\r\n        //往外傳\r\n        const updateCityIdx = () => {\r\n            emit(\"cityIdx\", cityIdx)\r\n        }\r\n        const updateAreaIdx = () => {\r\n            emit(\"areaIdx\", areaIdx)\r\n        }\r\n        const updateCodeIdx = () => {\r\n            emit(\"codeIdx\", codeIdx)\r\n        }\r\n\r\n        onMounted(async () => {\r\n            if (cityStore.cityAreaList2 == undefined) {\r\n                // console.log('沒有')\r\n                // call api\r\n                cityAreaData2.value = await apiGetLongTermCityArea()\r\n                cityStore.cityAreaList2 = cityAreaData2.value\r\n            } else {\r\n                // console.log('有')\r\n                cityAreaData2.value = cityStore.cityAreaList2\r\n            }\r\n            cityAreaData.value = cityAreaData2.value.data.cityArea\r\n            codeList.value = cityAreaData2.value.data.codeList\r\n            \r\n            \r\n            //預設臺中市南屯區 66000 / 66000070\r\n            //方便測試先預設新北板橋 65000 / 65000020\r\n            if (userPositionStore.userPosition.cityId == 0) {\r\n                city.value = 65000\r\n                cityIdx.value = 65000\r\n                areaList.value = cityAreaData.value.filter(item => item.id == cityIdx.value)[0].areas\r\n                area.value = 65000020\r\n                areaIdx.value = 65000020\r\n            } else {\r\n                city.value = userPositionStore.userPosition.cityId_2\r\n                cityIdx.value = userPositionStore.userPosition.cityId_2\r\n                areaList.value = cityAreaData.value.filter(item => item.id == cityIdx.value)[0].areas\r\n                area.value = userPositionStore.userPosition.areaId_2\r\n                areaIdx.value = userPositionStore.userPosition.areaId_2\r\n            }\r\n        })\r\n\r\n        watch(() => cityIdx.value, async () => {\r\n            // areaList.value = cityAreaData.value[cityIdx.value - 1].areas\r\n            areaList.value = cityAreaData.value.filter(item => item.id == cityIdx.value)[0].areas\r\n            updateCityIdx()\r\n        })\r\n        watch(() => areaIdx.value, async () => {\r\n            updateAreaIdx()\r\n        })\r\n        watch(() => codeIdx.value, async () => {\r\n            updateCodeIdx()\r\n        })\r\n\r\n        return { cityAreaData, city, area, areaList, changeCityIdx, changeAreaIdx, codeList, code, changeCodeIdx }\r\n    },\r\n};\r\n</script>\r\n\r\n<template>\r\n    <div class=\"ui-tab selectArea\">\r\n        <div class=\"row\">\r\n            <div class=\"col\">\r\n                <select class=\"form-control form-select\" v-model=\"city\" @change=\"changeCityIdx\">\r\n                    <option selected>請選擇縣市</option>\r\n                    <option v-for=\"item in cityAreaData\" :value=\"item.id\" :key=\"item.id\">{{ item.city_name }}</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"col\">\r\n                <select class=\"form-control form-select\" v-model=\"area\" @change=\"changeAreaIdx\">\r\n                    <option selected>請選擇鄉鎮市區</option>\r\n                    <option v-for=\"item in areaList\" :value=\"item.id\" :key=\"item.id\">{{ item.area_name }}</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col\">\r\n                <select class=\"form-control form-select\" v-model=\"code\" @change=\"changeCodeIdx\">\r\n                    <option v-for=\"item in codeList\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.selectArea {\r\n    // border: 10px solid purple;\r\n}\r\n</style>","import { render } from \"./CitySelecter_.vue?vue&type=template&id=79630406&scoped=true\"\nimport script from \"./CitySelecter_.vue?vue&type=script&lang=js\"\nexport * from \"./CitySelecter_.vue?vue&type=script&lang=js\"\n\nimport \"./CitySelecter_.vue?vue&type=style&index=0&id=79630406&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Documents\\\\nubk_cli\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-79630406\"]])\n\nexport default __exports__","<script>\r\nimport Header from \"../../components/global/header/HeaderArea.vue\"\r\nimport CitySelecter from \"./components/CitySelecter_.vue\"\r\nimport GoogleMap from './components/GoogleMap_.vue'\r\nimport { useRouter } from \"vue-router\"\r\nimport { Toast } from '../../components/global/swal.js'\r\nimport { ref, onMounted,watch } from 'vue'\r\nimport longtermCareImg from '../../assets/icon/longtermCare.png'\r\nimport { apiLongTermCare2 } from \"@/api/api\"\r\n\r\n\r\nexport default {\r\n  setup() {\r\n    const router = useRouter()\r\n    let ImgUrl = longtermCareImg\r\n    let longTermData = ref([])\r\n    let cityIdx = ref(0)\r\n    let areaIdx = ref(0)\r\n    let codeIdx = ref(1)\r\n\r\n\r\n    //使用者預設位置\r\n    let initial = ref([120.6802474, 24.158286989])\r\n\r\n    const updateCityIdx = (val) => {\r\n      cityIdx.value = val.value\r\n    }\r\n    const updateAreaIdx = (val) => {\r\n      areaIdx.value = val.value\r\n    }\r\n    const updateCodeIdx = (val) => {\r\n      codeIdx.value = val.value\r\n    }\r\n\r\n    watch(() => cityIdx.value, async () => {\r\n      if( cityIdx.value == 0 || areaIdx.value == 0 || codeIdx.value == 0) return\r\n      longTermData.value = await apiLongTermCare2({ cityId: cityIdx.value, areaId: areaIdx.value,code:codeIdx.value })\r\n      // console.log(longTermData.value)\r\n      if (longTermData.value.data.length == 0) {\r\n        Toast(\"該區域無資料\")\r\n        longTermData.value =[]\r\n      } else {\r\n        longTermData.value = longTermData.value.data\r\n      }\r\n    })\r\n    watch(() => areaIdx.value, async () => {\r\n      if( cityIdx.value == 0 || areaIdx.value == 0 || codeIdx.value == 0) return\r\n      longTermData.value = await apiLongTermCare2({ cityId: cityIdx.value, areaId: areaIdx.value,code:codeIdx.value })\r\n      // console.log(longTermData.value)\r\n      if (longTermData.value.data.length == 0) {\r\n        Toast(\"該區域無資料\")\r\n        longTermData.value =[]\r\n      } else {\r\n        longTermData.value = longTermData.value.data\r\n      }\r\n    })\r\n    watch(() => codeIdx.value, async () => {\r\n      if( cityIdx.value == 0 || areaIdx.value == 0 || codeIdx.value == 0) return\r\n      longTermData.value = await apiLongTermCare2({ cityId: cityIdx.value, areaId: areaIdx.value,code:codeIdx.value })\r\n      // console.log(longTermData.value)\r\n      if (longTermData.value.data.length == 0) {\r\n        Toast(\"該區域無資料\")\r\n        longTermData.value =[]\r\n      } else {\r\n        longTermData.value = longTermData.value.data\r\n      }\r\n    })\r\n\r\n\r\n    return { longTermData, initial, ImgUrl,updateCityIdx, updateAreaIdx, updateCodeIdx }\r\n  },\r\n  components: {\r\n    Header, GoogleMap, CitySelecter\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Header title=\"長照2.0\" right=\"text\" path=\"/map/longtermCare\" />\r\n  <div class=\"longtermCare\">\r\n    <section class=\"c-main\">\r\n      <CitySelecter @city-idx=\"updateCityIdx\" @area-idx=\"updateAreaIdx\" @code-idx=\"updateCodeIdx\" />\r\n      <div class=\"resource-container\">\r\n        <div class=\"map-container\">\r\n          <!-- 地圖 -->\r\n          <GoogleMap class=\"map\" :data=longTermData :initial=initial :icon=ImgUrl />\r\n        </div>\r\n      </div>\r\n\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/assets/custom/config\";\r\n\r\n.longtermCare {\r\n  margin-top: $header-height;\r\n  margin-bottom: calc($footer-height + 15px);\r\n}\r\n.c-main {\r\n  //避免托動到map問題\r\n  touch-action: none;\r\n}\r\n\r\n.map {\r\n  width: 100%;\r\n  height: calc(100vh - $footer-height - $header-height - 3rem);\r\n  touch-action: none;\r\n}\r\n</style>","<script>\r\nimport { reactive, ref, onMounted, watch } from 'vue'\r\n\r\nexport default {\r\n    props: {\r\n        data: Object, //API整個資料\r\n        icon: String, //icon圖片位置\r\n        initial: Array //地圖中心點\r\n    },\r\n    setup(props) {\r\n        // const { data, icon } = props\r\n        const data = reactive(props.data)\r\n        const icon = ref(props.icon)\r\n        // let hospitalPoint = reactive(data)\r\n        let map = null\r\n        let lat = ref(props.initial[1])\r\n        let lng = ref(props.initial[0])\r\n\r\n        let points = reactive([])\r\n        let mapData = reactive({\r\n            \"center\": {\r\n                \"lat\": lat.value,\r\n                \"lng\": lng.value\r\n            },\r\n            \"lacation\": points\r\n        })\r\n        // 地點位置\r\n        const getPoints = () => {\r\n            mapData.lacation = []\r\n            props.data.forEach(item => {\r\n                mapData.lacation.push({\r\n                    \"id\": item.properties.id,\r\n                    \"name\": item.properties.name,\r\n                    \"lat\": item.geometry.coordinates[1],\r\n                    \"lng\": item.geometry.coordinates[0],\r\n                    \"telephone\": item.properties.telephone,\r\n                    \"address\": item.properties.address,\r\n                    \"website\": item.properties.website\r\n                })\r\n            })\r\n        }\r\n\r\n        //建立地圖\r\n        const initMap = (lat, lng) => {\r\n            map = new google.maps.Map(document.getElementById(\"map\"), {\r\n                center: { lat, lng },\r\n                zoom: 15,\r\n                maxZoom: 20,\r\n                minZoom: 3,\r\n                streetViewControl: false,\r\n                mapTypeControl: false\r\n            });\r\n            return map\r\n        }\r\n        // 建立地標\r\n        const setMarker = () => {\r\n            // 為每間餐廳都建立地標、訊息視窗、事件監聽\r\n            mapData.lacation.forEach(item => {\r\n                const marker = new google.maps.Marker({\r\n                    position: { lat: item.lat, lng: item.lng },\r\n                    map: map,\r\n                    icon: icon.value\r\n                });\r\n                // 訊息視窗\r\n                const infowindow = new google.maps.InfoWindow({\r\n                    content: `\r\n                        <div id=\"content\">\r\n                            <p class=\"infoHeader\" style=\"color:#8F63CF ; font-size:1rem; font-weight:600;\" >${item.name}<a style=\"margin:0;font-size:0.8rem; font-weight:400;\" href='${item.website}'\">(網站)</a></p>\r\n                            <p class=\"infoBody\" style=\"margin:0;font-size:0.75rem; font-weight:400;\" v-if=\"item.address\" >${item.address}\r\n                                \r\n                            </p>\r\n                            \r\n                        </div>\r\n                        `,\r\n                    maxWidth: 300\r\n                });\r\n                // 綁定點擊事件監聽\r\n                marker.addListener(\"click\", () => {\r\n                    const ele = document.querySelector('.gm-style-iw')\r\n                    // console.log(ele)\r\n                    if (ele) {\r\n                        const eleP = ele.parentNode.classList[0]\r\n                        document.querySelector(`.${eleP}`).remove()\r\n                    }\r\n                    infowindow.open(map, marker);\r\n                });\r\n            });\r\n        }\r\n\r\n\r\n        onMounted(() => {\r\n            initMap(lat.value, lng.value)\r\n            getPoints()\r\n            setMarker()\r\n        })\r\n        watch(() => props.initial, (val) => {\r\n            lat.value = (val[1])\r\n            lng.value = (val[0])\r\n            initMap(lat.value, lng.value)\r\n            getPoints()\r\n            setMarker()\r\n        })\r\n        watch(() => props.data, () => {\r\n            if (props.data[0]) {\r\n                lat.value = (props.data[0].geometry.coordinates[1])\r\n                lng.value = (props.data[0].geometry.coordinates[0])\r\n                initMap(lat.value, lng.value)\r\n                getPoints()\r\n                setMarker()\r\n            }\r\n        })\r\n        return { map, lat }\r\n    },\r\n};\r\n</script>\r\n\r\n<template>\r\n    <div>\r\n        <div class=\"google-map\" id=\"map\"></div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/assets/custom/config\";\r\n\r\n.google-map {\r\n    width: 100%;\r\n    height: calc(100vh - $footer-height - $header-height - 5.5rem);\r\n    // border: 10px solid red;\r\n}\r\n</style>","import { render } from \"./GoogleMap_.vue?vue&type=template&id=7ae1386e&scoped=true\"\nimport script from \"./GoogleMap_.vue?vue&type=script&lang=js\"\nexport * from \"./GoogleMap_.vue?vue&type=script&lang=js\"\n\nimport \"./GoogleMap_.vue?vue&type=style&index=0&id=7ae1386e&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Documents\\\\nubk_cli\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7ae1386e\"]])\n\nexport default __exports__","import { render } from \"./longtermCareMap.vue?vue&type=template&id=e7e968d2&scoped=true\"\nimport script from \"./longtermCareMap.vue?vue&type=script&lang=js\"\nexport * from \"./longtermCareMap.vue?vue&type=script&lang=js\"\n\nimport \"./longtermCareMap.vue?vue&type=style&index=0&id=e7e968d2&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Documents\\\\nubk_cli\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e7e968d2\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_4","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","$setup","_hoisted_6","$props","_hoisted_7","_hoisted_8","_hoisted_9","props","title","String","right","path","backToPath","setup","globalStore","useGlobalStore","globalGoto","goto","router","useRouter","iconCode","text","state","console","log","push","backTo","error","back","__exports__","render","selected","onChange","_Fragment","item","value","id","key","city_name","area_name","_hoisted_10","name","emit","cityStore","useCityStore2","userPositionStore","useUserPositionStore","cityAreaData","ref","cityAreaData2","city","area","code","cityIdx","areaIdx","codeIdx","areaList","codeList","changeCityIdx","e","target","changeAreaIdx","changeCodeIdx","updateCityIdx","updateAreaIdx","updateCodeIdx","onMounted","async","undefined","cityAreaList2","apiGetLongTermCityArea","data","cityArea","userPosition","cityId","filter","areas","cityId_2","areaId_2","watch","_createVNode","_component_Header","_component_CitySelecter","onCityIdx","onAreaIdx","onCodeIdx","_component_GoogleMap","initial","icon","Object","Array","reactive","map","lat","lng","points","mapData","getPoints","lacation","forEach","properties","geometry","coordinates","telephone","address","website","initMap","google","maps","Map","document","getElementById","center","zoom","maxZoom","minZoom","streetViewControl","mapTypeControl","setMarker","marker","Marker","position","infowindow","InfoWindow","content","maxWidth","addListener","ele","querySelector","eleP","parentNode","classList","remove","open","val","ImgUrl","longtermCareImg","longTermData","apiLongTermCare2","areaId","length","Toast","components","Header","GoogleMap","CitySelecter"],"sourceRoot":""}