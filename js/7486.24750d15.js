"use strict";(self["webpackChunknubk_cli"]=self["webpackChunknubk_cli"]||[]).push([[7486],{6186:function(t,n,e){function a(){const t=navigator.userAgent.toLowerCase()||"";let n=navigator.platform.toLowerCase()||"";return n.indexOf("linux")>-1&&t.indexOf("android")>-1&&(n="android"),(n.indexOf("iphone")>-1||n.indexOf("ipad")>-1)&&(n="ios",console.log=function(t){window.webkit.messageHandlers.logger.postMessage(t)}),n}function o(t={}){let n=a()||"";if("android"==n)window.ExtCall.postMessage(t);else{if("ios"!=n)throw new Error(n);window.webkit.messageHandlers.ExtCall.postMessage(t)}}e.d(n,{H6:function(){return d},VU:function(){return u},sX:function(){return r}});const r={openNewWebView:i,replaceSetting:s,goBack:l,toBrowser:c};function i(t=""){const n=JSON.stringify({function:"popWebview",url:t});o(n)}function s(t="",n=""){const e=JSON.stringify({function:"changeProjectSettingURL",userid:t,url:n});o(e)}function c(t=""){const n=JSON.stringify({function:"toBrowser",url:t});o(n)}function l(){const t=JSON.stringify({function:"goBack"});o(t)}const u={lineLogin(t="",n=""){const e=JSON.stringify({function:"lineLogin",channel_id:t,callback:n});o(e)},appleLogin(t=""){const n=JSON.stringify({function:"appleLogin",callback:t});o(n)}},d={startGPS(t=""){const n=JSON.stringify({function:"startGPS",callback:t});o(n)},stopGPS(){const t=JSON.stringify({function:"stopGPS"});o(t)},getCurrentLocation(t=""){const n=JSON.stringify({function:"getCurrentLocation",callback:t});o(n)},getUserLocationHistory(t=""){const n=JSON.stringify({function:"getUserLocationHistory",callback:t});o(n)}}},8019:function(t,n,e){e.d(n,{D:function(){return a}});const a=()=>{const t="input:not(input[type = checkbox], input[type = radio], input[type = file], input[readonly], input[disabled])",n=document.querySelectorAll(t);n.forEach((t=>{t.addEventListener("focus",(()=>{document.body.classList.add("fixfixed")})),t.addEventListener("blur",(()=>{document.body.classList.remove("fixfixed")}))}))}},4988:function(t,n,e){e.d(n,{Cq:function(){return s},Qr:function(){return f},Ux:function(){return l},b$:function(){return i},g7:function(){return p},hB:function(){return g},nN:function(){return c},nV:function(){return h},vL:function(){return d},vW:function(){return m},yv:function(){return b}});e(7658);var a=e(6186),o=e(1830),r=e(4477);const i=t=>"string"==typeof t.message?t.message:"other error",s=t=>{for(let n=0;n<24;n++)t.push({id:n,time:`${n}:00`}),t.push({id:n+1,time:`${n}:30`})},c=()=>{const t=location.href,n=t.split("/"),e=n[n.length-1];return{urlId:e}},l=()=>{const t=location.href,n=t.split("/"),e=n[n.length-2];return{urlId:e}},u=t=>[t.getFullYear(),t.getMonth()+1,t.getDate()],d=t=>t<10?"0"+t:t,f=t=>{let n=JSON.parse(JSON.stringify(t)),e={},a="";return n.forEach((t=>{t.start=new Date(t.start.replace(/-/g,"/")),t.end=new Date(t.end.replace(/-/g,"/")),t.info=u(t.start),e[`${t.info[0]}/${t.info[1]}`]?e[`${t.info[0]}/${t.info[1]}`].push(t.info[2]):e[`${t.info[0]}/${t.info[1]}`]=[t.info[2]]})),a=n[0]?.start.getHours()==n[0]?.end.getHours()?`${n[0]?.start.getHours()}:${d(n[0]?.start.getMinutes())} ~ ${n[0]?.end.getHours()}:${d(n[0]?.end.getMinutes())}(24小時)`:`${n[0]?.start.getHours()}:${d(n[0]?.start.getMinutes())} ~ ${n[0]?.end.getHours()}:${d(n[0]?.end.getMinutes())}`,{newDates:n,info:e,time:a}},g=t=>{let n=JSON.parse(JSON.stringify(t)),e={},a="";return n.forEach((t=>{t.start=new Date(t.start.replace(/-/g,"/")),t.end=new Date(t.end.replace(/-/g,"/")),t.info=u(t.start),e[`${t.info[0]}/${t.info[1]}`]?e[`${t.info[0]}/${t.info[1]}`].push([t.info[2],t.isDone]):e[`${t.info[0]}/${t.info[1]}`]=[[t.info[2],t.isDone]]})),a=n[0]?.start.getHours()==n[0]?.end.getHours()?"全天(24小時)":`${n[0]?.start.getHours()}:${d(n[0]?.start.getMinutes())} ~ ${n[0]?.end.getHours()}:${d(n[0]?.end.getMinutes())}`,{newDates:n,info:e,time:a}},p=t=>{let n=[],e=[],a={},o=[];return t?.length>0&&t.forEach((t=>n.push(t.split("-")))),n.forEach((t=>{let n=`${t[0]}/${t[1]}`;e.push(n),a[n]?a[n].push(t[2]):a[n]=[t[2]]})),e=e.filter(((t,n)=>e.indexOf(t)===n)),1==e.length&&o.push(`${e?.[0]}/${a?.[e?.[0]]?.join("、")}`),e.length>1&&o.push(`${e?.[1]}/${a?.[e?.[1]]?.join("、")}`),{monthInfo:e,dayInfo:a,dateInfo:o}},h=(t,n)=>{let e={};return n.forEach((n=>{let a=parseInt(n.substring(1,3))-1,o=parseInt(n.substring(3,5))-1,r=parseInt(n.substring(5,7))-1;Object.keys(e).includes(t[a].name)||Object.keys(e).includes(t[a].data[o].name)?e[t[a].data[o].name].push(t[a].data[o].data[r]):e[t[a].data[o].name]=[t[a].data[o].data[r]]})),e},b=()=>{try{window.ExtCallStartGPS=()=>!0,a.H6.startGPS("ExtCallStartGPS")}catch(t){}},m=()=>{const t=(0,r.fG)();if(0==t.userPosition.cityId)try{window.ExtCallGetCurrentLocation=async(n,e,a)=>{if("string"===typeof n&&n?.length>6){const n=await(0,o.MP)({longitude:a,latitude:e});console.log("apiGetPosition已發送/"+n.data.defaultPlace.cityName+"/"+n.data.defaultPlace.townName),t.userPosition.cityId=n.data.defaultPlace.cityId,t.userPosition.areaId=n.data.defaultPlace.areaId,t.userPosition.cityId_2=n.data.longTermCare2Place.cityId,t.userPosition.areaId_2=n.data.longTermCare2Place.areaId,console.log(t.userPosition.cityId+"/"+t.userPosition.areaId+"/"+t.userPosition.cityId_2+"/"+t.userPosition.areaId_2)}},a.H6.getCurrentLocation("ExtCallGetCurrentLocation")}catch(n){console.log("電腦版不支援 extCall GPS")}}},9799:function(t,n,e){e.d(n,{Z:function(){return _}});var a=e(6252),o=e(3577);const r=t=>((0,a.dD)("data-v-6d50fb3a"),t=t(),(0,a.Cn)(),t),i={class:"c-header"},s={class:"navbar ui-navbar"},c={class:"navbar-nav"},l=r((()=>(0,a._)("a",{class:"nav-link"},[(0,a._)("i",{class:"fa fa-chevron-left"})],-1))),u=[l],d={class:"navbar-brand"},f={class:"navbar-nav"},g={class:"nav-item"},p={class:"nav-link"};function h(t,n,e,r,l,h){return(0,a.wg)(),(0,a.iD)("header",i,[(0,a._)("nav",s,[(0,a._)("ul",c,[(0,a._)("li",{class:"nav-item",onClick:n[0]||(n[0]=(...t)=>r.backTo&&r.backTo(...t))},u)]),(0,a._)("h1",d,(0,o.zw)(e.title),1),(0,a._)("ul",f,[(0,a._)("li",g,[(0,a._)("a",p,[(0,a._)("i",{class:(0,o.C_)(r.iconCode),onClick:n[1]||(n[1]=(...t)=>r.goto&&r.goto(...t))},[(0,a._)("span",null,(0,o.zw)(r.text),1)],2)])])])])])}e(7658);var b=e(2201),m=e(4477),v={props:{title:String,right:String,path:String,backToPath:String},setup(t){const n=(0,m.s6)(),e=n.goto,a=(0,b.tv)();let o="",r="";const i=t.right?t.right:"";"add"==i&&(o="fa fa-plus",r=" 新增"),"map"==i&&(o="fas fa-map-marker-alt",r=" 地圖"),"text"==i&&(o="far fa-list-ul",r=" 列表"),"search"==i&&(o="far fa-search",r=" 搜尋");const s=()=>{"search"==t.path?console.log("search"):a.push({path:t.path})},c=()=>{if("-1"==t.backToPath)try{e("back")}catch(n){console.log(n),a.back()}else t.backToPath?a.push({path:t.backToPath}):a.push({path:"/home"})};return{iconCode:o,text:r,backTo:c,goto:s}}},y=e(3744);const w=(0,y.Z)(v,[["render",h],["__scopeId","data-v-6d50fb3a"]]);var _=w},7486:function(t,n,e){e.r(n),e.d(n,{default:function(){return C}});var a=e(6252),o=e(9963);const r=t=>((0,a.dD)("data-v-7bc6d5e0"),t=t(),(0,a.Cn)(),t),i={class:"recommenderAdd"},s={class:"c-main"},c={class:"form-container"},l=r((()=>(0,a._)("div",{class:"user-container"},[(0,a._)("i",{class:"fas fa-user"})],-1))),u={ref:"form"},d={class:"mb-3"},f={class:"mt-4b btn-container"},g={class:"row"},p={class:"col"};function h(t,n,e,r,h,b){const m=(0,a.up)("Header");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(m,{title:"推薦人",backToPath:"/recommender/list"}),(0,a._)("div",i,[(0,a._)("section",s,[(0,a._)("div",c,[(0,a._)("form",null,[l,(0,a._)("form",u,[(0,a._)("div",d,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"請輸入推薦人手機號碼","onUpdate:modelValue":n[0]||(n[0]=t=>r.postData.phone=t),pattern:"^09\\d{2}?\\d{3}?\\d{3}$",required:""},null,512),[[o.nr,r.postData.phone]])])],512),(0,a._)("div",f,[(0,a._)("div",g,[(0,a._)("div",p,[(0,a._)("button",{class:"btn btn-outline-primary",type:"button",onClick:n[1]||(n[1]=(...t)=>r.send&&r.send(...t))},"確認送出")])])])])])])])],64)}e(7658);var b=e(9799),m=e(2262),v=e(1557),y=e(4988),w=e(1830),_=e(2201),$=e(8019),k={setup(){const t=(0,_.tv)();let n=(0,m.iH)({phone:""});const e=(0,m.iH)(null),o=async a=>{if(a.preventDefault(),e.value.reportValidity())try{let e=await(0,w.sw)(n.value);if(1==e.status)(0,v.FN)("已送出"),t.push({path:"/recommender/list"});else{let t=(0,y.b$)(e);(0,v.FN)(t)}}catch(o){console.log(o)}};return(0,a.bv)((()=>{(0,$.D)()})),{postData:n,form:e,send:o}},components:{Header:b.Z}},P=e(3744);const S=(0,P.Z)(k,[["render",h],["__scopeId","data-v-7bc6d5e0"]]);var C=S}}]);
//# sourceMappingURL=7486.24750d15.js.map