{"version":3,"file":"js/6582.83d8c831.js","mappings":"6PAKSA,MAAM,U,UACPC,EAAAA,EAAAA,GAA+C,OAA1CC,IAAAC,EAAgCC,IAAI,O,qBACzCH,EAAAA,EAAAA,GAAa,SAAV,UAAM,K,GADTI,EACAC,G,kCAFJC,EAAAA,EAAAA,IAGM,MAHNC,EAGM,E,eCPV,MAAMC,EAAS,CAAC,EAKVC,GAA2B,OAAgBD,EAAQ,CAAC,CAAC,SAASE,GAAQ,CAAC,YAAY,qBAEzF,O,qGC8COX,MAAM,mB,SAEJA,MAAM,mB,iBAGFA,MAAM,a,GACFA,MAAM,c,GACNA,MAAM,a,GAINA,MAAM,a,SACNA,MAAM,a,SACNA,MAAM,a,qEAbrBO,EAAAA,EAAAA,IAkBM,MAlBNC,EAkBM,CAjBgC,GAAtBI,EAAAA,YAAYC,SAAM,WAAhCC,EAAAA,EAAAA,IAAyCC,EAAAA,CAAAC,IAAAA,MAAA,eACNJ,EAAAA,YAAYC,OAAS,IAAH,WAArDN,EAAAA,EAAAA,IAeM,MAfNF,EAeM,gBAdJE,EAAAA,EAAAA,IAaMU,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IAb2BL,EAAAA,aAARM,K,WAAzBX,EAAAA,EAAAA,IAaM,OAbDP,MAAM,OAAoCgB,IAAKE,EAAKC,I,EACvDlB,EAAAA,EAAAA,GAWM,OAXDD,MAAM,YAAaoB,QAAK,GAAER,EAAAA,KAAK,qBAAqBM,EAAKC,O,EAC5DlB,EAAAA,EAAAA,GASI,IATJoB,EASI,EARFpB,EAAAA,EAAAA,GAAsE,MAAtEqB,GAAsE,WAAxCJ,EAAKK,QAAQL,EAAKM,eAAU,IAC1DvB,EAAAA,EAAAA,GAGQ,MAHRwB,EAAuB,OAAG,QAAkB,MAAfP,EAAKQ,OAAiB,KAAuB,MAAfR,EAAKQ,OAAM,gBAItEzB,EAAAA,EAAAA,GAAyD,MAAzD0B,EAAuB,OAAG,QAAGT,EAAKU,UAAUL,MAAI,GACnBL,EAAKW,SAASN,OAAI,WAA/ChB,EAAAA,EAAAA,IAAiF,MAAjFuB,EAAiD,OAAG,QAAGZ,EAAKW,QAAQN,MAAI,oBAC1CL,EAAKW,SAASN,MAAU,iBAAN,WAAhDhB,EAAAA,EAAAA,IAA4D,MAA5DwB,EAAkD,YAAI,U,yFA5DlE,GACEC,QACE,MAAMC,GAASC,EAAAA,EAAAA,MACf,IAAIC,GAAcC,EAAAA,EAAAA,IAAI,IACtB,MAAMC,GAAOD,EAAAA,EAAAA,IAAI,GACjB,IAAIE,EAAY,EACZC,EAAc,MAElBC,EAAAA,EAAAA,KAAUC,UAERN,EAAYO,YAAcC,EAAAA,EAAAA,IAAkB,CAAEN,KAAMA,EAAKK,MAAOE,MAAO,KACvEN,EAAYH,EAAYO,MAAMG,KAAKC,MACnCX,EAAYO,MAAQP,EAAYO,MAAMG,KAAKA,KAG3CN,EAAcQ,aAAY,MACpBC,EAAAA,EAAAA,OAEEb,EAAYO,MAAM7B,OAASyB,GAC7BW,GAEJ,GACC,IAAI,IAIT,MAAMA,EAAeR,UACnBJ,EAAKK,OAAS,EACd,IAAIQ,GAAUd,EAAAA,EAAAA,MACdc,EAAQR,YAAcC,EAAAA,EAAAA,IAAkB,CAAEN,KAAMA,EAAKK,MAAOE,MAAO,KACnET,EAAYO,MAAQP,EAAYO,MAAMS,OAAOD,EAAQR,MAAMG,KAAKA,KAAK,GAGvEO,EAAAA,EAAAA,KAAY,IAAMC,cAAcd,KAEhC,MAAMe,EAAQC,IACZtB,EAAOuB,KAAK,CAAEC,KAAMF,GAAM,EAG5B,MAAO,CAAED,OAAMnB,cACjB,EACAuB,WAAY,CAAEC,OAAMA,EAAAA,I,UCzCtB,MAAMjD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://nubk_cli/./src/components/global/NoData.vue","webpack://nubk_cli/./src/components/global/NoData.vue?24f4","webpack://nubk_cli/./src/view/requirement/requirementList.vue","webpack://nubk_cli/./src/view/requirement/requirementList.vue?948e"],"sourcesContent":["<script>\r\n\r\n</script>\r\n\r\n<template>\r\n    <div class=\"nodata\">\r\n        <img src=\"@/assets/image/nodata.svg\" alt=\"無資料\">\r\n        <p>目前沒有資料</p>\r\n    </div>\r\n</template>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.nodata {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    flex-direction: column;\r\n    margin-top: 5rem;\r\n\r\n    img {\r\n        width: 50%;\r\n        margin: 0 auto;\r\n    }\r\n\r\n    p {\r\n        color: #777777;\r\n        font-size: 1rem;\r\n        margin: 0 auto;\r\n    }\r\n}\r\n</style>","import { render } from \"./NoData.vue?vue&type=template&id=74e50aab&scoped=true\"\nconst script = {}\n\nimport \"./NoData.vue?vue&type=style&index=0&id=74e50aab&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Documents\\\\nubk_cli\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-74e50aab\"]])\n\nexport default __exports__","<script>\r\nimport { ref, onMounted, onUnmounted } from 'vue'\r\nimport { useRouter } from \"vue-router\"\r\nimport NoData from \"@/components/global/NoData.vue\"\r\nimport { apiGetServiceList } from \"@/api/api\"\r\nimport { isBetweenBottom } from \"@/utils/helper\"\r\n\r\nexport default {\r\n  setup() {\r\n    const router = useRouter()\r\n    let requireData = ref([])\r\n    const page = ref(1)\r\n    let totalData = 0\r\n    let getApiTimer = null\r\n\r\n    onMounted(async () => {\r\n      // call api\r\n      requireData.value = await apiGetServiceList({ page: page.value, limit: 20 })\r\n      totalData = requireData.value.data.total\r\n      requireData.value = requireData.value.data.data\r\n\r\n      //每0.5S監測是否在底部\r\n      getApiTimer = setInterval(() => {\r\n        if (isBetweenBottom()) {\r\n          // 超過上限不做GET\r\n          if (requireData.value.length < totalData) {\r\n            handleScroll();\r\n          }\r\n        }\r\n      }, 500)\r\n    })\r\n\r\n    //滾動載入資料\r\n    const handleScroll = async () => {\r\n      page.value += 1;\r\n      let newData = ref()\r\n      newData.value = await apiGetServiceList({ page: page.value, limit: 20 })\r\n      requireData.value = requireData.value.concat(newData.value.data.data);\r\n    };\r\n    //取消監控\r\n    onUnmounted(() => clearInterval(getApiTimer))\r\n\r\n    const goto = (val) => {\r\n      router.push({ path: val })\r\n    }\r\n\r\n    return { goto, requireData };\r\n  },\r\n  components: { NoData }\r\n};\r\n\r\n</script>\r\n\r\n<template>\r\n  <div class=\"requirementList\">\r\n    <NoData v-if=\"requireData.length == 0\" />\r\n    <div class=\"order-container\" v-if=\"requireData.length > 0\">\r\n      <div class=\"card\" v-for=\"item in requireData\" :key=\"item.id\">\r\n        <div class=\"card-body\" @click=\"goto(`/requirement/info/${item.id}`)\">\r\n          <a class=\"card-link\">\r\n            <div class=\"card-title\">{{ `${item.name}(${item.createTime})` }}</div>\r\n            <div class=\"card-time\">性別：{{ item.gender == \"男性\" ? \"男性\" : (item.gender == \"女性\") ? \"女性\"\r\n                :\r\n                \"不指定\"\r\n            }}</div>\r\n            <div class=\"card-time\">年資：{{ item.seniority.name }}</div>\r\n            <div class=\"card-time\" v-if=\"item.license?.name\">證照：{{ item.license.name }}</div>\r\n            <div class=\"card-time\" v-if=\"!item.license?.name\">證照：無</div>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/assets/custom/config\";\r\n\r\n.requirementList {\r\n  margin-top: $header-height;\r\n  margin-bottom: calc($footer-height + 15px);\r\n}\r\n</style>","import { render } from \"./requirementList.vue?vue&type=template&id=aa7064c8&scoped=true\"\nimport script from \"./requirementList.vue?vue&type=script&lang=js\"\nexport * from \"./requirementList.vue?vue&type=script&lang=js\"\n\nimport \"./requirementList.vue?vue&type=style&index=0&id=aa7064c8&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Documents\\\\nubk_cli\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-aa7064c8\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_0","alt","_hoisted_2","_hoisted_3","_createElementBlock","_hoisted_1","script","__exports__","render","$setup","length","_createBlock","_component_NoData","key","_Fragment","item","id","onClick","_hoisted_4","_hoisted_5","name","createTime","_hoisted_6","gender","_hoisted_7","seniority","license","_hoisted_8","_hoisted_9","setup","router","useRouter","requireData","ref","page","totalData","getApiTimer","onMounted","async","value","apiGetServiceList","limit","data","total","setInterval","isBetweenBottom","handleScroll","newData","concat","onUnmounted","clearInterval","goto","val","push","path","components","NoData"],"sourceRoot":""}