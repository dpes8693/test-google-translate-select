"use strict";(self["webpackChunknubk_cli"]=self["webpackChunknubk_cli"]||[]).push([[2868],{6186:function(e,t,a){function n(){const e=navigator.userAgent.toLowerCase()||"";let t=navigator.platform.toLowerCase()||"";return t.indexOf("linux")>-1&&e.indexOf("android")>-1&&(t="android"),(t.indexOf("iphone")>-1||t.indexOf("ipad")>-1)&&(t="ios",console.log=function(e){window.webkit.messageHandlers.logger.postMessage(e)}),t}function i(e={}){let t=n()||"";if("android"==t)window.ExtCall.postMessage(e);else{if("ios"!=t)throw new Error(t);window.webkit.messageHandlers.ExtCall.postMessage(e)}}a.d(t,{H6:function(){return u},VU:function(){return d},sX:function(){return o}});const o={openNewWebView:s,replaceSetting:l,goBack:c,toBrowser:r};function s(e=""){const t=JSON.stringify({function:"popWebview",url:e});i(t)}function l(e="",t=""){const a=JSON.stringify({function:"changeProjectSettingURL",userid:e,url:t});i(a)}function r(e=""){const t=JSON.stringify({function:"toBrowser",url:e});i(t)}function c(){const e=JSON.stringify({function:"goBack"});i(e)}const d={lineLogin(e="",t=""){const a=JSON.stringify({function:"lineLogin",channel_id:e,callback:t});i(a)},appleLogin(e=""){const t=JSON.stringify({function:"appleLogin",callback:e});i(t)}},u={startGPS(e=""){const t=JSON.stringify({function:"startGPS",callback:e});i(t)},stopGPS(){const e=JSON.stringify({function:"stopGPS"});i(e)},getCurrentLocation(e=""){const t=JSON.stringify({function:"getCurrentLocation",callback:e});i(t)},getUserLocationHistory(e=""){const t=JSON.stringify({function:"getUserLocationHistory",callback:e});i(t)}}},4988:function(e,t,a){a.d(t,{Cq:function(){return l},Qr:function(){return f},Ux:function(){return c},b$:function(){return s},g7:function(){return g},hB:function(){return v},nN:function(){return r},nV:function(){return p},vL:function(){return u},vW:function(){return m},yv:function(){return w}});a(7658);var n=a(6186),i=a(1830),o=a(4477);const s=e=>"string"==typeof e.message?e.message:"other error",l=e=>{for(let t=0;t<24;t++)e.push({id:t,time:`${t}:00`}),e.push({id:t+1,time:`${t}:30`})},r=()=>{const e=location.href,t=e.split("/"),a=t[t.length-1];return{urlId:a}},c=()=>{const e=location.href,t=e.split("/"),a=t[t.length-2];return{urlId:a}},d=e=>[e.getFullYear(),e.getMonth()+1,e.getDate()],u=e=>e<10?"0"+e:e,f=e=>{let t=JSON.parse(JSON.stringify(e)),a={},n="";return t.forEach((e=>{e.start=new Date(e.start.replace(/-/g,"/")),e.end=new Date(e.end.replace(/-/g,"/")),e.info=d(e.start),a[`${e.info[0]}/${e.info[1]}`]?a[`${e.info[0]}/${e.info[1]}`].push(e.info[2]):a[`${e.info[0]}/${e.info[1]}`]=[e.info[2]]})),n=t[0]?.start.getHours()==t[0]?.end.getHours()?`${t[0]?.start.getHours()}:${u(t[0]?.start.getMinutes())} ~ ${t[0]?.end.getHours()}:${u(t[0]?.end.getMinutes())}(24小時)`:`${t[0]?.start.getHours()}:${u(t[0]?.start.getMinutes())} ~ ${t[0]?.end.getHours()}:${u(t[0]?.end.getMinutes())}`,{newDates:t,info:a,time:n}},v=e=>{let t=JSON.parse(JSON.stringify(e)),a={},n="";return t.forEach((e=>{e.start=new Date(e.start.replace(/-/g,"/")),e.end=new Date(e.end.replace(/-/g,"/")),e.info=d(e.start),a[`${e.info[0]}/${e.info[1]}`]?a[`${e.info[0]}/${e.info[1]}`].push([e.info[2],e.isDone]):a[`${e.info[0]}/${e.info[1]}`]=[[e.info[2],e.isDone]]})),n=t[0]?.start.getHours()==t[0]?.end.getHours()?"全天(24小時)":`${t[0]?.start.getHours()}:${u(t[0]?.start.getMinutes())} ~ ${t[0]?.end.getHours()}:${u(t[0]?.end.getMinutes())}`,{newDates:t,info:a,time:n}},g=e=>{let t=[],a=[],n={},i=[];return e?.length>0&&e.forEach((e=>t.push(e.split("-")))),t.forEach((e=>{let t=`${e[0]}/${e[1]}`;a.push(t),n[t]?n[t].push(e[2]):n[t]=[e[2]]})),a=a.filter(((e,t)=>a.indexOf(e)===t)),1==a.length&&i.push(`${a?.[0]}/${n?.[a?.[0]]?.join("、")}`),a.length>1&&i.push(`${a?.[1]}/${n?.[a?.[1]]?.join("、")}`),{monthInfo:a,dayInfo:n,dateInfo:i}},p=(e,t)=>{let a={};return t.forEach((t=>{let n=parseInt(t.substring(1,3))-1,i=parseInt(t.substring(3,5))-1,o=parseInt(t.substring(5,7))-1;Object.keys(a).includes(e[n].name)||Object.keys(a).includes(e[n].data[i].name)?a[e[n].data[i].name].push(e[n].data[i].data[o]):a[e[n].data[i].name]=[e[n].data[i].data[o]]})),a},w=()=>{try{window.ExtCallStartGPS=()=>!0,n.H6.startGPS("ExtCallStartGPS")}catch(e){}},m=()=>{const e=(0,o.fG)();if(0==e.userPosition.cityId)try{window.ExtCallGetCurrentLocation=async(t,a,n)=>{if("string"===typeof t&&t?.length>6){const t=await(0,i.MP)({longitude:n,latitude:a});console.log("apiGetPosition已發送/"+t.data.defaultPlace.cityName+"/"+t.data.defaultPlace.townName),e.userPosition.cityId=t.data.defaultPlace.cityId,e.userPosition.areaId=t.data.defaultPlace.areaId,e.userPosition.cityId_2=t.data.longTermCare2Place.cityId,e.userPosition.areaId_2=t.data.longTermCare2Place.areaId,console.log(e.userPosition.cityId+"/"+e.userPosition.areaId+"/"+e.userPosition.cityId_2+"/"+e.userPosition.areaId_2)}},n.H6.getCurrentLocation("ExtCallGetCurrentLocation")}catch(t){console.log("電腦版不支援 extCall GPS")}}},9799:function(e,t,a){a.d(t,{Z:function(){return _}});var n=a(6252),i=a(3577);const o=e=>((0,n.dD)("data-v-6d50fb3a"),e=e(),(0,n.Cn)(),e),s={class:"c-header"},l={class:"navbar ui-navbar"},r={class:"navbar-nav"},c=o((()=>(0,n._)("a",{class:"nav-link"},[(0,n._)("i",{class:"fa fa-chevron-left"})],-1))),d=[c],u={class:"navbar-brand"},f={class:"navbar-nav"},v={class:"nav-item"},g={class:"nav-link"};function p(e,t,a,o,c,p){return(0,n.wg)(),(0,n.iD)("header",s,[(0,n._)("nav",l,[(0,n._)("ul",r,[(0,n._)("li",{class:"nav-item",onClick:t[0]||(t[0]=(...e)=>o.backTo&&o.backTo(...e))},d)]),(0,n._)("h1",u,(0,i.zw)(a.title),1),(0,n._)("ul",f,[(0,n._)("li",v,[(0,n._)("a",g,[(0,n._)("i",{class:(0,i.C_)(o.iconCode),onClick:t[1]||(t[1]=(...e)=>o.goto&&o.goto(...e))},[(0,n._)("span",null,(0,i.zw)(o.text),1)],2)])])])])])}a(7658);var w=a(2201),m=a(4477),k={props:{title:String,right:String,path:String,backToPath:String},setup(e){const t=(0,m.s6)(),a=t.goto,n=(0,w.tv)();let i="",o="";const s=e.right?e.right:"";"add"==s&&(i="fa fa-plus",o=" 新增"),"map"==s&&(i="fas fa-map-marker-alt",o=" 地圖"),"text"==s&&(i="far fa-list-ul",o=" 列表"),"search"==s&&(i="far fa-search",o=" 搜尋");const l=()=>{"search"==e.path?console.log("search"):n.push({path:e.path})},r=()=>{if("-1"==e.backToPath)try{a("back")}catch(t){console.log(t),n.back()}else e.backToPath?n.push({path:e.backToPath}):n.push({path:"/home"})};return{iconCode:i,text:o,backTo:r,goto:l}}},h=a(3744);const y=(0,h.Z)(k,[["render",p],["__scopeId","data-v-6d50fb3a"]]);var _=y},2868:function(e,t,a){a.r(t),a.d(t,{default:function(){return Te}});var n=a(6252),i=a(3577);const o=e=>((0,n.dD)("data-v-2ccf32d1"),e=e(),(0,n.Cn)(),e),s={key:0,class:"workInfo"},l={class:"item-container"},r=o((()=>(0,n._)("div",{class:"item-title"},"照顧日期時段",-1))),c={class:"item-content"},d={class:"main2"},u=o((()=>(0,n._)("div",{class:"title2"},"服務日期",-1))),f={class:"content2"},v={key:0,class:"content2"},g={class:"main2"},p=o((()=>(0,n._)("div",{class:"title2"},"服務時段",-1))),w={class:"content2"},m={class:"item-container"},k={class:"item-title item-link collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapse1"},h={class:"item-content collapse",id:"collapse1"},y={class:"main1"},_=o((()=>(0,n._)("div",{class:"title1"},"性別",-1))),b={class:"content1"},I={class:"main1"},D=o((()=>(0,n._)("div",{class:"title1"},"年資",-1))),P={class:"content1"},S={class:"main1"},$=o((()=>(0,n._)("div",{class:"title1"},"語言",-1))),C={class:"content1"},N={class:"main2"},z=o((()=>(0,n._)("div",{class:"title2"},"具備證照",-1))),H={key:0,class:"content2"},O={key:1,class:"content2"},x={class:"item-container"},T=o((()=>(0,n._)("div",{class:"item-title item-link collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapse2"},"被照顧者資訊 ",-1))),L={class:"item-content collapse",id:"collapse2"},E={class:"main1"},J=o((()=>(0,n._)("div",{class:"title1"},"名稱",-1))),j={class:"content1"},G={class:"main1"},M=o((()=>(0,n._)("div",{class:"title1"},"性別",-1))),q={class:"content1"},A={class:"main1"},B=o((()=>(0,n._)("div",{class:"title1"},"年齡",-1))),F={class:"content1"},U={class:"main1"},W=o((()=>(0,n._)("div",{class:"title1"},"身高",-1))),Y={class:"content1"},Z={class:"main1"},V=o((()=>(0,n._)("div",{class:"title1"},"體重",-1))),Q={class:"content1"},K={class:"main1"},R=o((()=>(0,n._)("div",{class:"title1"},"關係",-1))),X={class:"content1"},ee={class:"main2"},te=o((()=>(0,n._)("div",{class:"title2"},"行動能力",-1))),ae={class:"content2"},ne={class:"main2"},ie=o((()=>(0,n._)("div",{class:"title2"},"照顧地點",-1))),oe={key:0,class:"content2"},se={key:1,class:"content2"},le={class:"item-container"},re=o((()=>(0,n._)("div",{class:"item-title item-link collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapse3"},"病症",-1))),ce={class:"item-content collapse",id:"collapse3"},de={class:"title2"},ue={class:"content2"},fe={key:0,class:"content2"},ve={class:"item-container"},ge=o((()=>(0,n._)("div",{class:"item-title item-link collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapse4"},"服務需求",-1))),pe={class:"item-content collapse",id:"collapse4"},we={class:"main2"},me={class:"content2"},ke={class:"mt-4b btn-container"},he={class:"row"},ye={key:0,class:"col"},_e={key:1,class:"col"};function be(e,t,a,o,be,Ie){const De=(0,n.up)("Header");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(De,{title:"工作內容",backToPath:"/work/list"}),o.workInfoData.monthInfo?((0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",l,[r,(0,n._)("div",c,[(0,n._)("div",d,[u,(0,n._)("div",f,(0,i.zw)(o.workInfoData.monthInfo[0])+"/"+(0,i.zw)(o.workInfoData.info[o.workInfoData.monthInfo[0]].join("、")),1),2==o.workInfoData.monthInfo.length?((0,n.wg)(),(0,n.iD)("div",v,(0,i.zw)(o.workInfoData.monthInfo[1])+"/"+(0,i.zw)(o.workInfoData.info[o.workInfoData.monthInfo[1]].join("、")),1)):(0,n.kq)("",!0)]),(0,n._)("div",g,[p,(0,n._)("div",w,(0,i.zw)(o.workInfoData.time),1)])])]),(0,n._)("div",m,[(0,n._)("div",k,(0,i.zw)(o.workInfoData.employerService.name),1),(0,n._)("div",h,[(0,n._)("div",y,[_,(0,n._)("div",b,(0,i.zw)("Male"==o.workInfoData.employerService.gender?"男性":"Female"==o.workInfoData.employerService.gender?"女性":"不指定"),1)]),(0,n._)("div",I,[D,(0,n._)("div",P,(0,i.zw)(o.workInfoData.employerService?.seniority?.name),1)]),(0,n._)("div",S,[$,(0,n._)("div",C,(0,i.zw)(o.workInfoData.employerService.languageInfo.join("、")),1)]),(0,n._)("div",N,[z,o.workInfoData.employerService?.license?.name?((0,n.wg)(),(0,n.iD)("div",H,(0,i.zw)(o.workInfoData.employerService.license.name),1)):(0,n.kq)("",!0),o.workInfoData.employerService?.license?.name?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",O,"無"))])])]),(0,n._)("div",x,[T,(0,n._)("div",L,[(0,n._)("div",E,[J,(0,n._)("div",j,(0,i.zw)(o.workInfoData.disabledPerson.name),1)]),(0,n._)("div",G,[M,(0,n._)("div",q,(0,i.zw)("Female"==o.workInfoData.disabledPerson.gender?"女性":"男性"),1)]),(0,n._)("div",A,[B,(0,n._)("div",F,(0,i.zw)(o.workInfoData.disabledPerson.age)+"歲",1)]),(0,n._)("div",U,[W,(0,n._)("div",Y,(0,i.zw)(o.workInfoData.disabledPerson.height)+"公分",1)]),(0,n._)("div",Z,[V,(0,n._)("div",Q,(0,i.zw)(o.workInfoData.disabledPerson.weight)+"公斤",1)]),(0,n._)("div",K,[R,(0,n._)("div",X,(0,i.zw)(o.workInfoData.disabledPerson.relationship),1)]),(0,n._)("div",ee,[te,(0,n._)("div",ae,(0,i.zw)(o.workInfoData.disabledPerson.abilityToActInfo.join("、")),1)]),(0,n._)("div",ne,[ie,"居家"==o.workInfoData.disabledPerson.servicePlace.placeType.id?((0,n.wg)(),(0,n.iD)("div",oe,(0,i.zw)(o.workInfoData.disabledPerson.servicePlace.city.name)+(0,i.zw)(o.workInfoData.disabledPerson.servicePlace.area.name),1)):(0,n.kq)("",!0),"居家"!=o.workInfoData.disabledPerson.servicePlace.placeType.id?((0,n.wg)(),(0,n.iD)("div",se,(0,i.zw)(o.workInfoData.disabledPerson.servicePlace.place.name),1)):(0,n.kq)("",!0)])])]),(0,n._)("div",le,[re,(0,n._)("div",ce,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.workInfoData.disabledPerson.disease,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"main2",key:e.name},[(0,n._)("div",de,(0,i.zw)(e.diseaseName),1),(0,n._)("div",ue,(0,i.zw)(e.symptom.join("、")),1)])))),128)),0==o.workInfoData.disabledPerson.disease.length?((0,n.wg)(),(0,n.iD)("div",fe,"無病症資料")):(0,n.kq)("",!0)])]),(0,n._)("div",ve,[ge,(0,n._)("div",pe,[(0,n._)("div",we,[(0,n._)("div",me,(0,i.zw)(o.workInfoData.employerService.serviceInfo.join("、")),1)])])]),(0,n._)("div",ke,[(0,n._)("div",he,[0==o.workInfoData.isApply?((0,n.wg)(),(0,n.iD)("div",ye,[(0,n._)("button",{class:"btn btn-outline-primary",type:"button",onClick:t[0]||(t[0]=(...e)=>o.apply&&o.apply(...e))},"主動應徵")])):(0,n.kq)("",!0),1==o.workInfoData.isApply?((0,n.wg)(),(0,n.iD)("div",_e,[(0,n._)("button",{class:"btn btn-outline-primary",type:"button",onClick:t[1]||(t[1]=(...e)=>o.apply&&o.apply(...e))},"已應徵")])):(0,n.kq)("",!0)])])])):(0,n.kq)("",!0)],64)}a(7658);var Ie=a(9799),De=a(2262),Pe=a(4988),Se=a(2863),$e=a(1557),Ce=a(1830),Ne=a(1120),ze=a(4477),He={setup(){const e=(0,ze.LM)(),t=(0,De.iH)({}),a=(0,Pe.nN)().urlId,i=(0,De.iH)({});let o="";const s=async()=>{let e=await(0,Ce.pe)();e=e.data;let n=e.filter((e=>e.title==t.value.employerService.name));0==n.length?(0,$e.FN)("請先新增該類別履歷"):Ne.N.push({path:`/work/apply/${a}/${n[0].id}`})};return(0,n.wF)((async()=>{t.value=await(0,Ce.Oe)({id:a}),t.value=t.value.data;let n=(0,Pe.Qr)(t.value.workdays);t.value.newDates=n.newDates,t.value.info=n.info,t.value.time=n.time,t.value.monthInfo=Object.keys(t.value.info),t.value.employerService.languageInfo=[],t.value.employerService.language?.length>0&&t.value.employerService.language.forEach((e=>{t.value.employerService.languageInfo.push(e.name)})),t.value.disabledPerson.abilityToActInfo=[],t.value.disabledPerson.abilityToAct?.length>0&&t.value.disabledPerson.abilityToAct.forEach((e=>{t.value.disabledPerson.abilityToActInfo.push(e.name)})),t.value.employerService.serviceInfo=[],t.value.employerService.service?.length>0&&t.value.employerService.service.forEach((e=>{t.value.employerService.serviceInfo.push(e.name)})),void 0==e.userName?(i.value=await(0,Ce.YG)(),i.value=i.value.data,e.userName=i.value):i.value=e.userName,o=(0,Se.ij)(i.value.phoneNumber)})),{workInfoData:t,apply:s}},components:{Header:Ie.Z}},Oe=a(3744);const xe=(0,Oe.Z)(He,[["render",be],["__scopeId","data-v-2ccf32d1"]]);var Te=xe}}]);
//# sourceMappingURL=2868.4cc344a2.js.map