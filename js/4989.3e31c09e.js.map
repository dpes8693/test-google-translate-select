{"version":3,"file":"js/4989.3e31c09e.js","mappings":"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","sources":["webpack://nubk_cli/./src/view/order/orderAdd.vue","webpack://nubk_cli/./src/view/order/orderAdd.vue?120d"],"sourcesContent":["<script>\r\nimport Header from \"../../components/global/header/HeaderArea2.vue\"\r\nimport CalendarModule from '../order/components/CalendarModule.vue'\r\nimport { ref, onMounted } from 'vue'\r\nimport { useRouter } from \"vue-router\"\r\nimport { Toast } from '../../components/global/swal'\r\nimport { timeHandle, errorHandle } from '@/utils/handle'\r\nimport { apiGetCareRecipientList, apiGetServiceList, apiPostWorkOrderInfo, apiGetCaretakerList, apiGetJobType } from \"@/api/api\"\r\nimport { useJobStore } from '@/store/global'\r\nimport { focusInput } from '@/utils/fixFooter'\r\n// import { ExtCall } from \"@/utils/extCall\"\r\n\r\nexport default {\r\n  setup() {\r\n        \r\n    const jobStore = useJobStore()\r\n    const router = useRouter()\r\n    const postData = ref({\r\n      \"isPublic\": 1,\r\n      \"isFullDay\": 0,\r\n      \"disabledPersonId\": undefined,\r\n      \"serviceId\": undefined,\r\n      \"workdays\": [],\r\n      \"workDate\": [],\r\n      \"startTime\": undefined,\r\n      \"endTime\": undefined,\r\n      \"caretakerResumeId\": []\r\n    })\r\n    let favData = ref([])\r\n    let inviteData = ref([])\r\n    const careRecipientList = ref([])\r\n    const requireList = ref([])\r\n    // 時間區間\r\n    const timeList = []\r\n    timeHandle(timeList)\r\n\r\n    onMounted(async () => {\r\n      focusInput()\r\n      //被照顧者、服務需求列表\r\n      careRecipientList.value = await apiGetCareRecipientList({ page: 1, limit: 100 })\r\n      careRecipientList.value = careRecipientList.value.data.data\r\n      requireList.value = await apiGetServiceList({ page: 1, limit: 100 })\r\n      requireList.value = requireList.value.data.data\r\n    })\r\n\r\n    let jobTypeList = []\r\n    let jobType = {}\r\n    let jobTypeId = 1\r\n    const updateJobTypeId = async (value) => {\r\n      if (jobStore.jobTypeList == undefined) {\r\n        // call api\r\n        jobTypeList = await apiGetJobType()\r\n        jobTypeList = jobTypeList.data.data\r\n        jobStore.jobTypeList = jobTypeList.value\r\n      } else {\r\n        jobTypeList = jobStore.jobTypeList\r\n      }\r\n      jobType = requireList.value.filter(x => x.id == postData.value.serviceId)\r\n      jobTypeId = jobTypeList.filter(x => x.name == jobType[0].name)\r\n      jobTypeId = jobTypeId[0].id\r\n    }\r\n    const loadFavData = async () => {\r\n      //最愛看護列表\r\n      favData.value = await apiGetCaretakerList({ page: 1, limit: 100, isFavorite: 1, jobTypeId: jobTypeId })\r\n      favData.value = favData.value.data.data\r\n      // console.log(favData.value)\r\n    }\r\n\r\n    const checkInvite = () => {\r\n      inviteData.value = favData.value.filter(x => postData.value.caretakerResumeId.includes(x.id))\r\n      // console.log(inviteData.value)\r\n    }\r\n    const cancel = () => {\r\n      postData.value.caretakerResumeId = []\r\n      inviteData.value = []\r\n    }\r\n\r\n    const updateWorkDate = (val) => {\r\n      postData.value.workDate = val\r\n      // console.log(val)\r\n    }\r\n\r\n    const save = async () => {\r\n      // console.log(postData.value)\r\n      if (!postData.value.disabledPersonId) {\r\n        Toast(\"請選擇被照護者\")\r\n      } else if (!postData.value.serviceId) {\r\n        Toast(\"請選擇服務需求\")\r\n      } else if (postData.value.workDate?.length == 0) {\r\n        Toast(\"請選擇日期\")\r\n      } else if (!postData.value.startTime) {\r\n        Toast(\"請選擇時間\")\r\n      } else if (!postData.value.endTime && postData.value.isFullDay == 0) {\r\n        Toast(\"請選擇時間\")\r\n      } else {\r\n        postData.value.workdays = []\r\n        //處理workdays\r\n        if (postData.value.isFullDay == 0) {\r\n          postData.value.workDate.forEach(x => {\r\n            postData.value.workdays.push({\r\n              \"start\": `${x} ${postData.value.startTime}:00`,\r\n              \"end\": `${x} ${postData.value.endTime}:00`\r\n            })\r\n          })\r\n        } else {\r\n          postData.value.workDate.forEach(x => {\r\n            let tomorrow = new Date(Date.parse(x) + 1000 * 60 * 60 * 24)\r\n            postData.value.workdays.push({\r\n              \"start\": `${x} ${postData.value.startTime}:00`,\r\n              \"end\": `${tomorrow.getFullYear()}-${tomorrow.getMonth() + 1}-${tomorrow.getDate()} ${postData.value.startTime}:00`\r\n            })\r\n          })\r\n        }\r\n        let msg = await apiPostWorkOrderInfo(postData.value)\r\n        if (msg.status == true) {\r\n          Toast(\"新增成功\")\r\n          router.push({ path: \"/order/list\" })\r\n        } else {\r\n          let errorMsg = errorHandle(msg)\r\n          Toast(errorMsg)\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    return {\r\n      save, careRecipientList, requireList, postData, timeList,\r\n      favData, inviteData, checkInvite, cancel, updateWorkDate, loadFavData, updateJobTypeId\r\n    }\r\n  },\r\n  components: {\r\n    Header, CalendarModule\r\n  },\r\n}\r\n</script>\r\n\r\n<template>\r\n  <Header title=\"新增工單\" path=\"/order/list\" />\r\n  <div class=\"orderAdd\">\r\n    <div class=\"title\">\r\n      <p>新增工單</p>\r\n    </div>\r\n    <hr>\r\n\r\n    <div class=\"mb-3\">\r\n      <label class=\"form-label\">被照護者<span class=\"star\">*</span></label>\r\n      <select class=\"form-control form-select\" v-model=postData.disabledPersonId required>\r\n        <option value=undefined disabled>請選擇被照護者</option>\r\n        <option v-for=\"item in careRecipientList\" :key=\"'A' + item.id\" :value=\"item.id\">{{ item.name }}</option>\r\n      </select>\r\n    </div>\r\n    <div class=\"mb-3\">\r\n      <label class=\"form-label\">服務需求<span class=\"star\">*</span></label>\r\n      <select class=\"form-control form-select\" v-model=postData.serviceId @change=\"updateJobTypeId()\" required>\r\n        <option value=undefined disabled>請選擇服務需求</option>\r\n        <option v-for=\"item in requireList\" :key=\"'B' + item.id\" :value=\"item.id\">{{ item.name }}({{\r\n            item.createTime\r\n        }})\r\n        </option>\r\n      </select>\r\n    </div>\r\n    <div class=\"mb-3\">\r\n      <label class=\"form-label\">照顧日期<span class=\"star\">*</span></label>\r\n      <CalendarModule @update-work-date=\"updateWorkDate\" />\r\n    </div>\r\n    <div class=\"mb-3\">\r\n      <label class=\"form-label\">是否為24小時制<span class=\"star\">*</span></label>\r\n      <div class=\"input-group\">\r\n        <div class=\"col form-check\">\r\n          <input type=\"radio\" class=\"form-check-input\" id=\"yes\" value=1 v-model=postData.isFullDay>\r\n          <label class=\"form-check-label\" for=\"yes\">是</label>\r\n        </div>\r\n        <div class=\"col form-check\">\r\n          <input type=\"radio\" class=\"form-check-input\" id=\"no\" value=0 v-model=postData.isFullDay>\r\n          <label class=\"form-check-label\" for=\"no\">否</label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"mb-3\">\r\n      <label class=\"form-label\">照顧時段<span class=\"star\">*</span></label>\r\n      <div class=\"input-group\" v-if=\"(postData.isFullDay == 0)\">\r\n        <select class=\"col form-control form-select\" v-model=postData.startTime required>\r\n          <option value=\"undefined\" disabled>請選擇開始時間</option>\r\n          <option v-for=\"item in timeList\" :key=\"'C' + item.id\" :value=\"item.time\">{{ item.time }}</option>\r\n        </select>\r\n        <select class=\"col form-control form-select\" v-model=postData.endTime required>\r\n          <option value=\"undefined\" disabled>請選擇結束時間</option>\r\n          <option v-for=\"item in timeList\" :key=\"'D' + item.id\" :value=\"item.time\">{{ item.time }}</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"input-group\" v-if=\"(postData.isFullDay == 1)\">\r\n        <select class=\"col form-control form-select\" v-model=postData.startTime>\r\n          <option value=\"undefined\" disabled>請選擇開始時間</option>\r\n          <option v-for=\"item in timeList\" :key=\"'C' + item.id\" :value=\"item.time\">{{ item.time }}</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    <div class=\"mb-3\">\r\n      <label class=\"form-label\">看護人員</label>\r\n      <div class=\"form-check-inline\">\r\n        <a href=\"javascript:void(0);\" class=\"btn btn-add\" data-bs-toggle=\"modal\" data-bs-target=\"#openCourse\"\r\n          @click=\"loadFavData\">新增邀約</a>\r\n      </div>\r\n      <div class=\"caregiver-outer\">\r\n        <div class=\"card\" v-for=\"item in inviteData\" :key=\"item.id\">\r\n          <div class=\"card-header\">\r\n            <a href=\"javascript:void(0);\" class=\"card-link\">\r\n              <img :src=item.avatarImgUrl class=\"card-img\" onerror=\"this.onerror=null; this.src='https://fakeimg.pl/150x200/'\">\r\n            </a>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <a href=\"javascript:void(0);\" class=\"card-link\">\r\n              <div class=\"card-title\">{{ item.name }}<i\r\n                  :class=\"item.gender == '男性' ? 'far fa-venus' : 'far fa-mars'\"></i></div>\r\n              <div class=\"card-info\">{{ item.age }}歲/{{ item.height }}cm/{{ item.weight }}kg 年資{{ item.Seniority }}\r\n              </div>\r\n              <div class=\"card-license\">{{ item.license.join('、') }}</div>\r\n              <div class=\"card-text\" v-if=\"(item.experience.length > 0)\">照顧經驗：{{ item.experience.join('、') }}</div>\r\n              <div class=\"card-text\" v-if=\"(item.experience.length == 0)\">照顧經驗：無</div>\r\n            </a>\r\n            <!-- <a href=\"javascript:void(0);\" class=\"btn btn-delete\" @click=\"cancelInvite(item.id)\"><i\r\n                class=\"fal fa-times-circle\"></i></a> -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 新增邀約彈窗 -->\r\n    <div class=\"modal fade\" id=\"openCourse\" tabindex=\"-1\" aria-labelledby=\"openModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered\">\r\n        <div class=\"modal-content\" v-if=\"postData.serviceId\">\r\n          <div class=\"modal-body\">\r\n            <div class=\"caregiver-outer\" v-if=\"(favData.length > 0)\">\r\n              <div class=\"card\" v-for=\"item in favData\" :key=\"item.id\">\r\n                <div class=\"card-header\">\r\n                  <a href=\"javascript:void(0);\" class=\"card-link\">\r\n                    <img :src=item.avatarImgUrl class=\"card-img\" v-if=\"(item.avatarImgUrl)\" onerror=\"this.onerror=null; this.src='https://fakeimg.pl/91x121/'\">\r\n                    <img src=\"@/assets/image/noavatar.jpg\" class=\"card-img\" v-if=\"(!item.avatarImgUrl)\">                    \r\n                  </a>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                  <a href=\"javascript:void(0);\" class=\"card-link\">\r\n                    <div class=\"card-title\">{{ item.name }}<i\r\n                        :class=\"item.gender == '男性' ? 'far fa-venus' : 'far fa-mars'\"></i></div>\r\n                    <div class=\"card-info\">{{ item.age }}歲/{{ item.height }}cm/{{ item.weight }}kg 年資{{ item.Seniority\r\n                    }}</div>\r\n                    <div class=\"card-license\">{{ item.license.join('、') }}</div>\r\n                    <div class=\"card-text\" v-if=\"(item.experience.length > 0)\">照顧經驗：{{ item.experience.join('、') }}\r\n                    </div>\r\n                    <div class=\"card-text\" v-if=\"(item.experience.length == 0)\">照顧經驗：無</div>\r\n                  </a>\r\n                  <input type=\"checkbox\" :id=item.id :value=item.id class=\"btn btn-delete checkBtn\"\r\n                    v-model=\"postData.caretakerResumeId\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"caregiver-outer\" v-if=\"(favData.length == 0)\">\r\n              <div class=\"noDataAlert\">請先新增最愛看護清單</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <div class=\"btn-container\">\r\n              <div class=\"row\">\r\n                <div class=\"col\">\r\n                  <button class=\"btn btn-outline-primary\" type=\"button\" data-bs-dismiss=\"modal\"\r\n                    @click=\"checkInvite\">確認選取</button>\r\n                </div>\r\n                <div class=\"col\">\r\n                  <button class=\"btn btn-outline-primary\" type=\"button\" data-bs-dismiss=\"modal\"\r\n                    @click=\"cancel\">全部取消</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-content\" v-if=\"!postData.serviceId\">\r\n          <div class=\"modal-body\">\r\n            <div class=\"caregiver-outer\">\r\n              <div class=\"noDataAlert\">請先選擇服務需求</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <div class=\"btn-container\">\r\n              <div class=\"row\">\r\n                <div class=\"col\">\r\n                  <button class=\"btn btn-outline-primary\" type=\"button\" data-bs-dismiss=\"modal\">確定</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <footer class=\"c-footer\">\r\n    <div class=\"ui-tabbtn\">\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n          <button class=\"btn btn-primary\" type=\"button\" @click=\"save\">完成新增</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </footer>\r\n</template>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/assets/custom/config\";\r\n\r\n\r\nHeader {\r\n  background-color: #FFFFFF;\r\n}\r\n\r\n.orderAdd {\r\n  margin-bottom: calc($footer-height + 15px);\r\n  margin-top: $header-height;\r\n  padding: 1.25rem;\r\n}\r\n\r\n.title {\r\n  font-size: 1.25rem;\r\n  font-weight: 700;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.modal-body {\r\n  max-height: 50vh;\r\n  overflow-y: scroll;\r\n}\r\n\r\n.modal-body::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n.checkBtn {\r\n  margin: 1rem;\r\n}\r\n\r\n.form-check-inline {\r\n  margin-left: 1rem;\r\n}\r\n\r\n.noDataAlert {\r\n  font-size: 1.25rem;\r\n  font-weight: 700;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 0.8rem;\r\n}\r\n</style>","import { render } from \"./orderAdd.vue?vue&type=template&id=4231101b&scoped=true\"\nimport script from \"./orderAdd.vue?vue&type=script&lang=js\"\nexport * from \"./orderAdd.vue?vue&type=script&lang=js\"\n\nimport \"./orderAdd.vue?vue&type=style&index=0&id=4231101b&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Documents\\\\nubk_cli\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4231101b\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","value","disabled","for","href","id","tabindex","src","_imports_0","_hoisted_63","_hoisted_71","_createVNode","_component_Header","title","path","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","$setup","disabledPersonId","required","_hoisted_6","_createElementBlock","_Fragment","item","key","name","_hoisted_8","_hoisted_9","serviceId","onChange","_hoisted_10","createTime","_hoisted_12","_hoisted_13","_component_CalendarModule","onUpdateWorkDate","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","type","isFullDay","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","startTime","_hoisted_24","time","endTime","_hoisted_26","_hoisted_28","_hoisted_29","_hoisted_31","_hoisted_32","_hoisted_33","onClick","_hoisted_34","_hoisted_35","_hoisted_36","avatarImgUrl","onerror","_hoisted_38","_hoisted_39","_hoisted_40","gender","_hoisted_41","age","height","weight","Seniority","_hoisted_42","license","join","experience","length","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","caretakerResumeId","_hoisted_62","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","setup","jobStore","useJobStore","router","useRouter","postData","ref","undefined","favData","inviteData","careRecipientList","requireList","timeList","timeHandle","onMounted","async","focusInput","apiGetCareRecipientList","page","limit","data","apiGetServiceList","jobTypeList","jobType","jobTypeId","updateJobTypeId","apiGetJobType","filter","x","loadFavData","apiGetCaretakerList","isFavorite","checkInvite","includes","cancel","updateWorkDate","val","workDate","save","Toast","workdays","forEach","push","tomorrow","Date","parse","getFullYear","getMonth","getDate","msg","apiPostWorkOrderInfo","status","errorMsg","errorHandle","components","Header","CalendarModule","__exports__","render"],"sourceRoot":""}