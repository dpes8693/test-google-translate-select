"use strict";(self["webpackChunknubk_cli"]=self["webpackChunknubk_cli"]||[]).push([[6639],{9799:function(a,e,t){t.d(e,{Z:function(){return w}});var n=t(6252),i=t(3577);const o=a=>((0,n.dD)("data-v-6d50fb3a"),a=a(),(0,n.Cn)(),a),l={class:"c-header"},r={class:"navbar ui-navbar"},c={class:"navbar-nav"},s=o((()=>(0,n._)("a",{class:"nav-link"},[(0,n._)("i",{class:"fa fa-chevron-left"})],-1))),d=[s],u={class:"navbar-brand"},v={class:"navbar-nav"},p={class:"nav-item"},g={class:"nav-link"};function m(a,e,t,o,s,m){return(0,n.wg)(),(0,n.iD)("header",l,[(0,n._)("nav",r,[(0,n._)("ul",c,[(0,n._)("li",{class:"nav-item",onClick:e[0]||(e[0]=(...a)=>o.backTo&&o.backTo(...a))},d)]),(0,n._)("h1",u,(0,i.zw)(t.title),1),(0,n._)("ul",v,[(0,n._)("li",p,[(0,n._)("a",g,[(0,n._)("i",{class:(0,i.C_)(o.iconCode),onClick:e[1]||(e[1]=(...a)=>o.goto&&o.goto(...a))},[(0,n._)("span",null,(0,i.zw)(o.text),1)],2)])])])])])}t(7658);var h=t(2201),f=t(4477),A={props:{title:String,right:String,path:String,backToPath:String},setup(a){const e=(0,f.s6)(),t=e.goto,n=(0,h.tv)();let i="",o="";const l=a.right?a.right:"";"add"==l&&(i="fa fa-plus",o=" 新增"),"map"==l&&(i="fas fa-map-marker-alt",o=" 地圖"),"text"==l&&(i="far fa-list-ul",o=" 列表"),"search"==l&&(i="far fa-search",o=" 搜尋");const r=()=>{"search"==a.path?console.log("search"):n.push({path:a.path})},c=()=>{if("-1"==a.backToPath)try{t("back")}catch(e){console.log(e),n.back()}else a.backToPath?n.push({path:a.backToPath}):n.push({path:"/home"})};return{iconCode:i,text:o,backTo:c,goto:r}}},I=t(3744);const C=(0,I.Z)(A,[["render",m],["__scopeId","data-v-6d50fb3a"]]);var w=C},1545:function(a,e,t){t.d(e,{Z:function(){return y}});var n=t(6252),i=t(3577),o=t(9963);const l=a=>((0,n.dD)("data-v-72b7ff12"),a=a(),(0,n.Cn)(),a),r={class:"ui-tab selectArea"},c={class:"row"},s={class:"col"},d=l((()=>(0,n._)("option",{selected:""},"請選擇縣市",-1))),u=["value"],v={class:"col"},p=l((()=>(0,n._)("option",{selected:""},"請選擇鄉鎮市區",-1))),g=["value"];function m(a,e,t,l,m,h){return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",c,[(0,n._)("div",s,[(0,n.wy)((0,n._)("select",{class:"form-control form-select","onUpdate:modelValue":e[0]||(e[0]=a=>l.city=a),onChange:e[1]||(e[1]=(...a)=>l.changeCityIdx&&l.changeCityIdx(...a))},[d,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.cityAreaData,(a=>((0,n.wg)(),(0,n.iD)("option",{value:a.id,key:a.id},(0,i.zw)(a.city_name),9,u)))),128))],544),[[o.bM,l.city]])]),(0,n._)("div",v,[(0,n.wy)((0,n._)("select",{class:"form-control form-select","onUpdate:modelValue":e[2]||(e[2]=a=>l.area=a),onChange:e[3]||(e[3]=(...a)=>l.changeAreaIdx&&l.changeAreaIdx(...a))},[p,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.areaList,(a=>((0,n.wg)(),(0,n.iD)("option",{value:a.id,key:a.id},(0,i.zw)(a.area_name),9,g)))),128))],544),[[o.bM,l.area]])])])])}var h=t(2262),f=t(1830),A=t(4477),I={props:{},setup(a,{emit:e}){const t=(0,A.ce)(),i=(0,A.fG)();let o=(0,h.iH)([]),l=(0,h.iH)("請選擇縣市"),r=(0,h.iH)("請選擇鄉鎮市區"),c=(0,h.iH)(0),s=(0,h.iH)(0),d=((0,h.iH)([]),(0,h.iH)([]));const u=a=>{c.value=a.target.value},v=a=>{s.value=a.target.value},p=()=>{e("cityIdx",c)},g=()=>{e("areaIdx",s)};return(0,n.bv)((async()=>{void 0==t.cityAreaList?(o.value=await(0,f.t3)(),o.value=o.value.data,t.cityAreaList=o.value):o.value=t.cityAreaList,0==i.userPosition.cityId?(l.value=1,c.value=1):(l.value=i.userPosition.cityId,c.value=i.userPosition.cityId),d.value=o?.value?.[c.value-1]?.areas})),(0,n.YP)((()=>c.value),(async()=>{d.value=o?.value?.[c.value-1]?.areas,p()})),(0,n.YP)((()=>s.value),(async()=>{g()})),{cityAreaData:o,city:l,area:r,areaList:d,changeCityIdx:u,changeAreaIdx:v}}},C=t(3744);const w=(0,C.Z)(I,[["render",m],["__scopeId","data-v-72b7ff12"]]);var y=w},1185:function(a,e,t){t.d(e,{Z:function(){return v}});var n=t(6252);const i=a=>((0,n.dD)("data-v-05837844"),a=a(),(0,n.Cn)(),a),o=i((()=>(0,n._)("div",{class:"google-map",id:"map"},null,-1))),l=[o];function r(a,e,t,i,o,r){return(0,n.wg)(),(0,n.iD)("div",null,l)}t(7658);var c=t(2262),s={props:{data:Object,icon:String,initial:Array},setup(a){(0,c.qj)(a.data);const e=(0,c.iH)(a.icon);let t=null,i=(0,c.iH)(a.initial[1]),o=(0,c.iH)(a.initial[0]),l=(0,c.qj)([]),r=(0,c.qj)({center:{lat:i.value,lng:o.value},lacation:l});const s=()=>{r.lacation=[],a.data.forEach((a=>{r.lacation.push({id:a.properties.id,name:a.properties.name,lat:a.geometry.coordinates[1],lng:a.geometry.coordinates[0],telephone:a.properties.telephone,address:a.properties.address,website:a.properties.website})}))},d=(a,e)=>(t=new google.maps.Map(document.getElementById("map"),{center:{lat:a,lng:e},zoom:15,maxZoom:20,minZoom:3,streetViewControl:!1,mapTypeControl:!1}),t),u=()=>{r.lacation.forEach((a=>{const n=new google.maps.Marker({position:{lat:a.lat,lng:a.lng},map:t,icon:e.value}),i=new google.maps.InfoWindow({content:`\n                        <div id="content">\n                            <p class="infoHeader" style="color:#8F63CF ; font-size:1rem; font-weight:600;" >${a.name}<a style="margin:0;font-size:0.8rem; font-weight:400;" href='${a.website}'">(網站)</a></p>\n                            <p class="infoBody" style="margin:0;font-size:0.75rem; font-weight:400;" v-if="item.address" >${a.address}\n                                \n                            </p>\n                            \n                        </div>\n                        `,maxWidth:300});n.addListener("click",(()=>{const a=document.querySelector(".gm-style-iw");if(a){const e=a.parentNode.classList[0];document.querySelector(`.${e}`).remove()}i.open(t,n)}))}))};return(0,n.bv)((()=>{d(i.value,o.value),s(),u()})),(0,n.YP)((()=>a.initial),(a=>{i.value=a[1],o.value=a[0],d(i.value,o.value),s(),u()})),(0,n.YP)((()=>a.data),(()=>{a.data[0]&&(i.value=a.data[0].geometry.coordinates[1],o.value=a.data[0].geometry.coordinates[0],d(i.value,o.value),s(),u())})),{map:t,lat:i}}},d=t(3744);const u=(0,d.Z)(s,[["render",r],["__scopeId","data-v-05837844"]]);var v=u},6639:function(a,e,t){t.r(e),t.d(e,{default:function(){return C}});var n=t(6252);const i={class:"hospital"},o={class:"c-main"},l={class:"resource-container"},r={class:"map-container"};function c(a,e,t,c,s,d){const u=(0,n.up)("Header"),v=(0,n.up)("CitySelecter"),p=(0,n.up)("GoogleMap");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(u,{title:"醫院",right:"text",path:"/map/hospital"}),(0,n._)("div",i,[(0,n._)("section",o,[(0,n.Wm)(v,{onCityIdx:c.updateCityIdx,onAreaIdx:c.updateAreaIdx},null,8,["onCityIdx","onAreaIdx"]),(0,n._)("div",l,[(0,n._)("div",r,[(0,n.Wm)(p,{class:"map",data:c.hospitalData2,initial:c.initial,icon:c.ImgUrl},null,8,["data","initial","icon"])])])])])],64)}var s=t(9799),d=t(1545),u=t(2201),v=t(1557),p=t(2262),g=t(1185),m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAHdUlEQVRYhZVXW2xUxxn+/plzW1/WZo3xYmPjWghcQI0aXKAmFRIVoFZN8sJFgVQKqtQWVU2VPkRVHlI5VZpWImmF+lDlAdEmkLQqUUxom4dIJE2hRVGTlNYRjiAQLgbb2HjtPd5zm5lqZtdg79pe+kvjPXPOP////fcxoYzU7O369RBr1kBGEVihAOV5DQp4HErtQJJ0U5JkNZuyrBFi7IKyrHcoin5PUXRHui54Og02MADoVaJyhVY5gAXIko7zEoT4IRsZAaIIKp2GqqsDlAL5fpomJ1eRZX1LLlv2a+W6LxNjTwIIqwquqpqoR3H+Dr91qwFxjHjrViRbtkCuXAlVX19kyefBrl6FdeYM7Pfeg2Lsu6q9fb+ScgeIzt6nkUVStq1dakIhNmzYGe3dq5J161S4Z4/KnT2rxpRSo0qp20qZ57HS88zKnTunwn37VLJ2rQp371aip+dhLUulUmZV2FcBYMeO4i+wNnbdAf7ZZ0i2bYN/6BCk44D7PuT0NFINDXAcx/DGcYzCxAQolYKoqwMTAjVPPw377bchurpgE20gxj404Tp5cvEQqKVLtduRxPGrfHAQorcX+cOHDVI+NgYwBq95Ka7+4U2MnT1nbFjS8wA6Ht+NODdpeFRTE/wXX0RdGMJ6/30kq1e/YnG+TgMoJ1bxJgwhJye/h+HhLxtBzz1XdFVJuQbngDB06q/4+PAv8e/Dv8D1P/XDIV50KGNFXgDTfX1Q2SwwPLxWFgo/IimrAxBBAAkcZKOjCB97DCKbBZtRXiItxlvWjHRqOdK1rfCyLZgjmjFzRjQ1Idi/H+z2bSMzDiuLorIKwvBBED2gli9HvG2bcT1xDrex8S6Lq8PhOFBSQCkCcxx4OnyzeMJcDiSEyR/52muA768hok0Azi0OoK6uh4aGkGzaBNnVBZ7PQyYJxj8+b2re5EC2BeH4BLjnmpDEuRzGbt5CMDIKlNycamsF5wXIFSsgurtNiaKt7aGqAFQYdjPdaFpbTSladbXwh0fwj11PmPBwXUo6m20LqRVt5sz4Bx/h9Ne+acDIMDQ4H/rz61jypfUo6JC1t4N0bkVRZ/UQMNakrVCua7akg6AUxPQ0RCEwz0pKA4zZxeMyEkh8H8QYRFCK86yMV7W1Rc8QpasD0O2TyLTbMmD3lkFG9wYHUeX3WUSFwsz7uCoAAq5p69nNmyYBY9+H3dCAzX88YizXCem1NOPCz3+FGyfeMsqz3/g61vb9BOHoGJSQICh42WWIfB+orQVduwbyXHDCSHUPEF3Qg8b65BPT30V7O3gco6V3810WnfFXmpci0ZYRwc1kkF21CsGqVXd5glwOomSI9+kgkvo0/EheKlc3j7/oI3gedCXYp09DEUEJgcKdO8U1MWFGnIgiEONgnJvnADDfZvhUkpiZkvrbu6ArVzCU2CiE+GdVABSGFyHlh7olO8eP322tmNXF9KFwZAxThZuY8ocQDI/OFSQlZFMTvPwU7FeO4TJPI4zFhUYeD5TrqwxBHOs4n5CZzIP84kXU9PWZWYAlS0Dj4wDn0OnZsn0ryOYgImQ2fwXxTEYKYXh1DdFP+3DtPxcx2dGFVhm84YVJpcPLX4idO3UJdQjL+lwrY5cuIX7kEfgvvFC0fmoKKgjglk3DQE9DHXN9C9IeeuZZTBx9HXFnJ2yLIdtQ0+0QDbpvvbF4CHTXk0JcVcDvzL6zE05/P+oOHIB1/jxkfT1UczNCx8EUYFZg26DmZtjpNOTAACb2HcDYkeNQnSvBGcHh7ISy+KBPFfZWeiB69NEZV+rx+V9T40Rg168DloVo+3Ykvb2QHR3mSqYV2NN5JJ9fQ/70GeT7/wJRCGF1dphepBKBJktsZJAfSAU0/f3dxQHIPXuKH4p3gt/IMPwBaUmcm1HNhofBNCZ9b6ivQ5RI5MenMDk0iiCW4K0tYCkPJCRCCaTrvaMtHj8Qi2IS15zqXxyA2rhx1kal40zmMlwnw6UEY0VviEQiKITw/Qj5SCAkDu454BpkqQULYrp/TLer/Be4bY2IUo66eijNosoq8OwZ5frvJLfZkwljryaJ1KWEQqJQiBWChCCZC6uG4BBmnykCAENDrf2UCPlIIGSxXc9DFQCSpGYuwpHgWE76D4+77l49mIRUuqXCYvML1KELhUI6nDiZUerliNvgle3unvzyFzJTP2evFda71hPj+eir0i90uNrLlZErKodCLAGrtma4Zan3bSsKwWkR7fN2QlvMWcJT8FgcdMSTu5AkSObp3nfBEoNSEdqi0V0WhZPCZlCWmrMqQZeR6uiolKzPyRi5ztX7bqSbjzn6ulUWAgWFyHLRev32dxovf3oEzJo37hQNVwGwYsWCFiIJMdra9cztxpbnnTCYczrSNc7lz5YFzrNI2DySSwr/daoKgIXVF8lxcKNny0tTTu1TdlK8tMRRjHRD/W9be754EEwUpS4giJ4/NGd/v/+c3qMoQg2JHyc2SwUxvq91OUwdrXX5QSzJlMJVef9fiP5/AFq+AlI2O8g5ZSSUZxM7oPTLmfvg/QIA8D+Ae4VsCCLCsgAAAABJRU5ErkJggg==",h=t(1830),f={setup(){(0,u.tv)();let a=m,e=(0,p.iH)([]),t=(0,p.iH)(0),i=(0,p.iH)(0),o=(0,p.iH)([120.6802474,24.158286989]);const l=a=>{t.value=a.value},r=a=>{i.value=a.value};return(0,n.YP)((()=>t.value),(async()=>{e.value=await(0,h.oR)({cityId:t.value}),e.value=e.value.data})),(0,n.YP)((()=>i.value),(async()=>{e.value=await(0,h.bc)({cityId:t.value,areaId:i.value}),0==e.value.data.length&&((0,v.FN)("該區域無資料"),e.value=[]),e.value=e.value.data})),{hospitalData2:e,initial:o,ImgUrl:a,updateCityIdx:l,updateAreaIdx:r}},components:{Header:s.Z,GoogleMap:g.Z,CitySelecter:d.Z}},A=t(3744);const I=(0,A.Z)(f,[["render",c],["__scopeId","data-v-772f2a58"]]);var C=I}}]);
//# sourceMappingURL=6639.e49e37f8.js.map