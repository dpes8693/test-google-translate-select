"use strict";(self["webpackChunknubk_cli"]=self["webpackChunknubk_cli"]||[]).push([[7461],{6186:function(e,a,t){function n(){const e=navigator.userAgent.toLowerCase()||"";let a=navigator.platform.toLowerCase()||"";return a.indexOf("linux")>-1&&e.indexOf("android")>-1&&(a="android"),(a.indexOf("iphone")>-1||a.indexOf("ipad")>-1)&&(a="ios",console.log=function(e){window.webkit.messageHandlers.logger.postMessage(e)}),a}function i(e={}){let a=n()||"";if("android"==a)window.ExtCall.postMessage(e);else{if("ios"!=a)throw new Error(a);window.webkit.messageHandlers.ExtCall.postMessage(e)}}t.d(a,{H6:function(){return u},VU:function(){return d},sX:function(){return s}});const s={openNewWebView:o,replaceSetting:r,goBack:c,toBrowser:l};function o(e=""){const a=JSON.stringify({function:"popWebview",url:e});i(a)}function r(e="",a=""){const t=JSON.stringify({function:"changeProjectSettingURL",userid:e,url:a});i(t)}function l(e=""){const a=JSON.stringify({function:"toBrowser",url:e});i(a)}function c(){const e=JSON.stringify({function:"goBack"});i(e)}const d={lineLogin(e="",a=""){const t=JSON.stringify({function:"lineLogin",channel_id:e,callback:a});i(t)},appleLogin(e=""){const a=JSON.stringify({function:"appleLogin",callback:e});i(a)}},u={startGPS(e=""){const a=JSON.stringify({function:"startGPS",callback:e});i(a)},stopGPS(){const e=JSON.stringify({function:"stopGPS"});i(e)},getCurrentLocation(e=""){const a=JSON.stringify({function:"getCurrentLocation",callback:e});i(a)},getUserLocationHistory(e=""){const a=JSON.stringify({function:"getUserLocationHistory",callback:e});i(a)}}},4988:function(e,a,t){t.d(a,{Cq:function(){return r},Qr:function(){return p},Ux:function(){return c},b$:function(){return o},g7:function(){return f},hB:function(){return v},nN:function(){return l},nV:function(){return w},vL:function(){return u},vW:function(){return y},yv:function(){return g}});t(7658);var n=t(6186),i=t(1830),s=t(4477);const o=e=>"string"==typeof e.message?e.message:"other error",r=e=>{for(let a=0;a<24;a++)e.push({id:a,time:`${a}:00`}),e.push({id:a+1,time:`${a}:30`})},l=()=>{const e=location.href,a=e.split("/"),t=a[a.length-1];return{urlId:t}},c=()=>{const e=location.href,a=e.split("/"),t=a[a.length-2];return{urlId:t}},d=e=>[e.getFullYear(),e.getMonth()+1,e.getDate()],u=e=>e<10?"0"+e:e,p=e=>{let a=JSON.parse(JSON.stringify(e)),t={},n="";return a.forEach((e=>{e.start=new Date(e.start.replace(/-/g,"/")),e.end=new Date(e.end.replace(/-/g,"/")),e.info=d(e.start),t[`${e.info[0]}/${e.info[1]}`]?t[`${e.info[0]}/${e.info[1]}`].push(e.info[2]):t[`${e.info[0]}/${e.info[1]}`]=[e.info[2]]})),n=a[0]?.start.getHours()==a[0]?.end.getHours()?`${a[0]?.start.getHours()}:${u(a[0]?.start.getMinutes())} ~ ${a[0]?.end.getHours()}:${u(a[0]?.end.getMinutes())}(24小時)`:`${a[0]?.start.getHours()}:${u(a[0]?.start.getMinutes())} ~ ${a[0]?.end.getHours()}:${u(a[0]?.end.getMinutes())}`,{newDates:a,info:t,time:n}},v=e=>{let a=JSON.parse(JSON.stringify(e)),t={},n="";return a.forEach((e=>{e.start=new Date(e.start.replace(/-/g,"/")),e.end=new Date(e.end.replace(/-/g,"/")),e.info=d(e.start),t[`${e.info[0]}/${e.info[1]}`]?t[`${e.info[0]}/${e.info[1]}`].push([e.info[2],e.isDone]):t[`${e.info[0]}/${e.info[1]}`]=[[e.info[2],e.isDone]]})),n=a[0]?.start.getHours()==a[0]?.end.getHours()?"全天(24小時)":`${a[0]?.start.getHours()}:${u(a[0]?.start.getMinutes())} ~ ${a[0]?.end.getHours()}:${u(a[0]?.end.getMinutes())}`,{newDates:a,info:t,time:n}},f=e=>{let a=[],t=[],n={},i=[];return e?.length>0&&e.forEach((e=>a.push(e.split("-")))),a.forEach((e=>{let a=`${e[0]}/${e[1]}`;t.push(a),n[a]?n[a].push(e[2]):n[a]=[e[2]]})),t=t.filter(((e,a)=>t.indexOf(e)===a)),1==t.length&&i.push(`${t?.[0]}/${n?.[t?.[0]]?.join("、")}`),t.length>1&&i.push(`${t?.[1]}/${n?.[t?.[1]]?.join("、")}`),{monthInfo:t,dayInfo:n,dateInfo:i}},w=(e,a)=>{let t={};return a.forEach((a=>{let n=parseInt(a.substring(1,3))-1,i=parseInt(a.substring(3,5))-1,s=parseInt(a.substring(5,7))-1;Object.keys(t).includes(e[n].name)||Object.keys(t).includes(e[n].data[i].name)?t[e[n].data[i].name].push(e[n].data[i].data[s]):t[e[n].data[i].name]=[e[n].data[i].data[s]]})),t},g=()=>{try{window.ExtCallStartGPS=()=>!0,n.H6.startGPS("ExtCallStartGPS")}catch(e){}},y=()=>{const e=(0,s.fG)();if(0==e.userPosition.cityId)try{window.ExtCallGetCurrentLocation=async(a,t,n)=>{if("string"===typeof a&&a?.length>6){const a=await(0,i.MP)({longitude:n,latitude:t});console.log("apiGetPosition已發送/"+a.data.defaultPlace.cityName+"/"+a.data.defaultPlace.townName),e.userPosition.cityId=a.data.defaultPlace.cityId,e.userPosition.areaId=a.data.defaultPlace.areaId,e.userPosition.cityId_2=a.data.longTermCare2Place.cityId,e.userPosition.areaId_2=a.data.longTermCare2Place.areaId,console.log(e.userPosition.cityId+"/"+e.userPosition.areaId+"/"+e.userPosition.cityId_2+"/"+e.userPosition.areaId_2)}},n.H6.getCurrentLocation("ExtCallGetCurrentLocation")}catch(a){console.log("電腦版不支援 extCall GPS")}}},351:function(e,a,t){t.d(a,{Z:function(){return p}});var n=t(6252),i=t(9963);const s=e=>((0,n.dD)("data-v-22c0626c"),e=e(),(0,n.Cn)(),e),o=s((()=>(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#4a5568","stroke-width":"1","stroke-linecap":"square","stroke-linejoin":"arcs"},[(0,n._)("path",{d:"M18 15l-6-6-6 6"})],-1))),r=[o];function l(e,a,t,s,o,l){return(0,n.wg)(),(0,n.j4)(i.uT,{name:"fade"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("div",{id:"pagetop",class:"back-to-top",onClick:a[0]||(a[0]=(...e)=>l.toTop&&l.toTop(...e))},r,512),[[i.F8,o.scY>300]])])),_:1})}var c={data(){return{scTimer:0,scY:0}},mounted(){window.addEventListener("scroll",this.handleScroll)},unmounted(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){this.scTimer||(this.scTimer=setTimeout((()=>{this.scY=window.scrollY,clearTimeout(this.scTimer),this.scTimer=0}),100))},toTop(){window.scrollTo({top:0,behavior:"smooth"})}}},d=t(3744);const u=(0,d.Z)(c,[["render",l],["__scopeId","data-v-22c0626c"]]);var p=u},179:function(e,a,t){t.d(a,{Z:function(){return m}});var n=t(6252),i=t(3577),s=t(9963);const o={class:"input-group"},r=(0,n._)("option",{value:"undefined",disabled:""},"請選擇縣市",-1),l=["value"],c=(0,n._)("option",{value:"undefined",disabled:""},"請選擇鄉鎮區",-1),d=["value"];function u(e,a,t,u,p,v){return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.wy)((0,n._)("select",{class:"col form-control form-select","onUpdate:modelValue":a[0]||(a[0]=e=>u.cityIdx=e)},[r,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(u.cityAreaData,(e=>((0,n.wg)(),(0,n.iD)("option",{value:e.id,key:e.id},(0,i.zw)(e.city_name),9,l)))),128))],512),[[s.bM,u.cityIdx]]),(0,n.wy)((0,n._)("select",{class:"col form-control form-select","onUpdate:modelValue":a[1]||(a[1]=e=>u.areaIdx=e)},[c,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(u.areaList,(e=>((0,n.wg)(),(0,n.iD)("option",{value:e.id,key:e.id},(0,i.zw)(e.area_name),9,d)))),128))],512),[[s.bM,u.areaIdx]])])}var p=t(2262),v=t(1830),f=t(4477),w={props:{cityIdx_p:Number||String||void 0,areaIdx_p:Number||String||void 0},setup(e,{emit:a}){const t=(0,f.ce)();let i=(0,p.iH)([]),s=(0,p.iH)(e.cityIdx_p),o=(0,p.iH)(e.areaIdx_p),r=((0,p.iH)([]),(0,p.iH)([]));const l=()=>{a("cityIdx",s)},c=()=>{a("areaIdx",o)};return(0,n.bv)((async()=>{void 0==t.cityAreaList?(i.value=await(0,v.t3)(),i.value=i.value.data,t.cityAreaList=i.value):i.value=t.cityAreaList,void 0!=s.value&&(r.value=i.value[s.value-1].areas)})),(0,n.YP)((()=>s.value),(async()=>{r.value=i?.value?.[s.value-1]?.areas,l()})),(0,n.YP)((()=>o.value),(async()=>{c()})),(0,n.YP)((()=>e.cityIdx_p),(async()=>{s.value=e.cityIdx_p})),(0,n.YP)((()=>e.areaIdx_p),(async()=>{o.value=e.areaIdx_p})),{cityAreaData:i,areaList:r,cityIdx:s,areaIdx:o}}},g=t(3744);const y=(0,g.Z)(w,[["render",u]]);var m=y},1181:function(e,a,t){t.d(a,{Z:function(){return f}});var n=t(6252),i=t.p+"img/nodata.ac65178d.svg";const s=e=>((0,n.dD)("data-v-74e50aab"),e=e(),(0,n.Cn)(),e),o={class:"nodata"},r=s((()=>(0,n._)("img",{src:i,alt:"無資料"},null,-1))),l=s((()=>(0,n._)("p",null,"目前沒有資料",-1))),c=[r,l];function d(e,a){return(0,n.wg)(),(0,n.iD)("div",o,c)}var u=t(3744);const p={},v=(0,u.Z)(p,[["render",d],["__scopeId","data-v-74e50aab"]]);var f=v},353:function(e,a,t){t.d(a,{Z:function(){return d}});var n=t(6252);function i(e,a,t,i,s,o){return(0,n.wg)(),(0,n.iD)("div")}var s=t(2262),o=t(2201),r={setup(){let e=(0,s.iH)(0);return(0,o.iS)(((a,t,n)=>{e.value=window.scrollY||0,n()})),(0,n.dl)((()=>{window.scrollTo({top:e.value,left:0,behavior:"instant"})})),{}},components:{}},l=t(3744);const c=(0,l.Z)(r,[["render",i]]);var d=c},5854:function(e,a,t){t.r(a),t.d(a,{default:function(){return Ue}});t(7658);var n=t(6252),i=t(3577);const s=e=>((0,n.dD)("data-v-5c2d5ab0"),e=e(),(0,n.Cn)(),e),o={class:"workList"},r={class:"c-main"},l={class:"work-container"},c={key:1},d={class:"card-header"},u=["onClick"],p={class:"card-title"},v={key:0,class:"far fa-mars"},f={key:1,class:"far fa-venus"},w={class:"card-item"},g={class:"btn btn-item"},y={class:"btn btn-item"},m=["onClick"],h={class:"card-link"},k={key:0,class:"card-date"},_={class:"d-flex"},b=s((()=>(0,n._)("div",{class:"col-left"},"照顧日期：",-1))),I={class:"col-right"},D={key:0,class:"d-flex"},P=s((()=>(0,n._)("div",{class:"col-left"},null,-1))),S={class:"col-right"},x={class:"card-time"},C={key:1,class:"card-location"},L={key:0},$={key:1},T={key:2,class:"card-location"},H={key:0},O={key:1},N={class:"card-info"},j={key:0},q={key:1},z={class:"card-disease"},G={key:0},J={key:1};function E(e,a,t,s,E,Y){const A=(0,n.up)("SaveWindowY"),U=(0,n.up)("SearchWork"),M=(0,n.up)("NoData"),Z=(0,n.up)("BackToTop");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(A),(0,n._)("section",r,[(0,n.Wm)(U,{onParams:s.updateParams},null,8,["onParams"]),(0,n._)("div",l,[s.workListData?.length<=0?((0,n.wg)(),(0,n.j4)(M,{key:0})):(0,n.kq)("",!0),s.workListData?.length?((0,n.wg)(),(0,n.iD)("div",c,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.workListData,(a=>((0,n.wg)(),(0,n.iD)("div",{class:"card",key:a.workOrderId},[(0,n._)("div",d,[(0,n._)("a",{onClick:t=>e.$router.push({path:`/work/info/${a.workOrderId}`}),class:"card-link"},[(0,n._)("div",p,["Male"==a.disabledPerson.gender?((0,n.wg)(),(0,n.iD)("i",v)):(0,n.kq)("",!0),"Female"==a.disabledPerson.gender?((0,n.wg)(),(0,n.iD)("i",f)):(0,n.kq)("",!0)]),(0,n._)("div",w,[(0,n._)("div",g,(0,i.zw)(a.hours)+"小時",1),(0,n._)("div",y,(0,i.zw)(a.servicePlace.placeType.name),1)])],8,u)]),(0,n._)("div",{onClick:t=>e.$router.push({path:`/work/info/${a.workOrderId}`}),class:"card-body"},[(0,n._)("a",h,[a.monthInfo?((0,n.wg)(),(0,n.iD)("div",k,[(0,n._)("div",_,[b,(0,n._)("div",I,(0,i.zw)(a?.monthInfo?.[0])+"/"+(0,i.zw)(a?.info?.[a?.monthInfo?.[0]].join("、")),1)]),2==a.monthInfo.length?((0,n.wg)(),(0,n.iD)("div",D,[P,(0,n._)("div",S,(0,i.zw)(a?.monthInfo?.[1])+"/"+(0,i.zw)(a?.info?.[a?.monthInfo?.[1]].join("、")),1)])):(0,n.kq)("",!0)])):(0,n.kq)("",!0),(0,n._)("div",x,"服務時段："+(0,i.zw)(a.time),1),"居家"==a.servicePlace.placeType.name?((0,n.wg)(),(0,n.iD)("div",C,[a.servicePlace?((0,n.wg)(),(0,n.iD)("span",L," 服務地點："+(0,i.zw)(a.servicePlace.city.name)+(0,i.zw)(a.servicePlace.area.name),1)):(0,n.kq)("",!0),a.servicePlace?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",$," 服務地點：無 "))])):(0,n.kq)("",!0),"居家"!=a.servicePlace.placeType.name?((0,n.wg)(),(0,n.iD)("div",T,[a.servicePlace?((0,n.wg)(),(0,n.iD)("span",H," 服務地點："+(0,i.zw)(a.servicePlace.place.name),1)):(0,n.kq)("",!0),a.servicePlace?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",O," 服務地點：無 "))])):(0,n.kq)("",!0),(0,n._)("div",N,[a.disabledPerson?((0,n.wg)(),(0,n.iD)("span",j," 被照顧者資訊："+(0,i.zw)(a.disabledPerson.age)+"歲/"+(0,i.zw)(a.disabledPerson.height)+"cm/"+(0,i.zw)(a.disabledPerson.weight)+"kg",1)):(0,n.kq)("",!0),a.disabledPerson?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",q,"被照顧者資訊：無"))]),(0,n._)("div",z,[a.diseaseList?((0,n.wg)(),(0,n.iD)("span",G,"被照顧者病症："+(0,i.zw)(a.diseaseList.join("、")),1)):(0,n.kq)("",!0),a.diseaseList?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",J,"被照顧者病症：無"))])])],8,m)])))),128))])):(0,n.kq)("",!0)])]),(0,n.Wm)(Z)])}var Y=t(2262),A=t(4988),U=t(1181),M=t(1830),Z=t(2863),B=t(9963);const W=e=>((0,n.dD)("data-v-07c0870b"),e=e(),(0,n.Cn)(),e),K={class:"ui-tab"},V={class:"row"},F={class:"col"},Q=W((()=>(0,n._)("i",{class:"far fa-search"},null,-1))),R={class:"col"},X=W((()=>(0,n._)("i",{class:"far fa-sort-amount-down"},null,-1))),ee={class:"col"},ae=W((()=>(0,n._)("i",{class:"far fa-window-close"},null,-1))),te=W((()=>(0,n._)("i",{class:"far fa-window-close"},null,-1))),ne={key:0},ie={class:"row d-flex justify-content-between"},se=W((()=>(0,n._)("div",{class:"col-5"},[(0,n._)("label",{class:"form-label"},"請輸入關鍵字")],-1))),oe={class:"col text-end"},re=W((()=>(0,n._)("i",{class:"far fa-filter"},null,-1))),le={class:"custom-filter-text"},ce={class:"mb-3"},de={key:0},ue={class:"mb-3"},pe=W((()=>(0,n._)("label",{class:"form-label"},[(0,n.Uk)("縣市"),(0,n._)("span",{class:"star"})],-1))),ve=W((()=>(0,n._)("label",{class:"form-label"},"服務類別(可複選)",-1))),fe={class:"input-list"},we=["value","id"],ge=["for"],ye={key:1},me={class:"container"},he={class:"input-pill"},ke={class:"row d-flex justify-content-center align-center text-center"},_e=["value","id"],be=["for"],Ie={class:"row"},De=["value","id"],Pe=["for"],Se={class:"sticky mt-4b btn-container searchBtn"},xe={class:"row mb-2"},Ce={class:"col"},Le=W((()=>(0,n._)("div",null,"剩下的高度",-1)));function $e(e,a,t,s,o,r){const l=(0,n.up)("CitySelecter");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",K,[(0,n._)("div",V,[(0,n._)("div",F,[(0,n._)("a",{onClick:a[0]||(a[0]=e=>s.btnSwitch("search"))},[Q,(0,n.Uk)("搜尋")])]),(0,n._)("div",R,[(0,n._)("a",{onClick:a[1]||(a[1]=e=>s.btnSwitch("sort"))},[X,(0,n.Uk)("排序")])]),(0,n._)("div",ee,[s.showPopup?((0,n.wg)(),(0,n.iD)("a",{key:0,onClick:a[2]||(a[2]=(...e)=>s.closePop&&s.closePop(...e))},[ae,(0,n.Uk)("關閉")])):(0,n.kq)("",!0),s.showPopup?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("a",{key:1,onClick:a[3]||(a[3]=(...e)=>s.clearAllParam&&s.clearAllParam(...e))},[te,(0,n.Uk)("清除條件")]))])])]),""!=s.showPopup?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"popup",onClick:a[11]||(a[11]=e=>s.closePopPrevent(1))},[(0,n._)("div",{class:(0,i.C_)(s.searchAreaClass),onClick:a[10]||(a[10]=(0,B.iM)((e=>s.closePopPrevent(0)),["stop"]))},["search"==s.showPopup?((0,n.wg)(),(0,n.iD)("div",ne,[(0,n._)("div",ie,[se,(0,n._)("div",oe,[(0,n._)("a",{onClick:a[4]||(a[4]=(...e)=>s.handleGreatSearchClick&&s.handleGreatSearchClick(...e))},[re,(0,n._)("span",le,(0,i.zw)(s.isGreatSearch?"精簡":"進階"),1)])])]),(0,n._)("div",ce,[(0,n.wy)((0,n._)("input",{type:"text",class:"form-control mt-1",placeholder:"ex: 心臟病","onUpdate:modelValue":a[5]||(a[5]=e=>s.params.keyword=e)},null,512),[[B.nr,s.params.keyword]])]),s.isGreatSearch?((0,n.wg)(),(0,n.iD)("div",de,[(0,n._)("div",ue,[pe,(0,n.Wm)(l,{onCityIdx:s.updateCityIdx,onAreaIdx:s.updateAreaIdx,cityIdx_p:s.params.cityId,areaIdx_p:s.params.areaId},null,8,["onCityIdx","onAreaIdx","cityIdx_p","areaIdx_p"])]),(0,n._)("div",null,[ve,(0,n._)("div",fe,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.jobTypeList,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"form-check-inline",key:e.id},[(0,n.wy)((0,n._)("input",{type:"checkbox",class:"form-check-input",value:e.id,id:`job${e.id}`,"onUpdate:modelValue":a[6]||(a[6]=e=>s.params.jobTypeId=e)},null,8,we),[[B.e8,s.params.jobTypeId]]),(0,n._)("label",{class:"form-check-label",for:`job${e.id}`},(0,i.zw)(e.name),9,ge)])))),128))])])])):(0,n.kq)("",!0)])):(0,n.kq)("",!0),"sort"==s.showPopup?((0,n.wg)(),(0,n.iD)("div",ye,[(0,n._)("div",me,[(0,n._)("div",he,[(0,n._)("div",ke,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.sortType,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"form-check col",key:e.id},[(0,n.wy)((0,n._)("input",{type:"radio",value:e.name,id:e.id,"onUpdate:modelValue":a[7]||(a[7]=e=>s.params.orderType=e),class:"custom-radio"},null,8,_e),[[B.G2,s.params.orderType]]),(0,n._)("label",{for:e.id,class:"custom-filter-text"},(0,i.zw)(e.showText),9,be)])))),128))]),(0,n._)("div",Ie,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.sortingData,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"col-4 form-check",key:e.id},[(0,n.wy)((0,n._)("input",{type:"radio",class:"form-check-input",value:e.id,id:e.id,"onUpdate:modelValue":a[8]||(a[8]=e=>s.params.orderBy=e)},null,8,De),[[B.G2,s.params.orderBy]]),(0,n._)("label",{class:"form-check-label",for:e.id},(0,i.zw)(e.name),9,Pe)])))),128))])])])])):(0,n.kq)("",!0),(0,n._)("div",Se,[(0,n._)("div",xe,[(0,n._)("div",Ce,[(0,n._)("button",{class:"btn btn-secondary",type:"button",onClick:a[9]||(a[9]=(...e)=>s.applyKeywordSearch&&s.applyKeywordSearch(...e))}," 套用 ")])])])],2),Le])):(0,n.kq)("",!0)])}var Te=t(179),He=t(1557),Oe=t(2201),Ne=t(4477),je={props:{},setup(e,{emit:a}){const t=(0,Ne.dU)(),i=(0,Y.iH)({});let s=(0,Y.iH)("");const o=(0,Y.iH)(!1),r=(e="")=>{s.value!==e?s.value=e:s.value=""},l=async()=>{a("params",d.value),v()},c={page:1,limit:10,keyword:"",orderBy:"updatedDate",jobTypeId:[],cityId:void 0,areaId:void 0,orderType:"DESC"};let d=(0,Y.iH)(JSON.parse(JSON.stringify(c)));const u=e=>{d.value.cityId=e.value,d.value.areaId=void 0},p=e=>{d.value.areaId=e.value},v=()=>{s.value=""},f=()=>{const e=JSON.stringify(c),t=JSON.stringify(d.value);t===e?(0,He.FN)("請更新搜尋條件"):(d.value=JSON.parse(JSON.stringify(c)),d.value.cityId=void 0,d.value.areaId=void 0,console.log(d),a("params",d.value))};(0,Oe.iS)(((e,a,t)=>{document.body.style.overflow="auto",t()})),(0,n.bv)((async()=>{t.jobTypeList?i.value=t.jobTypeList:(i.value=await(0,M.Dr)(),i.value=i.value.data.data,t.jobTypeList=i.value)})),(0,n.YP)((()=>s.value),(()=>{""!==s.value?document.body.style.overflow="hidden":document.body.style.overflow="auto"}));const w=()=>{o.value=!o.value},g=(0,n.Fl)((()=>{let e="search-area h-25";return"search"==s.value?e=o.value?"search-area h-49":"search-area h-25":"sort"==s.value&&(e="search-area h-22"),e})),y=[{id:"ASC",name:"ASC",showText:"遞增(由小到大)"},{id:"DESC",name:"DESC",showText:"遞減(由大到小)"}],m=[{id:"updatedDate",name:"更新時間"},{id:"createdDate",name:"建立時間"}],h=e=>{1===e&&v()};return{params:d,showPopup:s,btnSwitch:r,updateCityIdx:u,updateAreaIdx:p,applyKeywordSearch:l,closePop:v,closePopPrevent:h,clearAllParam:f,isGreatSearch:o,handleGreatSearchClick:w,searchAreaClass:g,sortingData:m,sortType:y,jobTypeList:i}},components:{CitySelecter:Te.Z}},qe=t(3744);const ze=(0,qe.Z)(je,[["render",$e],["__scopeId","data-v-07c0870b"]]);var Ge=ze,Je=t(351),Ee=t(353),Ye={name:"workList_",setup(){const e=(0,Y.iH)([]),a=10,t=(0,Y.iH)(1);let i=0,s=null;(0,n.bv)((async()=>{e.value=await(0,M.fu)({page:1,limit:a}),i=e.value.data.total,e.value=e.value.data.list,o(e.value),s=setInterval((()=>{(0,Z.CL)()&&e.value?.length<i&&r()}),500)}));const o=e=>{if(e.length<=0)return[];e.forEach((e=>{let a=(0,A.Qr)(e.workdays);e.newDates=a.newDates,e.info=a.info,e.time=a.time,e.monthInfo=Object.keys(e.info),e.diseaseList=[],e.disease.forEach((a=>e.diseaseList.push(a.diseaseName)))}))},r=async()=>{t.value+=1;let n=(0,Y.iH)();n.value=await(0,M.fu)({page:t.value,limit:a}),e.value=e.value.concat(n.value.data.list),o(e.value)};(0,n.Ah)((()=>clearInterval(s)));const l=async n=>{t.value=1;const s={...n,page:t.value,limit:a},r=await(0,M.fu)(s);if(r.status){const a=r.data.list||[];i=r.data.total,e.value=a,o(e.value)}};return{workListData:e,updateParams:l}},components:{NoData:U.Z,SearchWork:Ge,BackToTop:Je.Z,SaveWindowY:Ee.Z}};const Ae=(0,qe.Z)(Ye,[["render",E],["__scopeId","data-v-5c2d5ab0"]]);var Ue=Ae}}]);
//# sourceMappingURL=7461.5fbf05ca.js.map