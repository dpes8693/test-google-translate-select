"use strict";(self["webpackChunknubk_cli"]=self["webpackChunknubk_cli"]||[]).push([[3187],{9799:function(a,e,t){t.d(e,{Z:function(){return C}});var n=t(6252),i=t(3577);const l=a=>((0,n.dD)("data-v-6d50fb3a"),a=a(),(0,n.Cn)(),a),o={class:"c-header"},r={class:"navbar ui-navbar"},c={class:"navbar-nav"},s=l((()=>(0,n._)("a",{class:"nav-link"},[(0,n._)("i",{class:"fa fa-chevron-left"})],-1))),u=[s],d={class:"navbar-brand"},v={class:"navbar-nav"},p={class:"nav-item"},g={class:"nav-link"};function m(a,e,t,l,s,m){return(0,n.wg)(),(0,n.iD)("header",o,[(0,n._)("nav",r,[(0,n._)("ul",c,[(0,n._)("li",{class:"nav-item",onClick:e[0]||(e[0]=(...a)=>l.backTo&&l.backTo(...a))},u)]),(0,n._)("h1",d,(0,i.zw)(t.title),1),(0,n._)("ul",v,[(0,n._)("li",p,[(0,n._)("a",g,[(0,n._)("i",{class:(0,i.C_)(l.iconCode),onClick:e[1]||(e[1]=(...a)=>l.goto&&l.goto(...a))},[(0,n._)("span",null,(0,i.zw)(l.text),1)],2)])])])])])}t(7658);var f=t(2201),h=t(4477),A={props:{title:String,right:String,path:String,backToPath:String},setup(a){const e=(0,h.s6)(),t=e.goto,n=(0,f.tv)();let i="",l="";const o=a.right?a.right:"";"add"==o&&(i="fa fa-plus",l=" 新增"),"map"==o&&(i="fas fa-map-marker-alt",l=" 地圖"),"text"==o&&(i="far fa-list-ul",l=" 列表"),"search"==o&&(i="far fa-search",l=" 搜尋");const r=()=>{"search"==a.path?console.log("search"):n.push({path:a.path})},c=()=>{if("-1"==a.backToPath)try{t("back")}catch(e){console.log(e),n.back()}else a.backToPath?n.push({path:a.backToPath}):n.push({path:"/home"})};return{iconCode:i,text:l,backTo:c,goto:r}}},y=t(3744);const I=(0,y.Z)(A,[["render",m],["__scopeId","data-v-6d50fb3a"]]);var C=I},1545:function(a,e,t){t.d(e,{Z:function(){return w}});var n=t(6252),i=t(3577),l=t(9963);const o=a=>((0,n.dD)("data-v-72b7ff12"),a=a(),(0,n.Cn)(),a),r={class:"ui-tab selectArea"},c={class:"row"},s={class:"col"},u=o((()=>(0,n._)("option",{selected:""},"請選擇縣市",-1))),d=["value"],v={class:"col"},p=o((()=>(0,n._)("option",{selected:""},"請選擇鄉鎮市區",-1))),g=["value"];function m(a,e,t,o,m,f){return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",c,[(0,n._)("div",s,[(0,n.wy)((0,n._)("select",{class:"form-control form-select","onUpdate:modelValue":e[0]||(e[0]=a=>o.city=a),onChange:e[1]||(e[1]=(...a)=>o.changeCityIdx&&o.changeCityIdx(...a))},[u,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.cityAreaData,(a=>((0,n.wg)(),(0,n.iD)("option",{value:a.id,key:a.id},(0,i.zw)(a.city_name),9,d)))),128))],544),[[l.bM,o.city]])]),(0,n._)("div",v,[(0,n.wy)((0,n._)("select",{class:"form-control form-select","onUpdate:modelValue":e[2]||(e[2]=a=>o.area=a),onChange:e[3]||(e[3]=(...a)=>o.changeAreaIdx&&o.changeAreaIdx(...a))},[p,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.areaList,(a=>((0,n.wg)(),(0,n.iD)("option",{value:a.id,key:a.id},(0,i.zw)(a.area_name),9,g)))),128))],544),[[l.bM,o.area]])])])])}var f=t(2262),h=t(1830),A=t(4477),y={props:{},setup(a,{emit:e}){const t=(0,A.ce)(),i=(0,A.fG)();let l=(0,f.iH)([]),o=(0,f.iH)("請選擇縣市"),r=(0,f.iH)("請選擇鄉鎮市區"),c=(0,f.iH)(0),s=(0,f.iH)(0),u=((0,f.iH)([]),(0,f.iH)([]));const d=a=>{c.value=a.target.value},v=a=>{s.value=a.target.value},p=()=>{e("cityIdx",c)},g=()=>{e("areaIdx",s)};return(0,n.bv)((async()=>{void 0==t.cityAreaList?(l.value=await(0,h.t3)(),l.value=l.value.data,t.cityAreaList=l.value):l.value=t.cityAreaList,0==i.userPosition.cityId?(o.value=1,c.value=1):(o.value=i.userPosition.cityId,c.value=i.userPosition.cityId),u.value=l?.value?.[c.value-1]?.areas})),(0,n.YP)((()=>c.value),(async()=>{u.value=l?.value?.[c.value-1]?.areas,p()})),(0,n.YP)((()=>s.value),(async()=>{g()})),{cityAreaData:l,city:o,area:r,areaList:u,changeCityIdx:d,changeAreaIdx:v}}},I=t(3744);const C=(0,I.Z)(y,[["render",m],["__scopeId","data-v-72b7ff12"]]);var w=C},1185:function(a,e,t){t.d(e,{Z:function(){return v}});var n=t(6252);const i=a=>((0,n.dD)("data-v-05837844"),a=a(),(0,n.Cn)(),a),l=i((()=>(0,n._)("div",{class:"google-map",id:"map"},null,-1))),o=[l];function r(a,e,t,i,l,r){return(0,n.wg)(),(0,n.iD)("div",null,o)}t(7658);var c=t(2262),s={props:{data:Object,icon:String,initial:Array},setup(a){(0,c.qj)(a.data);const e=(0,c.iH)(a.icon);let t=null,i=(0,c.iH)(a.initial[1]),l=(0,c.iH)(a.initial[0]),o=(0,c.qj)([]),r=(0,c.qj)({center:{lat:i.value,lng:l.value},lacation:o});const s=()=>{r.lacation=[],a.data.forEach((a=>{r.lacation.push({id:a.properties.id,name:a.properties.name,lat:a.geometry.coordinates[1],lng:a.geometry.coordinates[0],telephone:a.properties.telephone,address:a.properties.address,website:a.properties.website})}))},u=(a,e)=>(t=new google.maps.Map(document.getElementById("map"),{center:{lat:a,lng:e},zoom:15,maxZoom:20,minZoom:3,streetViewControl:!1,mapTypeControl:!1}),t),d=()=>{r.lacation.forEach((a=>{const n=new google.maps.Marker({position:{lat:a.lat,lng:a.lng},map:t,icon:e.value}),i=new google.maps.InfoWindow({content:`\n                        <div id="content">\n                            <p class="infoHeader" style="color:#8F63CF ; font-size:1rem; font-weight:600;" >${a.name}<a style="margin:0;font-size:0.8rem; font-weight:400;" href='${a.website}'">(網站)</a></p>\n                            <p class="infoBody" style="margin:0;font-size:0.75rem; font-weight:400;" v-if="item.address" >${a.address}\n                                \n                            </p>\n                            \n                        </div>\n                        `,maxWidth:300});n.addListener("click",(()=>{const a=document.querySelector(".gm-style-iw");if(a){const e=a.parentNode.classList[0];document.querySelector(`.${e}`).remove()}i.open(t,n)}))}))};return(0,n.bv)((()=>{u(i.value,l.value),s(),d()})),(0,n.YP)((()=>a.initial),(a=>{i.value=a[1],l.value=a[0],u(i.value,l.value),s(),d()})),(0,n.YP)((()=>a.data),(()=>{a.data[0]&&(i.value=a.data[0].geometry.coordinates[1],l.value=a.data[0].geometry.coordinates[0],u(i.value,l.value),s(),d())})),{map:t,lat:i}}},u=t(3744);const d=(0,u.Z)(s,[["render",r],["__scopeId","data-v-05837844"]]);var v=d},3187:function(a,e,t){t.r(e),t.d(e,{default:function(){return I}});var n=t(6252);const i={class:"sanatorium"},l={class:"c-main"},o={class:"resource-container"},r={class:"map-container"};function c(a,e,t,c,s,u){const d=(0,n.up)("Header"),v=(0,n.up)("CitySelecter"),p=(0,n.up)("GoogleMap");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(d,{title:"安養中心",right:"text",path:"/map/sanatorium"}),(0,n._)("div",i,[(0,n._)("section",l,[(0,n.Wm)(v,{onCityIdx:c.updateCityIdx,onAreaIdx:c.updateAreaIdx},null,8,["onCityIdx","onAreaIdx"]),(0,n._)("div",o,[(0,n._)("div",r,[(0,n.Wm)(p,{data:c.sanatoriumData,initial:c.initial,icon:c.ImgUrl},null,8,["data","initial","icon"])])])])])],64)}var s=t(9799),u=t(1545),d=t(2201),v=t(1557),p=t(2262),g=t(1185),m="data:image/png;base64,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",f=t(1830),h={setup(){(0,d.tv)();let a=m,e=(0,p.iH)([]),t=(0,p.iH)(0),i=(0,p.iH)(0),l=(0,p.iH)([120.6510083,23.1505262]);const o=a=>{t.value=a.value},r=a=>{i.value=a.value};return(0,n.YP)((()=>t.value),(async()=>{e.value=await(0,f.uu)({cityId:t.value}),e.value=e.value.data})),(0,n.YP)((()=>i.value),(async()=>{e.value=await(0,f.IJ)({cityId:t.value,areaId:i.value}),0==e.value.data.length?((0,v.FN)("該區域無資料"),e.value=[]):e.value=e.value.data})),{sanatoriumData:e,initial:l,ImgUrl:a,updateCityIdx:o,updateAreaIdx:r}},components:{Header:s.Z,GoogleMap:g.Z,CitySelecter:u.Z}},A=t(3744);const y=(0,A.Z)(h,[["render",c],["__scopeId","data-v-70453442"]]);var I=y}}]);
//# sourceMappingURL=3187.6085f850.js.map