"use strict";(self["webpackChunknubk_cli"]=self["webpackChunknubk_cli"]||[]).push([[4787],{6382:function(e,a,l){l.d(a,{Z:function(){return g}});var t=l(6252),i=l(9963),c=l(3577);const s={class:"mb-3"},n=(0,t._)("label",{class:"form-label"},[(0,t.Uk)("行動能力"),(0,t._)("span",{class:"star"},"*")],-1),r={key:0,class:"input-list"},o=["value","id"],d=["for"],u={class:"form-check-inline"},p=["value","id"],v=(0,t._)("label",{class:"form-check-label",for:"act6"},"其他",-1);function y(e,a,l,y,m,_){return(0,t.wg)(),(0,t.iD)("div",s,[n,y.actTypeList.length>0?((0,t.wg)(),(0,t.iD)("div",r,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(y.actTypeList,(e=>((0,t.wg)(),(0,t.iD)("div",{class:"form-check-inline",key:e.id},[(0,t.wy)((0,t._)("input",{type:"checkbox",class:"form-check-input",value:"act"+e.id,id:e.name,"onUpdate:modelValue":a[0]||(a[0]=e=>y.actType=e)},null,8,o),[[i.e8,y.actType]]),(0,t._)("label",{class:"form-check-label",for:e.name},(0,c.zw)(e.name),9,d)])))),128)),(0,t._)("div",u,[(0,t.wy)((0,t._)("input",{type:"checkbox",class:"form-check-input",value:"act"+(y.actTypeList.length+1),id:y.actTypeList.length+1,"onUpdate:modelValue":a[1]||(a[1]=e=>y.actType=e),onChange:a[2]||(a[2]=(...e)=>y.showActInput&&y.showActInput(...e))},null,40,p),[[i.e8,y.actType]]),v])])):(0,t.kq)("",!0),y.isShow?(0,t.wy)(((0,t.wg)(),(0,t.iD)("input",{key:1,type:"text",class:"form-control mt-1",placeholder:"請輸入其他能力","onUpdate:modelValue":a[3]||(a[3]=e=>y.actInput=e)},null,512)),[[i.nr,y.actInput]]):(0,t.kq)("",!0)])}l(7658);var m=l(2262),_=l(1830),k=l(4477),b={props:{actType_p:Object,otherAct_p:String},setup(e,{emit:a}){const l=(0,k.LA)();let i=(0,m.iH)([]),c=(0,m.iH)({}),s=(0,m.iH)(0),n=(0,m.iH)("");const r=()=>{0==s.value?s.value=1:s.value=0},o=()=>{let e=i.value.map((e=>e.replace(/[^0-9]/gi,"")));a("actType",e)},d=()=>{a("actInput",n.value)};return(0,t.bv)((async()=>{void 0==l.actTypeList?(c.value=await(0,_.jh)(),c.value=c.value.data.data,l.actTypeList=c.value):c.value=l.actTypeList,e.actType_p&&e.actType_p.forEach((e=>{i.value.push("act"+e.id)})),e.otherAct_p?.length>0&&(n.value=e.otherAct_p,i.value.push("act"+(c.value.length+1)),s.value=1)})),(0,t.YP)((()=>i.value),(async()=>{o()})),(0,t.YP)((()=>n.value),(async()=>{d()})),{actType:i,isShow:s,showActInput:r,actTypeList:c,actInput:n}}},f=l(3744);const h=(0,f.Z)(b,[["render",y]]);var g=h},179:function(e,a,l){l.d(a,{Z:function(){return b}});var t=l(6252),i=l(3577),c=l(9963);const s={class:"input-group"},n=(0,t._)("option",{value:"undefined",disabled:""},"請選擇縣市",-1),r=["value"],o=(0,t._)("option",{value:"undefined",disabled:""},"請選擇鄉鎮區",-1),d=["value"];function u(e,a,l,u,p,v){return(0,t.wg)(),(0,t.iD)("div",s,[(0,t.wy)((0,t._)("select",{class:"col form-control form-select","onUpdate:modelValue":a[0]||(a[0]=e=>u.cityIdx=e)},[n,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(u.cityAreaData,(e=>((0,t.wg)(),(0,t.iD)("option",{value:e.id,key:e.id},(0,i.zw)(e.city_name),9,r)))),128))],512),[[c.bM,u.cityIdx]]),(0,t.wy)((0,t._)("select",{class:"col form-control form-select","onUpdate:modelValue":a[1]||(a[1]=e=>u.areaIdx=e)},[o,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(u.areaList,(e=>((0,t.wg)(),(0,t.iD)("option",{value:e.id,key:e.id},(0,i.zw)(e.area_name),9,d)))),128))],512),[[c.bM,u.areaIdx]])])}var p=l(2262),v=l(1830),y=l(4477),m={props:{cityIdx_p:Number||String||void 0,areaIdx_p:Number||String||void 0},setup(e,{emit:a}){const l=(0,y.ce)();let i=(0,p.iH)([]),c=(0,p.iH)(e.cityIdx_p),s=(0,p.iH)(e.areaIdx_p),n=((0,p.iH)([]),(0,p.iH)([]));const r=()=>{a("cityIdx",c)},o=()=>{a("areaIdx",s)};return(0,t.bv)((async()=>{void 0==l.cityAreaList?(i.value=await(0,v.t3)(),i.value=i.value.data,l.cityAreaList=i.value):i.value=l.cityAreaList,void 0!=c.value&&(n.value=i.value[c.value-1].areas)})),(0,t.YP)((()=>c.value),(async()=>{n.value=i?.value?.[c.value-1]?.areas,r()})),(0,t.YP)((()=>s.value),(async()=>{o()})),(0,t.YP)((()=>e.cityIdx_p),(async()=>{c.value=e.cityIdx_p})),(0,t.YP)((()=>e.areaIdx_p),(async()=>{s.value=e.areaIdx_p})),{cityAreaData:i,areaList:n,cityIdx:c,areaIdx:s}}},_=l(3744);const k=(0,_.Z)(m,[["render",u]]);var b=k},697:function(e,a,l){l(6252),l(9963),l(3577);l(7658),l(2262),l(1830),l(4477),l(3744)},3809:function(e,a,l){l.r(a),l.d(a,{default:function(){return De}});var t=l(6252),i=l(3577),c=l(9963);const s=e=>((0,t.dD)("data-v-3170b1c2"),e=e(),(0,t.Cn)(),e),n={class:"careRecipientAdd"},r={class:"mb-3 step-container"},o={class:"nav justify-content-center"},d={class:"nav-item"},u=s((()=>(0,t._)("span",null,"1",-1))),p=[u],v={class:"nav-item"},y=s((()=>(0,t._)("span",null,"2",-1))),m=[y],_={class:"nav-item"},k=s((()=>(0,t._)("span",null,"3",-1))),b=[k],f={class:"title"},h=s((()=>(0,t._)("hr",null,null,-1))),g={class:"main"},w={ref:"form1"},T={class:"mb-3"},P=s((()=>(0,t._)("label",{class:"form-label"},[(0,t.Uk)("名稱"),(0,t._)("span",{class:"star"},"*")],-1))),I={class:"mb-3"},D=s((()=>(0,t._)("label",{class:"form-label"},[(0,t.Uk)("性別"),(0,t._)("span",{class:"star"},"*")],-1))),A={class:"input-group"},x={class:"col form-check"},H=s((()=>(0,t._)("label",{class:"form-check-label",for:"Male"},"男性",-1))),U={class:"col form-check"},q=s((()=>(0,t._)("label",{class:"form-check-label",for:"Female"},"女性",-1))),V={class:"mb-3"},C=s((()=>(0,t._)("label",{class:"form-label"},[(0,t.Uk)("年齡/歲"),(0,t._)("span",{class:"star"},"*")],-1))),L={class:"mb-3"},F=s((()=>(0,t._)("label",{class:"form-label"},[(0,t.Uk)("身高/公分"),(0,t._)("span",{class:"star"},"*")],-1))),Y={class:"mb-3"},S=s((()=>(0,t._)("label",{class:"form-label"},[(0,t.Uk)("體重/公斤"),(0,t._)("span",{class:"star"},"*")],-1))),j={class:"mb-3"},Z=s((()=>(0,t._)("label",{class:"form-label"},[(0,t.Uk)("與申請人關係"),(0,t._)("span",{class:"star"},"*")],-1))),M={class:"main2"},z={ref:"form2"},N={class:"mb-3"},G=s((()=>(0,t._)("label",{class:"form-label"},[(0,t.Uk)("居住方式"),(0,t._)("span",{class:"star"},"*")],-1))),K={class:"input-list"},R={class:"form-check-inline"},W=s((()=>(0,t._)("label",{class:"form-check-label",for:"live1"},"居家",-1))),E={class:"form-check-inline"},J=s((()=>(0,t._)("label",{class:"form-check-label",for:"live2"},"醫院",-1))),O={class:"form-check-inline"},Q=s((()=>(0,t._)("label",{class:"form-check-label",for:"live3"},"療養院",-1))),B={class:"mb-3"},X={key:0},$=s((()=>(0,t._)("div",{class:"note"}," 提醒您，居家地址必須填寫正確門牌位置，以方便管理人員打卡 ",-1))),ee={key:1},ae={class:"mb-3"},le=s((()=>(0,t._)("option",{value:"undefined",disabled:""},"請選擇醫院",-1))),te=["value"],ie={key:2},ce={class:"mb-3"},se=s((()=>(0,t._)("option",{value:"undefined",disabled:""},"請選擇療養院",-1))),ne=["value"],re={class:"main3"},oe={class:"c-footer"},de={class:"ui-tabbtn"},ue={class:"row"},pe={class:"col"};function ve(e,a,l,s,u,y){const k=(0,t.up)("Header"),ve=(0,t.up)("ActType"),ye=(0,t.up)("CitySelecter"),me=(0,t.up)("DiseaseType");return(0,t.wg)(),(0,t.iD)(t.HY,null,["page1"==s.showPage?((0,t.wg)(),(0,t.j4)(k,{key:0,path:"/careRecipient/list"})):(0,t.kq)("",!0),"page2"==s.showPage?((0,t.wg)(),(0,t.j4)(k,{key:1,clickFun:s.backToPage1},null,8,["clickFun"])):(0,t.kq)("",!0),"page3"==s.showPage?((0,t.wg)(),(0,t.j4)(k,{key:2,clickFun:s.backToPage2},null,8,["clickFun"])):(0,t.kq)("",!0),(0,t._)("div",n,[(0,t._)("div",r,[(0,t._)("ul",o,[(0,t._)("li",d,[(0,t._)("a",{href:"javascript:void(0);",class:(0,i.C_)(s.stepStyle[0])},p,2)]),(0,t._)("li",v,[(0,t._)("a",{href:"javascript:void(0);",class:(0,i.C_)(s.stepStyle[1])},m,2)]),(0,t._)("li",_,[(0,t._)("a",{href:"javascript:void(0);",class:(0,i.C_)(s.stepStyle[2])},b,2)])])]),(0,t._)("div",f,[(0,t._)("p",null,(0,i.zw)(s.title),1)]),h,(0,t.wy)((0,t._)("div",g,[(0,t._)("form",w,[(0,t._)("div",T,[P,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"請輸入名稱","onUpdate:modelValue":a[0]||(a[0]=e=>s.data.name=e),required:""},null,512),[[c.nr,s.data.name]])]),(0,t._)("div",I,[D,(0,t._)("div",A,[(0,t._)("div",x,[(0,t.wy)((0,t._)("input",{type:"radio",class:"form-check-input",value:"Male",id:"Male","onUpdate:modelValue":a[1]||(a[1]=e=>s.data.gender=e)},null,512),[[c.G2,s.data.gender]]),H]),(0,t._)("div",U,[(0,t.wy)((0,t._)("input",{type:"radio",class:"form-check-input",value:"Female",id:"Female","onUpdate:modelValue":a[2]||(a[2]=e=>s.data.gender=e)},null,512),[[c.G2,s.data.gender]]),q])])]),(0,t._)("div",V,[C,(0,t.wy)((0,t._)("input",{type:"number",class:"form-control",placeholder:"請輸入年齡","onUpdate:modelValue":a[3]||(a[3]=e=>s.data.age=e),required:""},null,512),[[c.nr,s.data.age]])]),(0,t._)("div",L,[F,(0,t.wy)((0,t._)("input",{type:"number",class:"form-control",placeholder:"請輸入身高/公分","onUpdate:modelValue":a[4]||(a[4]=e=>s.data.height=e),required:""},null,512),[[c.nr,s.data.height]])]),(0,t._)("div",Y,[S,(0,t.wy)((0,t._)("input",{type:"number",class:"form-control",placeholder:"請輸入體重/公斤","onUpdate:modelValue":a[5]||(a[5]=e=>s.data.weight=e),required:""},null,512),[[c.nr,s.data.weight]])]),(0,t._)("div",j,[Z,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"請輸入與申請人關係","onUpdate:modelValue":a[6]||(a[6]=e=>s.data.relationship=e),required:""},null,512),[[c.nr,s.data.relationship]])]),(0,t.Wm)(ve,{onActType:s.updateActType,onActInput:s.updateActInput},null,8,["onActType","onActInput"])],512)],512),[[c.F8,"page1"==s.showPage]]),(0,t.wy)((0,t._)("div",M,[(0,t._)("form",z,[(0,t._)("div",N,[G,(0,t._)("div",K,[(0,t._)("div",R,[(0,t.wy)((0,t._)("input",{type:"radio",class:"form-check-input",value:"1",id:"live1","onUpdate:modelValue":a[7]||(a[7]=e=>s.data.servicePlace.placeType.id=e)},null,512),[[c.G2,s.data.servicePlace.placeType.id]]),W]),(0,t._)("div",E,[(0,t.wy)((0,t._)("input",{type:"radio",class:"form-check-input",value:"2",id:"live2","onUpdate:modelValue":a[8]||(a[8]=e=>s.data.servicePlace.placeType.id=e)},null,512),[[c.G2,s.data.servicePlace.placeType.id]]),J]),(0,t._)("div",O,[(0,t.wy)((0,t._)("input",{type:"radio",class:"form-check-input",value:"3",id:"live3","onUpdate:modelValue":a[9]||(a[9]=e=>s.data.servicePlace.placeType.id=e)},null,512),[[c.G2,s.data.servicePlace.placeType.id]]),Q])]),(0,t.Wm)(ye,{onCityIdx:s.updateCityIdx,onAreaIdx:s.updateAreaIdx},null,8,["onCityIdx","onAreaIdx"])]),(0,t._)("div",B,[1==s.data.servicePlace.placeType.id?((0,t.wg)(),(0,t.iD)("div",X,[(0,t.wy)((0,t._)("input",{type:"text",class:"form-control mt-1",placeholder:"請輸入居家地址","onUpdate:modelValue":a[10]||(a[10]=e=>s.data.servicePlace.place.address=e),required:""},null,512),[[c.nr,s.data.servicePlace.place.address]]),$])):(0,t.kq)("",!0),2==s.data.servicePlace.placeType.id?((0,t.wg)(),(0,t.iD)("div",ee,[(0,t._)("div",ae,[(0,t.wy)((0,t._)("select",{class:"form-control form-select","onUpdate:modelValue":a[11]||(a[11]=e=>s.data.servicePlace.place.id=e),required:""},[le,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.hospitalData,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.properties.id,value:e.properties.id},(0,i.zw)(e.properties.name),9,te)))),128))],512),[[c.bM,s.data.servicePlace.place.id]])])])):(0,t.kq)("",!0),3==s.data.servicePlace.placeType.id?((0,t.wg)(),(0,t.iD)("div",ie,[(0,t._)("div",ce,[(0,t.wy)((0,t._)("select",{class:"form-control form-select","onUpdate:modelValue":a[12]||(a[12]=e=>s.data.servicePlace.place.id=e),required:""},[se,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.sanatoriumData,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.properties.id,value:e.properties.id},(0,i.zw)(e.properties.name),9,ne)))),128))],512),[[c.bM,s.data.servicePlace.place.id]])])])):(0,t.kq)("",!0)])],512)],512),[[c.F8,"page2"==s.showPage]]),(0,t.wy)((0,t._)("div",re,[(0,t.Wm)(me,{onDiseaseData:s.updateDiseaseData},null,8,["onDiseaseData"])],512),[[c.F8,"page3"==s.showPage]])]),(0,t._)("footer",oe,[(0,t._)("div",de,[(0,t._)("div",ue,[(0,t._)("div",pe,["page1"==s.showPage?((0,t.wg)(),(0,t.iD)("button",{key:0,class:"btn btn-primary",type:"button",onClick:a[13]||(a[13]=(...e)=>s.save&&s.save(...e))}," 確認並繼續 ")):(0,t.kq)("",!0),"page2"==s.showPage?((0,t.wg)(),(0,t.iD)("button",{key:1,class:"btn btn-primary",type:"button",onClick:a[14]||(a[14]=(...e)=>s.save2&&s.save2(...e))}," 確認並繼續 ")):(0,t.kq)("",!0),"page3"==s.showPage?((0,t.wg)(),(0,t.iD)("button",{key:2,class:"btn btn-primary",type:"button",onClick:a[15]||(a[15]=(...e)=>s.save3&&s.save3(...e))}," 完成新增 ")):(0,t.kq)("",!0)])])])])],64)}l(7658);var ye=l(2262),me=l(2201),_e=l(1557),ke=l(5765),be=l(179),fe=(l(697),l(6382)),he=l(16),ge=l(8019),we=l(1830),Te={setup(){const e=(0,me.tv)(),a=(0,ye.qj)({});let l=(0,ye.iH)(["nav-link active","nav-link","nav-link"]),i=(0,ye.iH)("page1"),c=(0,ye.iH)("基本資料");a.gender="Male",a.isContagious=1,a.abilityToAct=[],a.otherAbilityToAct="",a.eatType=[],a.otherEatType="";const s=e=>{a.abilityToAct=e.map((e=>parseInt(e)))},n=e=>{a.otherAbilityToAct=e},r=(0,ye.iH)(null),o=e=>{if(e.preventDefault(),r.value.reportValidity()){if(a.abilityToAct.length<=0)return void(0,_e.FN)("請填寫行動能力!");i.value="page2",l.value=["nav-link visited","nav-link active","nav-link"],c.value="照顧地點"}};a.servicePlace={city:{},area:{},place:{}},a.servicePlace.city={id:1},a.servicePlace.area={id:1},a.servicePlace.placeType={id:1,name:"居家"},a.servicePlace.place={id:0,name:"",address:""};const d=(0,ye.iH)(0),u=(0,ye.iH)(0);let p=(0,ye.iH)([]),v=(0,ye.iH)([]);const y=e=>{a.servicePlace.city.id=parseInt(e.value),d.value=e.value},m=e=>{a.servicePlace.area.id=parseInt(e.value),u.value=e.value};(0,t.YP)((()=>u.value),(async()=>{2==a.servicePlace.placeType.id&&(p.value=await(0,we.bc)({cityId:d.value,areaId:u.value}),0==p.value.data.length?((0,_e.FN)("該區域無資料"),p.value=[]):p.value=p.value.data),3==a.servicePlace.placeType.id&&(v.value=await(0,we.IJ)({cityId:d.value,areaId:u.value}),0==v.value.data.length?((0,_e.FN)("該區域無資料"),v.value=[]):v.value=v.value.data)}));const _=(0,ye.iH)(null),k=e=>{e.preventDefault(),_.value.reportValidity()&&(i.value="page3",l.value=["nav-link visited","nav-link visited","nav-link active"],c.value="病症(複選)")};a.checkList=[];const b=e=>{a.checkList=e},f=async()=>{let l=await(0,we.qQ)(a);(0,_e.FN)(l.data),e.push({path:"/careRecipient/list"})},h=()=>{i.value="page1",l.value=["nav-link active ","nav-link","nav-link"],c.value="基本資料"},g=()=>{i.value="page2",l.value=["nav-link visited ","nav-link active","nav-link"],c.value="照顧地點"};return(0,t.bv)((()=>{(0,ge.D)()})),{stepStyle:l,showPage:i,title:c,save:o,save2:k,save3:f,data:a,backToPage1:h,backToPage2:g,form1:r,form2:_,updateCityIdx:y,updateAreaIdx:m,hospitalData:p,sanatoriumData:v,updateActType:s,updateActInput:n,updateDiseaseData:b}},components:{Header:ke.Z,CitySelecter:be.Z,ActType:fe.Z,DiseaseType:he.Z}},Pe=l(3744);const Ie=(0,Pe.Z)(Te,[["render",ve],["__scopeId","data-v-3170b1c2"]]);var De=Ie}}]);
//# sourceMappingURL=4787.b93fa855.js.map