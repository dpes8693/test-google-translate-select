"use strict";(self["webpackChunknubk_cli"]=self["webpackChunknubk_cli"]||[]).push([[1663],{5396:function(e,a,l){l.r(a),l.d(a,{default:function(){return $e}});var i=l(6252),s=l(3577),t=l(9963);const n=e=>((0,i.dD)("data-v-2b88a43e"),e=e(),(0,i.Cn)(),e),c={class:"resumeAdd"},o={class:"mb-3 step-container"},d={class:"nav justify-content-center"},r={class:"nav-item"},u=n((()=>(0,i._)("span",null,"1",-1))),p=[u],v={class:"nav-item"},m=n((()=>(0,i._)("span",null,"2",-1))),y=[m],b={class:"nav-item"},k=n((()=>(0,i._)("span",null,"3",-1))),h=[k],_={class:"nav-item"},f=n((()=>(0,i._)("span",null,"4",-1))),g=[f],w={class:"title"},F=n((()=>(0,i._)("hr",null,null,-1))),D={class:"page1"},U={ref:"form1"},P={class:"mb-3"},T=n((()=>(0,i._)("label",{class:"form-label"},[(0,i.Uk)("履歷身分"),(0,i._)("span",{class:"star"},"*")],-1))),I={class:"main"},C={class:"input-group"},A=n((()=>(0,i._)("option",{disabled:"",value:""},"請選擇履歷身分",-1))),H=["value"],q={class:"mb-3"},j=n((()=>(0,i._)("label",{class:"form-label"},[(0,i.Uk)("工作時段"),(0,i._)("span",{class:"star"},"*")],-1))),x={class:"input-list"},V=["value","id"],L=["for"],S={class:"form-check-inline"},z=n((()=>(0,i._)("label",{class:"form-check-label",for:"work99"},"其他",-1))),N={class:"mb-3"},Y=n((()=>(0,i._)("label",{class:"form-label"},[(0,i.Uk)("服務年資"),(0,i._)("span",{class:"star"},"*")],-1))),K={class:"input-list"},E=["value","id"],J=["for"],R={class:"mb-3"},Z=n((()=>(0,i._)("label",{class:"form-label"},[(0,i.Uk)("工作地點"),(0,i._)("span",{class:"star"},"*")],-1))),B={class:"input-list"},M={class:"form-check-inline"},G=n((()=>(0,i._)("label",{class:"form-check-label",for:"live1"},"居家",-1))),O={class:"form-check-inline"},W=n((()=>(0,i._)("label",{class:"form-check-label",for:"live2"},"醫院",-1))),X={class:"form-check-inline"},$=n((()=>(0,i._)("label",{class:"form-check-label",for:"live3"},"療養院",-1))),Q={class:"mb-3"},ee=n((()=>(0,i._)("label",{class:"form-label"},[(0,i.Uk)("可開始工作日期"),(0,i._)("span",{class:"star"},"*")],-1))),ae={class:"mb-3"},le=n((()=>(0,i._)("label",{class:"form-label"},[(0,i.Uk)("收費標準(居家/小時)"),(0,i._)("span",{class:"star"},"*")],-1))),ie={class:"mb-3"},se=n((()=>(0,i._)("label",{class:"form-label"},[(0,i.Uk)("收費標準(醫院/小時)"),(0,i._)("span",{class:"star"},"*")],-1))),te={class:"mb-3"},ne=n((()=>(0,i._)("label",{class:"form-label"},[(0,i.Uk)("收費標準(居家/日)"),(0,i._)("span",{class:"star"},"*")],-1))),ce={class:"mb-3"},oe=n((()=>(0,i._)("label",{class:"form-label"},[(0,i.Uk)("收費標準(醫院/日)"),(0,i._)("span",{class:"star"},"*")],-1))),de={class:"page1"},re={class:"mb-3"},ue=n((()=>(0,i._)("label",{class:"form-label"},"工作地點",-1))),pe={class:"accordion",id:"accordionDisease"},ve={class:"accordion-header"},me=["data-bs-target"],ye=["id"],be={class:"accordion-body"},ke={class:"input-list"},he={class:"form-check-inline"},_e=["value","id","onChange"],fe=["for"],ge=n((()=>(0,i._)("br",null,null,-1))),we=["value","id","onChange"],Fe=["for"],De={class:"page1"},Ue={key:0,class:"page1"},Pe={class:"mb-3"},Te=n((()=>(0,i._)("label",{class:"form-label"},"照服員結業證書(照)",-1))),Ie={class:"mb-3"},Ce=n((()=>(0,i._)("label",{class:"form-label"},"證號",-1))),Ae={class:"mb-3"},He=n((()=>(0,i._)("label",{class:"form-label"},"一年內體檢表",-1))),qe={class:"mb-3"},je=n((()=>(0,i._)("label",{class:"form-label"},"良民證",-1))),xe={class:"mb-3"},Ve=n((()=>(0,i._)("label",{class:"form-label"},"其他證照",-1))),Le={class:"c-footer"},Se={class:"ui-tabbtn"},ze={class:"row"},Ne={class:"col"};function Ye(e,a,l,n,u,m){const k=(0,i.up)("Header"),f=(0,i.up)("DiseaseType");return(0,i.wg)(),(0,i.iD)(i.HY,null,["page1"==n.showPage?((0,i.wg)(),(0,i.j4)(k,{key:0,path:"/resume/list"})):(0,i.kq)("",!0),"page2"==n.showPage?((0,i.wg)(),(0,i.j4)(k,{key:1,clickFun:n.backToPage1},null,8,["clickFun"])):(0,i.kq)("",!0),"page3"==n.showPage?((0,i.wg)(),(0,i.j4)(k,{key:2,clickFun:n.backToPage2},null,8,["clickFun"])):(0,i.kq)("",!0),"page4"==n.showPage?((0,i.wg)(),(0,i.j4)(k,{key:3,clickFun:n.backToPage3},null,8,["clickFun"])):(0,i.kq)("",!0),(0,i._)("div",c,[(0,i._)("div",o,[(0,i._)("ul",d,[(0,i._)("li",r,[(0,i._)("a",{class:(0,s.C_)(n.stepStyle[0])},p,2)]),(0,i._)("li",v,[(0,i._)("a",{class:(0,s.C_)(n.stepStyle[1])},y,2)]),(0,i._)("li",b,[(0,i._)("a",{class:(0,s.C_)(n.stepStyle[2])},h,2)]),(0,i._)("li",_,[(0,i._)("a",{class:(0,s.C_)(n.stepStyle[3])},g,2)])])]),(0,i._)("div",w,[(0,i._)("p",null,(0,s.zw)(n.title),1)]),F,(0,i.wy)((0,i._)("div",D,[(0,i._)("form",U,[(0,i._)("div",P,[T,(0,i.wy)((0,i._)("div",I,[(0,i._)("div",C,[(0,i.wy)((0,i._)("select",{class:"col form-control form-select","onUpdate:modelValue":a[0]||(a[0]=e=>n.data.jobTypeId=e),required:""},[A,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.allIdentity,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e.id,key:e.id},(0,s.zw)(e.name),9,H)))),128))],512),[[t.bM,n.data.jobTypeId]])])],512),[[t.F8,"page1"==n.showPage]])]),(0,i._)("div",q,[j,(0,i._)("div",x,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.workHourType,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"form-check-inline",key:e.id},[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"form-check-input",value:e.id,id:"work"+e.id,"onUpdate:modelValue":a[1]||(a[1]=e=>n.data.workPeriodId=e)},null,8,V),[[t.e8,n.data.workPeriodId]]),(0,i._)("label",{class:"form-check-label",for:"work"+e.id},(0,s.zw)(e.name),9,L)])))),128)),(0,i._)("div",S,[(0,i._)("input",{type:"checkbox",class:"form-check-input",value:"work99",id:"work99",onChange:a[2]||(a[2]=(...e)=>n.showTimeInput&&n.showTimeInput(...e))},null,32),z]),n.isShowTimeInput?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"number",class:"form-control mt-1",placeholder:"請輸入其他工作時間","onUpdate:modelValue":a[3]||(a[3]=e=>n.data.otherJobTime=e),min:"1",max:"24"},null,512)),[[t.nr,n.data.otherJobTime]]):(0,i.kq)("",!0)])]),(0,i._)("div",N,[Y,(0,i._)("div",K,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.experienceType,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"form-check-inline",key:e.id},[(0,i.wy)((0,i._)("input",{type:"radio",class:"form-check-input",value:e.id,id:"exp"+e.id,"onUpdate:modelValue":a[4]||(a[4]=e=>n.data.seniorityId=e)},null,8,E),[[t.G2,n.data.seniorityId]]),(0,i._)("label",{class:"form-check-label",for:"exp"+e.id},(0,s.zw)(e.name),9,J)])))),128))])]),(0,i._)("div",R,[Z,(0,i._)("div",B,[(0,i._)("div",M,[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"form-check-input",value:"1",id:"live1","onUpdate:modelValue":a[5]||(a[5]=e=>n.data.servicePlace=e)},null,512),[[t.e8,n.data.servicePlace]]),G]),(0,i._)("div",O,[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"form-check-input",value:"2",id:"live2","onUpdate:modelValue":a[6]||(a[6]=e=>n.data.servicePlace=e)},null,512),[[t.e8,n.data.servicePlace]]),W]),(0,i._)("div",X,[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"form-check-input",value:"3",id:"live3","onUpdate:modelValue":a[7]||(a[7]=e=>n.data.servicePlace=e)},null,512),[[t.e8,n.data.servicePlace]]),$])])]),(0,i._)("div",Q,[ee,(0,i.wy)((0,i._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=e=>n.data.startDate=e),required:""},null,512),[[t.nr,n.data.startDate]])]),(0,i._)("div",ae,[le,(0,i.wy)((0,i._)("input",{type:"number",class:"form-control",placeholder:"請輸入時薪","onUpdate:modelValue":a[9]||(a[9]=e=>n.data.wage.home=e),min:"100",required:""},null,512),[[t.nr,n.data.wage.home]])]),(0,i._)("div",ie,[se,(0,i.wy)((0,i._)("input",{type:"number",class:"form-control",placeholder:"請輸入時薪","onUpdate:modelValue":a[10]||(a[10]=e=>n.data.wage.hospital=e),min:"100",required:""},null,512),[[t.nr,n.data.wage.hospital]])]),(0,i._)("div",te,[ne,(0,i.wy)((0,i._)("input",{type:"number",class:"form-control",placeholder:"請輸入時薪","onUpdate:modelValue":a[11]||(a[11]=e=>n.data.wage.fullDay.home=e),min:"100",required:""},null,512),[[t.nr,n.data.wage.fullDay.home]])]),(0,i._)("div",ce,[oe,(0,i.wy)((0,i._)("input",{type:"number",class:"form-control",placeholder:"請輸入時薪","onUpdate:modelValue":a[12]||(a[12]=e=>n.data.wage.fullDay.hospital=e),min:"100",required:""},null,512),[[t.nr,n.data.wage.fullDay.hospital]])])],512)],512),[[t.F8,"page1"==n.showPage]]),(0,i.wy)((0,i._)("div",de,[(0,i._)("div",re,[ue,(0,i._)("div",pe,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.cityArea,((e,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"accordion-item",key:e.id},[(0,i._)("div",ve,[(0,i._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+(l+100)},(0,s.zw)(e.city_name),9,me)]),(0,i._)("div",{id:"collapse"+(l+100),class:"accordion-collapse collapse","data-bs-parent":"#accordionDisease"},[(0,i._)("div",be,[(0,i._)("div",ke,[(0,i._)("div",he,[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"form-check-input",value:e.id,id:e.id,"onUpdate:modelValue":a[13]||(a[13]=e=>n.data.selectAllCityId=e),onChange:a=>n.checkAll(e)},null,40,_e),[[t.e8,n.data.selectAllCityId]]),(0,i._)("label",{class:"form-check-label",for:e.id},"全區",8,fe)]),ge,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.areas,(l=>((0,i.wg)(),(0,i.iD)("div",{class:"form-check-inline",key:l.id},[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"form-check-input",value:l.id,id:l.id,"onUpdate:modelValue":a[14]||(a[14]=e=>n.data.selectArea=e),onChange:a=>n.cancelAll(e,l,a)},null,40,we),[[t.e8,n.data.selectArea]]),(0,i._)("label",{class:"form-check-label",for:l.id},(0,s.zw)(l.area_name),9,Fe)])))),128))])])],8,ye)])))),128))])])],512),[[t.F8,"page2"==n.showPage]]),(0,i.wy)((0,i._)("div",De,[(0,i.Wm)(f,{onDiseaseData:n.updateDiseaseData},null,8,["onDiseaseData"])],512),[[t.F8,"page3"==n.showPage]]),"page4"==n.showPage?((0,i.wg)(),(0,i.iD)("div",Ue,[(0,i._)("div",Pe,[Te,(0,i._)("input",{type:"file",class:"form-control",id:"formFile1",onChange:a[15]||(a[15]=e=>n.handleFileUpload(1,n.myUploadFile)),ref:"myUploadFile",accept:"image/png, image/jpeg",required:""},null,544)]),(0,i._)("div",Ie,[Ce,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"請輸入證號","onUpdate:modelValue":a[16]||(a[16]=e=>n.data.license.certificateCode=e),required:""},null,512),[[t.nr,n.data.license.certificateCode]])]),(0,i._)("div",Ae,[He,(0,i._)("input",{type:"file",class:"form-control",id:"formFile2",onChange:a[17]||(a[17]=e=>n.handleFileUpload(2,n.myUploadFile2)),ref:"myUploadFile2",accept:"image/png, image/jpeg",required:""},null,544)]),(0,i._)("div",qe,[je,(0,i._)("input",{type:"file",class:"form-control",id:"formFile3",onChange:a[18]||(a[18]=e=>n.handleFileUpload(3,n.myUploadFile3)),ref:"myUploadFile3",accept:"image/png, image/jpeg",required:""},null,544)]),(0,i._)("div",xe,[Ve,(0,i._)("input",{type:"file",class:"form-control",id:"formFile4",onChange:a[19]||(a[19]=e=>n.handleFileUpload(4,n.myUploadFile4)),ref:"myUploadFile4",accept:"image/png, image/jpeg",required:""},null,544)])])):(0,i.kq)("",!0)]),(0,i._)("footer",Le,[(0,i._)("div",Se,[(0,i._)("div",ze,[(0,i._)("div",Ne,["page1"==n.showPage?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"btn btn-primary",type:"button",onClick:a[20]||(a[20]=(...e)=>n.save&&n.save(...e))}," 確認並繼續 ")):(0,i.kq)("",!0),"page2"==n.showPage?((0,i.wg)(),(0,i.iD)("button",{key:1,class:"btn btn-primary",type:"button",onClick:a[21]||(a[21]=(...e)=>n.save2&&n.save2(...e))}," 確認並繼續 ")):(0,i.kq)("",!0),"page3"==n.showPage?((0,i.wg)(),(0,i.iD)("button",{key:2,class:"btn btn-primary",type:"button",onClick:a[22]||(a[22]=(...e)=>n.save3&&n.save3(...e))}," 確認並繼續 ")):(0,i.kq)("",!0),"page4"==n.showPage?((0,i.wg)(),(0,i.iD)("button",{key:3,class:"btn btn-primary",type:"button",onClick:a[23]||(a[23]=(...e)=>n.save4&&n.save4(...e))}," 完成新增 ")):(0,i.kq)("",!0)])])])])],64)}l(7658);var Ke=l(2262),Ee=l(2201),Je=l(1557),Re=l(5765),Ze=l(16),Be=l(1830),Me=l(4477),Ge=l(8019),Oe={setup(){const e=(0,Me.dU)(),a=(0,Me.ce)(),l=(0,Me.dX)(),s=(0,Ee.tv)(),t=(0,Ke.qj)({});let n=(0,Ke.iH)(["nav-link active","nav-link","nav-link","nav-link"]),c=(0,Ke.iH)("page1"),o=(0,Ke.iH)("基本資料");const d=(0,Ke.iH)(null),r=e=>{e.preventDefault(),d.value.reportValidity()&&(0==t.servicePlace.length?(0,Je.FN)("請至少選擇一個工作地點"):(c.value="page2",n.value=["nav-link visited","nav-link active","nav-link","nav-link"],o.value="工作地點"))},u=()=>{0==t.selectArea.length&&0==t.selectAllCityId.length?(0,Je.FN)("請至少選擇一個工作地點"):(c.value="page3",n.value=["nav-link visited","nav-link visited","nav-link active","nav-link"],o.value="照護經驗(複選)")},p=()=>{0==t.diseaseId.length?(0,Je.FN)("請至少選擇一個照護經驗"):(c.value="page4",n.value=["nav-link visited","nav-link visited","nav-link visited","nav-link active"],o.value="相關證照")},v=async()=>{try{let e=await(0,Be.ko)(t);"新增成功"==e.data?((0,Je.FN)(e.data),s.push({path:"/resume/list"})):(0,Je.FN)(e.message)}catch(e){console.log(e)}},m=()=>{c.value="page1",n.value=["nav-link active ","nav-link","nav-link","nav-link"],o.value="基本資料"},y=()=>{c.value="page2",n.value=["nav-link visited ","nav-link active","nav-link","nav-link"],o.value="工作地點"},b=()=>{c.value="page3",n.value=["nav-link visited","nav-link visited","nav-link visited","nav-link active"],o.value="照護經驗"};t.jobTypeId="",t.workPeriodId=[],t.otherJobTime=0,t.seniorityId=1,t.servicePlace=[],t.startDate="",t.wage={home:null,hospital:null,fullDay:{home:null,hospital:null}};let k=(0,Ke.iH)(),h=(0,Ke.iH)([]),_=(0,Ke.iH)([{id:5,SlotType:"F",name:"8小時"},{id:4,SlotType:"F",name:"10小時"},{id:2,SlotType:"F",name:"12小時"},{id:1,SlotType:"F",name:"24小時"}]),f=(0,Ke.iH)([]),g=(0,Ke.iH)([]);t.selectArea=[],t.selectAllCityId=[];const w=e=>{let a=[];t.selectAllCityId.includes(e.id)?e.areas.forEach((e=>t.selectArea.push(e.id))):(e.areas.forEach((e=>a.push(e.id))),t.selectArea=t.selectArea.filter((e=>-1===a.indexOf(e))))},F=(e,a,l)=>{0==l.target.checked&&(t.selectAllCityId=t.selectAllCityId.filter((a=>a!=e.id)))};t.diseaseId=[];const D=e=>{t.diseaseId=e};t.license={certificateCode:"",healthFormPhotoId:"",mainLicensePhotoId:"",otherLicensePhotoId:"",policeCriminalRecord:""};const U=(0,Ke.iH)(null),P=(0,Ke.iH)(null),T=(0,Ke.iH)(null),I=(0,Ke.iH)(null),C=async(e,a)=>{const l=document.getElementById(`formFile${e}`);console.log(l);const i=l?.files?.[0];if(!i)return!1;const s=i?.size/1024/1024;if(s>"6")return l.value="",(0,Je.FN)("圖片檔案大小上限為6MB"),!1;const t=await(0,Be.zi)(a);if(t.status)return t;{l.value="";const e=t.message||"上傳失敗";return(0,Je.FN)(e),!1}},A=async(e,a)=>{let l=new FormData;if(l.append("singleFile",a.files[0]),l.append("uploadType","ResumeArea"),l.append("jobType",t.jobTypeId),1==e){const e=await C(1,l);if(!e)return;t.license.mainLicensePhotoId=e.data.id}else if(2==e){t.license.healthFormPhotoId=e.data.id;const e=await C(2,l);if(!e)return}else if(3==e){t.license.policeCriminalRecord=e.data.id;const e=await C(3,l);if(!e)return}else{t.license.otherLicensePhotoId=e.data.id;const e=await C(4,l);if(!e)return}};(0,i.bv)((async()=>{(0,Ge.D)();try{void 0==e.jobTypeList?(k.value=await(0,Be.Dr)(),k.value=k.value.data.data,e.jobTypeList=k.value):k.value=e.jobTypeList;let i=await(0,Be.pe)();i.data.forEach((e=>h.value.push(e.title))),k.value=k.value.filter((e=>!h.value.includes(e.name))),void 0==l.experienceTypeList?(f.value=await(0,Be.PF)(),f.value=f.value.data.data,l.experienceTypeList=f.value):f.value=l.experienceTypeList,void 0==a.cityAreaList?(g.value=await(0,Be.t3)(),g.value=g.value.data,a.cityAreaList=g.value):g.value=a.cityAreaList}catch(i){console.log(i)}})),(0,i.YP)((()=>t.jobTypeId),(async()=>{_.value=await(0,Be.mL)({jobTypeId:t.jobTypeId}),_.value=_.value.data.data}));let H=(0,Ke.iH)(0);const q=()=>{0==H.value?H.value=1:H.value=0};return{isShowTimeInput:H,showTimeInput:q,data:t,stepStyle:n,showPage:c,title:o,save:r,save2:u,save3:p,save4:v,backToPage1:m,backToPage2:y,backToPage3:b,allIdentity:k,workHourType:_,experienceType:f,form1:d,cityArea:g,updateDiseaseData:D,checkAll:w,cancelAll:F,handleFileUpload:A,myUploadFile:U,myUploadFile2:P,myUploadFile3:T,myUploadFile4:I}},components:{Header:Re.Z,DiseaseType:Ze.Z}},We=l(3744);const Xe=(0,We.Z)(Oe,[["render",Ye],["__scopeId","data-v-2b88a43e"]]);var $e=Xe}}]);
//# sourceMappingURL=1663.1cdae52a.js.map