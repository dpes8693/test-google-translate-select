"use strict";(self["webpackChunknubk_cli"]=self["webpackChunknubk_cli"]||[]).push([[678],{6186:function(e,a,t){function s(){const e=navigator.userAgent.toLowerCase()||"";let a=navigator.platform.toLowerCase()||"";return a.indexOf("linux")>-1&&e.indexOf("android")>-1&&(a="android"),(a.indexOf("iphone")>-1||a.indexOf("ipad")>-1)&&(a="ios",console.log=function(e){window.webkit.messageHandlers.logger.postMessage(e)}),a}function n(e={}){let a=s()||"";if("android"==a)window.ExtCall.postMessage(e);else{if("ios"!=a)throw new Error(a);window.webkit.messageHandlers.ExtCall.postMessage(e)}}t.d(a,{H6:function(){return u},VU:function(){return d},sX:function(){return l}});const l={openNewWebView:c,replaceSetting:i,goBack:r,toBrowser:o};function c(e=""){const a=JSON.stringify({function:"popWebview",url:e});n(a)}function i(e="",a=""){const t=JSON.stringify({function:"changeProjectSettingURL",userid:e,url:a});n(t)}function o(e=""){const a=JSON.stringify({function:"toBrowser",url:e});n(a)}function r(){const e=JSON.stringify({function:"goBack"});n(e)}const d={lineLogin(e="",a=""){const t=JSON.stringify({function:"lineLogin",channel_id:e,callback:a});n(t)},appleLogin(e=""){const a=JSON.stringify({function:"appleLogin",callback:e});n(a)}},u={startGPS(e=""){const a=JSON.stringify({function:"startGPS",callback:e});n(a)},stopGPS(){const e=JSON.stringify({function:"stopGPS"});n(e)},getCurrentLocation(e=""){const a=JSON.stringify({function:"getCurrentLocation",callback:e});n(a)},getUserLocationHistory(e=""){const a=JSON.stringify({function:"getUserLocationHistory",callback:e});n(a)}}},4988:function(e,a,t){t.d(a,{Cq:function(){return i},Qr:function(){return h},Ux:function(){return r},b$:function(){return c},g7:function(){return v},hB:function(){return g},nN:function(){return o},nV:function(){return A},vL:function(){return u},vW:function(){return p},yv:function(){return f}});t(7658);var s=t(6186),n=t(1830),l=t(4477);const c=e=>"string"==typeof e.message?e.message:"other error",i=e=>{for(let a=0;a<24;a++)e.push({id:a,time:`${a}:00`}),e.push({id:a+1,time:`${a}:30`})},o=()=>{const e=location.href,a=e.split("/"),t=a[a.length-1];return{urlId:t}},r=()=>{const e=location.href,a=e.split("/"),t=a[a.length-2];return{urlId:t}},d=e=>[e.getFullYear(),e.getMonth()+1,e.getDate()],u=e=>e<10?"0"+e:e,h=e=>{let a=JSON.parse(JSON.stringify(e)),t={},s="";return a.forEach((e=>{e.start=new Date(e.start.replace(/-/g,"/")),e.end=new Date(e.end.replace(/-/g,"/")),e.info=d(e.start),t[`${e.info[0]}/${e.info[1]}`]?t[`${e.info[0]}/${e.info[1]}`].push(e.info[2]):t[`${e.info[0]}/${e.info[1]}`]=[e.info[2]]})),s=a[0]?.start.getHours()==a[0]?.end.getHours()?`${a[0]?.start.getHours()}:${u(a[0]?.start.getMinutes())} ~ ${a[0]?.end.getHours()}:${u(a[0]?.end.getMinutes())}(24小時)`:`${a[0]?.start.getHours()}:${u(a[0]?.start.getMinutes())} ~ ${a[0]?.end.getHours()}:${u(a[0]?.end.getMinutes())}`,{newDates:a,info:t,time:s}},g=e=>{let a=JSON.parse(JSON.stringify(e)),t={},s="";return a.forEach((e=>{e.start=new Date(e.start.replace(/-/g,"/")),e.end=new Date(e.end.replace(/-/g,"/")),e.info=d(e.start),t[`${e.info[0]}/${e.info[1]}`]?t[`${e.info[0]}/${e.info[1]}`].push([e.info[2],e.isDone]):t[`${e.info[0]}/${e.info[1]}`]=[[e.info[2],e.isDone]]})),s=a[0]?.start.getHours()==a[0]?.end.getHours()?"全天(24小時)":`${a[0]?.start.getHours()}:${u(a[0]?.start.getMinutes())} ~ ${a[0]?.end.getHours()}:${u(a[0]?.end.getMinutes())}`,{newDates:a,info:t,time:s}},v=e=>{let a=[],t=[],s={},n=[];return e?.length>0&&e.forEach((e=>a.push(e.split("-")))),a.forEach((e=>{let a=`${e[0]}/${e[1]}`;t.push(a),s[a]?s[a].push(e[2]):s[a]=[e[2]]})),t=t.filter(((e,a)=>t.indexOf(e)===a)),1==t.length&&n.push(`${t?.[0]}/${s?.[t?.[0]]?.join("、")}`),t.length>1&&n.push(`${t?.[1]}/${s?.[t?.[1]]?.join("、")}`),{monthInfo:t,dayInfo:s,dateInfo:n}},A=(e,a)=>{let t={};return a.forEach((a=>{let s=parseInt(a.substring(1,3))-1,n=parseInt(a.substring(3,5))-1,l=parseInt(a.substring(5,7))-1;Object.keys(t).includes(e[s].name)||Object.keys(t).includes(e[s].data[n].name)?t[e[s].data[n].name].push(e[s].data[n].data[l]):t[e[s].data[n].name]=[e[s].data[n].data[l]]})),t},f=()=>{try{window.ExtCallStartGPS=()=>!0,s.H6.startGPS("ExtCallStartGPS")}catch(e){}},p=()=>{const e=(0,l.fG)();if(0==e.userPosition.cityId)try{window.ExtCallGetCurrentLocation=async(a,t,s)=>{if("string"===typeof a&&a?.length>6){const a=await(0,n.MP)({longitude:s,latitude:t});console.log("apiGetPosition已發送/"+a.data.defaultPlace.cityName+"/"+a.data.defaultPlace.townName),e.userPosition.cityId=a.data.defaultPlace.cityId,e.userPosition.areaId=a.data.defaultPlace.areaId,e.userPosition.cityId_2=a.data.longTermCare2Place.cityId,e.userPosition.areaId_2=a.data.longTermCare2Place.areaId,console.log(e.userPosition.cityId+"/"+e.userPosition.areaId+"/"+e.userPosition.cityId_2+"/"+e.userPosition.areaId_2)}},s.H6.getCurrentLocation("ExtCallGetCurrentLocation")}catch(a){console.log("電腦版不支援 extCall GPS")}}},9799:function(e,a,t){t.d(a,{Z:function(){return C}});var s=t(6252),n=t(3577);const l=e=>((0,s.dD)("data-v-6d50fb3a"),e=e(),(0,s.Cn)(),e),c={class:"c-header"},i={class:"navbar ui-navbar"},o={class:"navbar-nav"},r=l((()=>(0,s._)("a",{class:"nav-link"},[(0,s._)("i",{class:"fa fa-chevron-left"})],-1))),d=[r],u={class:"navbar-brand"},h={class:"navbar-nav"},g={class:"nav-item"},v={class:"nav-link"};function A(e,a,t,l,r,A){return(0,s.wg)(),(0,s.iD)("header",c,[(0,s._)("nav",i,[(0,s._)("ul",o,[(0,s._)("li",{class:"nav-item",onClick:a[0]||(a[0]=(...e)=>l.backTo&&l.backTo(...e))},d)]),(0,s._)("h1",u,(0,n.zw)(t.title),1),(0,s._)("ul",h,[(0,s._)("li",g,[(0,s._)("a",v,[(0,s._)("i",{class:(0,n.C_)(l.iconCode),onClick:a[1]||(a[1]=(...e)=>l.goto&&l.goto(...e))},[(0,s._)("span",null,(0,n.zw)(l.text),1)],2)])])])])])}t(7658);var f=t(2201),p=t(4477),k={props:{title:String,right:String,path:String,backToPath:String},setup(e){const a=(0,p.s6)(),t=a.goto,s=(0,f.tv)();let n="",l="";const c=e.right?e.right:"";"add"==c&&(n="fa fa-plus",l=" 新增"),"map"==c&&(n="fas fa-map-marker-alt",l=" 地圖"),"text"==c&&(n="far fa-list-ul",l=" 列表"),"search"==c&&(n="far fa-search",l=" 搜尋");const i=()=>{"search"==e.path?console.log("search"):s.push({path:e.path})},o=()=>{if("-1"==e.backToPath)try{t("back")}catch(a){console.log(a),s.back()}else e.backToPath?s.push({path:e.backToPath}):s.push({path:"/home"})};return{iconCode:n,text:l,backTo:o,goto:i}}},m=t(3744);const w=(0,m.Z)(k,[["render",A],["__scopeId","data-v-6d50fb3a"]]);var C=w},678:function(e,a,t){t.r(a),t.d(a,{default:function(){return Ct}});var s=t(6252),n=t(3577),l=t(9963),c=t(8776);const i=e=>((0,s.dD)("data-v-39a9c229"),e=e(),(0,s.Cn)(),e),o={class:"scheduleInfo"},r={key:0,class:"c-main"},d={class:"detail-container"},u={class:"item-container"},h=i((()=>(0,s._)("div",{class:"item-title"},"該日排程",-1))),g={class:"item-content"},v={class:"main2"},A=i((()=>(0,s._)("div",{class:"title2"},"日期時段",-1))),f={class:"content2"},p={key:0,class:"main2"},k=i((()=>(0,s._)("div",{class:"title2"},"簽到打卡",-1))),m={class:"content2"},w={key:0},C={class:"check"},D={key:1},I=i((()=>(0,s._)("span",{class:"noCheck"},"未打卡",-1))),b={class:"checkArea"},y={key:0},_={class:"check"},P={key:1},B=i((()=>(0,s._)("span",{class:"noCheck"},"未打卡",-1))),T={key:2,href:"javascript:void(0);",class:"btn btn-state card-state","data-bs-toggle":"modal","data-bs-target":"#openWork"},E={key:1,class:"main2"},H=i((()=>(0,s._)("div",{class:"title2"},"簽到打卡",-1))),x={class:"content2"},Q={key:0},q={class:"check"},z={key:1},O=i((()=>(0,s._)("span",{class:"noCheck"},"未打卡",-1))),U={class:"checkArea"},N={key:0},W={class:"check"},S={key:1},F=i((()=>(0,s._)("span",{class:"noCheck"},"未打卡",-1))),j={key:2,href:"javascript:void(0);",class:"btn btn-state card-state","data-bs-toggle":"modal","data-bs-target":"#openClock"},M={class:"item-container"},L={class:"item-title item-link collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapse1"},J={class:"item-content collapse",id:"collapse1"},V={class:"basicInfo"},$={class:"infoText"},G={class:"main1"},Z=i((()=>(0,s._)("div",{class:"title1"},"性別",-1))),K={class:"content1"},X={class:"main1"},Y=i((()=>(0,s._)("div",{class:"title1"},"年齡",-1))),R={class:"content1"},ee={class:"main1"},ae=i((()=>(0,s._)("div",{class:"title1"},"身高",-1))),te={class:"content1"},se={class:"main1"},ne=i((()=>(0,s._)("div",{class:"title1"},"體重",-1))),le={class:"content1"},ce={class:"main1"},ie=i((()=>(0,s._)("div",{class:"title1"},"年資",-1))),oe={class:"content1"},re={class:"main1"},de=i((()=>(0,s._)("div",{class:"title1"},"國籍",-1))),ue={class:"content1"},he={class:"main1"},ge=i((()=>(0,s._)("div",{class:"title1"},"語言",-1))),ve={class:"content1"},Ae=["src"],fe={key:1,src:c,alt:"看護照片"},pe={class:"main2"},ke=i((()=>(0,s._)("div",{class:"title2"},"履歷身分",-1))),me={class:"content2"},we={class:"main2"},Ce=i((()=>(0,s._)("div",{class:"title2"},"具備證照",-1))),De={class:"content2"},Ie={class:"main2"},be=i((()=>(0,s._)("div",{class:"title2"},"收費標準",-1))),ye={key:0,class:"content2"},_e={key:0},Pe={key:1,class:"content2"},Be={key:0},Te={class:"main2"},Ee=i((()=>(0,s._)("div",{class:"title2"},"照顧經驗及時數",-1))),He={class:"content2"},xe={class:"main2"},Qe=i((()=>(0,s._)("div",{class:"title2"},"服務地區",-1))),qe={class:"content2"},ze={class:"main2"},Oe=i((()=>(0,s._)("div",{class:"title2"},"工作時段",-1))),Ue={class:"content2"},Ne={class:"main2"},We=i((()=>(0,s._)("div",{class:"title2"},"自我介紹",-1))),Se={class:"content2"},Fe={class:"item-container"},je=i((()=>(0,s._)("div",{class:"item-title item-link collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapse2"},"被照護者資訊",-1))),Me={class:"item-content collapse",id:"collapse2"},Le={class:"main1"},Je=i((()=>(0,s._)("div",{class:"title1"},"名稱",-1))),Ve={class:"content1"},$e={class:"main1"},Ge=i((()=>(0,s._)("div",{class:"title1"},"性別",-1))),Ze={class:"content1"},Ke={class:"main1"},Xe=i((()=>(0,s._)("div",{class:"title1"},"年齡",-1))),Ye={class:"content1"},Re={class:"main1"},ea=i((()=>(0,s._)("div",{class:"title1"},"身高",-1))),aa={class:"content1"},ta={class:"main1"},sa=i((()=>(0,s._)("div",{class:"title1"},"體重",-1))),na={class:"content1"},la={class:"main1"},ca=i((()=>(0,s._)("div",{class:"title1"},"關係",-1))),ia={class:"content1"},oa={class:"main2"},ra=i((()=>(0,s._)("div",{class:"title2"},"行動能力",-1))),da={key:0,class:"content2"},ua={key:1,class:"content2"},ha={class:"main2"},ga=i((()=>(0,s._)("div",{class:"title2"},"照顧地點",-1))),va={class:"content2"},Aa={class:"item-container"},fa=i((()=>(0,s._)("div",{class:"item-title item-link collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapse3"},"病症",-1))),pa={class:"item-content collapse",id:"collapse3"},ka={class:"title2"},ma={class:"content2"},wa={class:"item-container"},Ca=i((()=>(0,s._)("div",{class:"item-title item-link collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapse4"},"服務需求",-1))),Da={class:"item-content collapse",id:"collapse4"},Ia={class:"content2"},ba={class:"modal fade",id:"openWork",tabindex:"-1","aria-labelledby":"openModalLabel","aria-hidden":"true"},ya={class:"modal-dialog modal-dialog-centered"},_a={class:"modal-content"},Pa={class:"modal-body"},Ba={class:"form-container form-container-2"},Ta={key:0,class:"mb-3"},Ea=i((()=>(0,s._)("label",{class:"form-label"},[(0,s.Uk)("理由"),(0,s._)("span",{class:"star"})],-1))),Ha={class:"form-content"},xa={class:"form-content"},Qa={class:"mb-3"},qa=i((()=>(0,s._)("label",{class:"form-label"},[(0,s.Uk)("評價"),(0,s._)("span",{class:"star"},"*")],-1))),za=i((()=>(0,s._)("div",{id:"rateBox",class:"rateClass"},null,-1))),Oa=i((()=>(0,s._)("span",{class:"average"},null,-1))),Ua={class:"star"},Na={class:"mb-1"},Wa=i((()=>(0,s._)("label",{class:"form-label"},[(0,s.Uk)("評語"),(0,s._)("span",{class:"star"})],-1))),Sa={class:"modal-footer"},Fa={class:"btn-container"},ja={class:"row"},Ma={class:"col"},La=i((()=>(0,s._)("div",{class:"col"},[(0,s._)("button",{class:"btn btn-outline-primary",type:"button","data-bs-dismiss":"modal"},"取消關閉")],-1))),Ja={class:"modal fade",id:"openClock",tabindex:"-1","aria-labelledby":"openModalLabel","aria-hidden":"true"},Va={class:"modal-dialog modal-dialog-centered"},$a={class:"modal-content"},Ga={class:"modal-body"},Za={class:"punch-container"},Ka={class:"clock-container"},Xa={class:"clock-content"},Ya={id:"clock"},Ra={class:"date"},et={class:"mb-1"},at={class:"main2"},tt=i((()=>(0,s._)("label",{class:"form-label"},"該日工作時間",-1))),st={class:"content2"},nt={key:0,class:"mb-1"},lt=i((()=>(0,s._)("label",{class:"form-label"},[(0,s.Uk)("理由"),(0,s._)("span",{class:"star"})],-1))),ct={class:"btn-container"},it={class:"row"},ot={class:"col"},rt={key:1,class:"btn btn-time",type:"button","data-bs-dismiss":"modal"},dt={class:"col"},ut={key:1,class:"btn btn-time",type:"button","data-bs-dismiss":"modal"};function ht(e,a,t,c,i,ht){const gt=(0,s.up)("Header");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(gt,{title:"排程內容",backToPath:"/schedule/list"}),(0,s._)("div",o,[c.scheduleData?.workOrderId?((0,s.wg)(),(0,s.iD)("section",r,[(0,s._)("div",d,[(0,s._)("div",u,[h,(0,s._)("div",g,[(0,s._)("div",v,[A,(0,s._)("div",f,(0,n.zw)(c.scheduleData.startTime.substring(0,c.scheduleData.startTime.length-3))+" ~ "+(0,n.zw)(c.scheduleData.endTime.substring(0,c.scheduleData.endTime.length-3)),1)]),"purple"==c.mode?((0,s.wg)(),(0,s.iD)("div",p,[k,(0,s._)("div",m,[c.scheduleData?.punchInTime?.length>0?((0,s.wg)(),(0,s.iD)("span",w,[(0,s.Uk)("簽到 - "),(0,s._)("span",C,(0,n.zw)(c.scheduleData.punchInTime.substring(0,c.scheduleData.punchInTime.length-3)),1)])):(0,s.kq)("",!0),!c.scheduleData?.punchInTime?.length>0?((0,s.wg)(),(0,s.iD)("span",D,[(0,s.Uk)("簽到 - "),I])):(0,s.kq)("",!0),(0,s._)("div",b,[c.scheduleData?.punchOutTime?.length>0?((0,s.wg)(),(0,s.iD)("span",y,[(0,s.Uk)("簽退 - "),(0,s._)("span",_,(0,n.zw)(c.scheduleData.punchOutTime.substring(0,c.scheduleData.punchOutTime.length-3)),1)])):(0,s.kq)("",!0),!c.scheduleData?.punchOutTime?.length>0?((0,s.wg)(),(0,s.iD)("span",P,[(0,s.Uk)("簽退 - "),B])):(0,s.kq)("",!0),3==c.scheduleData.workingStatus?((0,s.wg)(),(0,s.iD)("a",T,"確認完工")):(0,s.kq)("",!0)])])])):(0,s.kq)("",!0),"pink"==c.mode?((0,s.wg)(),(0,s.iD)("div",E,[H,(0,s._)("div",x,[1==c.scheduleData.punchInType||3==c.scheduleData.punchInType?((0,s.wg)(),(0,s.iD)("span",Q,[(0,s.Uk)("簽到 - "),(0,s._)("span",q,(0,n.zw)(c.scheduleData.punchInTime.substring(0,16)),1)])):(0,s.kq)("",!0),0==c.scheduleData.punchInType||2==c.scheduleData.punchInType?((0,s.wg)(),(0,s.iD)("span",z,[(0,s.Uk)("簽到 - "),O])):(0,s.kq)("",!0),(0,s._)("div",U,[1==c.scheduleData.punchOutType||3==c.scheduleData.punchOutType?((0,s.wg)(),(0,s.iD)("span",N,[(0,s.Uk)("簽退 - "),(0,s._)("span",W,(0,n.zw)(c.scheduleData.punchOutTime.substring(0,16)),1)])):(0,s.kq)("",!0),0==c.scheduleData.punchOutType||2==c.scheduleData.punchOutType?((0,s.wg)(),(0,s.iD)("span",S,[(0,s.Uk)("簽退 - "),F])):(0,s.kq)("",!0),0==c.scheduleData.workingStatus||2==c.scheduleData.workingStatus?((0,s.wg)(),(0,s.iD)("a",j,"打卡")):(0,s.kq)("",!0)])])])):(0,s.kq)("",!0)])]),(0,s._)("div",M,[(0,s._)("div",L,(0,n.zw)(c.scheduleData.checkedCaretaker.name),1),(0,s._)("div",J,[(0,s._)("div",null,[(0,s._)("div",V,[(0,s._)("div",$,[(0,s._)("div",G,[Z,(0,s._)("div",K,(0,n.zw)("Male"==c.scheduleData.checkedCaretaker.gender?"男性":"女性"),1)]),(0,s._)("div",X,[Y,(0,s._)("div",R,(0,n.zw)(c.scheduleData.checkedCaretaker.age)+"歲",1)]),(0,s._)("div",ee,[ae,(0,s._)("div",te,(0,n.zw)(c.scheduleData.checkedCaretaker.height)+"公分",1)]),(0,s._)("div",se,[ne,(0,s._)("div",le,(0,n.zw)(c.scheduleData.checkedCaretaker.weight)+"公斤",1)]),(0,s._)("div",ce,[ie,(0,s._)("div",oe,(0,n.zw)(c.scheduleData.checkedCaretaker.seniority),1)]),(0,s._)("div",re,[de,(0,s._)("div",ue,(0,n.zw)(c.scheduleData.checkedCaretaker.countryCode),1)]),(0,s._)("div",he,[ge,(0,s._)("div",ve,(0,n.zw)(c.scheduleData.checkedCaretaker.languageInfo.join("、")),1)])]),c.scheduleData.checkedCaretaker.avatarUrl?((0,s.wg)(),(0,s.iD)("img",{key:0,src:c.scheduleData.checkedCaretaker.avatarUrl,alt:"看護照片",onerror:"this.onerror=null; this.src='https://fakeimg.pl/120x160/'"},null,8,Ae)):(0,s.kq)("",!0),c.scheduleData.checkedCaretaker.avatarUrl?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("img",fe))]),(0,s._)("div",pe,[ke,(0,s._)("div",me,(0,n.zw)(c.scheduleData.serviceName),1)]),(0,s._)("div",we,[Ce,(0,s._)("div",De,(0,n.zw)(c.scheduleData.checkedCaretaker.license.join("、")),1)]),(0,s._)("div",Ie,[be,c.scheduleData.checkedCaretaker.wage.home?((0,s.wg)(),(0,s.iD)("div",ye,[(0,s.Uk)("居家：NT$"+(0,n.zw)(c.scheduleData.checkedCaretaker.wage.home)+"/小時",1),c.scheduleData.checkedCaretaker.wage?.fullDay?.home?((0,s.wg)(),(0,s.iD)("span",_e,"、NT$"+(0,n.zw)(c.scheduleData.checkedCaretaker.wage.fullDay.home)+"/日",1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),c.scheduleData.checkedCaretaker.wage.home?((0,s.wg)(),(0,s.iD)("div",Pe,[(0,s.Uk)("醫院：NT$"+(0,n.zw)(c.scheduleData.checkedCaretaker.wage.hospital)+"/小時",1),c.scheduleData.checkedCaretaker.wage?.fullDay?.hospital?((0,s.wg)(),(0,s.iD)("span",Be,"、NT$"+(0,n.zw)(c.scheduleData.checkedCaretaker.wage.fullDay.hospital)+"/日",1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),(0,s._)("div",Te,[Ee,(0,s._)("div",He,(0,n.zw)(c.scheduleData.checkedCaretaker.experienceInfo.join("、")),1)]),(0,s._)("div",xe,[Qe,(0,s._)("div",qe,(0,n.zw)(c.scheduleData.checkedCaretaker.workPlaceInfo.join("、")),1)]),(0,s._)("div",ze,[Oe,(0,s._)("div",Ue,(0,n.zw)(c.scheduleData.checkedCaretaker.timePeriodInfo.join("、")),1)]),(0,s._)("div",Ne,[We,(0,s._)("div",Se,(0,n.zw)(c.scheduleData.checkedCaretaker.selfIntroduction),1)])])])]),(0,s._)("div",Fe,[je,(0,s._)("div",Me,[(0,s._)("div",null,[(0,s._)("div",Le,[Je,(0,s._)("div",Ve,(0,n.zw)(c.scheduleData.disabledPerson.name),1)]),(0,s._)("div",$e,[Ge,(0,s._)("div",Ze,(0,n.zw)("Female"==c.scheduleData.disabledPerson.gender?"女性":"男性"),1)]),(0,s._)("div",Ke,[Xe,(0,s._)("div",Ye,(0,n.zw)(c.scheduleData.disabledPerson.age)+"歲",1)]),(0,s._)("div",Re,[ea,(0,s._)("div",aa,(0,n.zw)(c.scheduleData.disabledPerson.height)+"公分",1)]),(0,s._)("div",ta,[sa,(0,s._)("div",na,(0,n.zw)(c.scheduleData.disabledPerson.weight)+"公斤",1)]),(0,s._)("div",la,[ca,(0,s._)("div",ia,(0,n.zw)(c.scheduleData.disabledPerson.relationship),1)]),(0,s._)("div",oa,[ra,0!=c.scheduleData?.disabledPerson?.abilityToActInfo?.length?((0,s.wg)(),(0,s.iD)("div",da,(0,n.zw)(c.scheduleData?.disabledPerson?.abilityToActInfo?.join("、")),1)):(0,s.kq)("",!0),0==c.scheduleData?.disabledPerson?.abilityToActInfo?.length?((0,s.wg)(),(0,s.iD)("div",ua,"無")):(0,s.kq)("",!0)]),(0,s._)("div",ha,[ga,(0,s._)("div",va,(0,n.zw)(c.scheduleData.disabledPerson.servicePlaceInfo),1)])])])]),(0,s._)("div",Aa,[fa,(0,s._)("div",pa,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.scheduleData?.disabledPerson?.disease,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"main2",key:e.id},[(0,s._)("div",ka,(0,n.zw)(e.diseaseName),1),(0,s._)("div",ma,(0,n.zw)(e.symptom.join("、")),1)])))),128))])]),(0,s._)("div",wa,[Ca,(0,s._)("div",Da,[(0,s._)("div",Ia,(0,n.zw)(c.scheduleData.employerService?.serviceInfo?.join("、")),1)])]),(0,s._)("div",ba,[(0,s._)("div",ya,[(0,s._)("div",_a,[(0,s._)("div",Pa,[(0,s._)("div",Ba,[0!=c.scheduleData.reason?.punchInReason?.length||0!=c.scheduleData.reason?.punchOutReason?.length?((0,s.wg)(),(0,s.iD)("div",Ta,[Ea,(0,s._)("div",Ha,(0,n.zw)(c.scheduleData?.reason?.punchInReason),1),(0,s._)("div",xa,(0,n.zw)(c.scheduleData?.reason?.punchOutReason),1)])):(0,s.kq)("",!0),(0,s._)("div",Qa,[qa,za,Oa,(0,s._)("span",Ua,[(0,s._)("i",{class:(0,n.C_)(c.starClass[0]),onClick:a[0]||(a[0]=e=>c.starBtn(1))},null,2),(0,s._)("i",{class:(0,n.C_)(c.starClass[1]),onClick:a[1]||(a[1]=e=>c.starBtn(2))},null,2),(0,s._)("i",{class:(0,n.C_)(c.starClass[2]),onClick:a[2]||(a[2]=e=>c.starBtn(3))},null,2),(0,s._)("i",{class:(0,n.C_)(c.starClass[3]),onClick:a[3]||(a[3]=e=>c.starBtn(4))},null,2),(0,s._)("i",{class:(0,n.C_)(c.starClass[4]),onClick:a[4]||(a[4]=e=>c.starBtn(5))},null,2)])]),(0,s._)("div",Na,[Wa,(0,s.wy)((0,s._)("textarea",{class:"form-control",rows:"5",placeholder:"請輸入評語","onUpdate:modelValue":a[5]||(a[5]=e=>c.postData.comment=e)},null,512),[[l.nr,c.postData.comment]])])])]),(0,s._)("div",Sa,[(0,s._)("div",Fa,[(0,s._)("div",ja,[(0,s._)("div",Ma,[(0,s._)("button",{class:"btn btn-outline-primary",type:"button","data-bs-dismiss":"modal",onClick:a[6]||(a[6]=(...e)=>c.checkFinish&&c.checkFinish(...e))},"確認完工")]),La])])])])])]),(0,s._)("div",Ja,[(0,s._)("div",Va,[(0,s._)("div",$a,[(0,s._)("div",Ga,[(0,s._)("div",Za,[(0,s._)("div",Ka,[(0,s._)("div",Xa,[(0,s._)("div",Ya,(0,n.zw)(c.nowTime.hh)+":"+(0,n.zw)(c.nowTime.mm)+":"+(0,n.zw)(c.nowTime.ss),1),(0,s._)("div",Ra,(0,n.zw)(c.nowTime.year)+"/"+(0,n.zw)(c.nowTime.month)+"/"+(0,n.zw)(c.nowTime.date)+" "+(0,n.zw)(c.nowTime.day),1)])]),(0,s._)("div",et,[(0,s._)("div",at,[tt,(0,s._)("div",st,(0,n.zw)(c.scheduleData.startTime.substring(0,c.scheduleData.startTime.length-3))+" ~ "+(0,n.zw)(c.scheduleData.endTime.substring(0,c.scheduleData.endTime.length-3)),1)])]),2==c.scheduleData.punchInType||2==c.scheduleData.punchOutType?((0,s.wg)(),(0,s.iD)("div",nt,[lt,(0,s.wy)((0,s._)("textarea",{class:"form-control",rows:"5",placeholder:"請輸入補打卡理由","onUpdate:modelValue":a[7]||(a[7]=e=>c.punchData.reason=e),required:""},null,512),[[l.nr,c.punchData.reason]])])):(0,s.kq)("",!0),(0,s._)("div",ct,[(0,s._)("div",it,[(0,s._)("div",ot,[0==c.scheduleData.punchInType||2==c.scheduleData.punchInType?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn-signin",type:"button","data-bs-dismiss":"modal",onClick:a[8]||(a[8]=(...e)=>c.punchIn&&c.punchIn(...e))},"簽到")):(0,s.kq)("",!0),1==c.scheduleData.punchInType||3==c.scheduleData.punchInType?((0,s.wg)(),(0,s.iD)("button",rt,(0,n.zw)(c.scheduleData.punchInTime.split(" ")[1].slice(0,5)),1)):(0,s.kq)("",!0)]),(0,s._)("div",dt,[0==c.scheduleData.punchOutType||2==c.scheduleData.punchOutType?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn-signout",type:"button","data-bs-dismiss":"modal",onClick:a[9]||(a[9]=(...e)=>c.punchOut&&c.punchOut(...e))},"簽退")):(0,s.kq)("",!0),1==c.scheduleData.punchOutType||3==c.scheduleData.punchOutType?((0,s.wg)(),(0,s.iD)("button",ut,(0,n.zw)(c.scheduleData.punchOutTime.split(" ")[1].slice(0,5)),1)):(0,s.kq)("",!0)])])])])])])])])])])):(0,s.kq)("",!0)])],64)}t(7658);var gt=t(2262),vt=t(9799),At=t(4988),ft=t(1557),pt=t(1830),kt={setup(){let e=(0,gt.iH)("purple"),a=(0,gt.iH)();const t=(0,At.nN)().urlId;let n=(0,gt.iH)(["fas fa-star active","fas fa-star","fas fa-star","fas fa-star","fas fa-star"]),l=(0,gt.iH)({scheduleId:t,star:1,comment:""}),c=(0,gt.iH)({time:null,reason:null});const i=(0,gt.iH)({});(0,s.bv)((async()=>{try{e.value="pink",a.value=await(0,pt.bJ)({id:t}),a.value=a.value.data.data,a.value.checkedCaretaker.languageInfo=[],a.value.checkedCaretaker.language?.length>0&&a.value.checkedCaretaker.language.forEach((e=>{a.value.checkedCaretaker.languageInfo.push(e.name)})),a.value.checkedCaretaker.experienceInfo=[],a.value.checkedCaretaker.experience?.length>0&&a.value.checkedCaretaker.experience.forEach((e=>{a.value.checkedCaretaker.experienceInfo.push(e.careExperience)})),a.value.checkedCaretaker.workPlaceInfo=[],a.value.checkedCaretaker.workPlace?.length>0&&a.value.checkedCaretaker.workPlace.forEach((e=>{a.value.checkedCaretaker.workPlaceInfo.push(`${e.city}${e.area}`)})),a.value.disabledPerson.abilityToActInfo=[],a.value.disabledPerson.abilityToAct?.length>0&&a.value.disabledPerson.abilityToAct.forEach((e=>{a.value.disabledPerson.abilityToActInfo.push(e.name)})),a.value.disabledPerson.servicePlaceInfo=a.value.disabledPerson.servicePlace.city.name+a.value.disabledPerson.servicePlace.area.name+" "+a.value.disabledPerson.servicePlace.place.name,a.value.employerService.serviceInfo=[],a.value.employerService.service?.length>0&&a.value.employerService.service.forEach((e=>{a.value.employerService.serviceInfo.push(e.name)})),a.value.checkedCaretaker.timePeriodInfo=[],a.value.checkedCaretaker.timePeriod.forEach((e=>{a.value.checkedCaretaker.timePeriodInfo.push(e.name)})),a.value.checkedCaretaker.timePeriodInfo.reverse(),0!=a.value.checkedCaretaker.otherJobTime&&a.value.timePeriodInfo.push(`${a.value.checkedCaretaker.otherJobTime}小時`)}catch(s){console.log(s)}}));const o=e=>{1==e?n.value=["fas fa-star active","fas fa-star","fas fa-star","fas fa-star","fas fa-star"]:2==e?n.value=["fas fa-star active","fas fa-star active","fas fa-star","fas fa-star","fas fa-star"]:3==e?n.value=["fas fa-star active","fas fa-star active","fas fa-star active","fas fa-star","fas fa-star"]:4==e?n.value=["fas fa-star active","fas fa-star active","fas fa-star active","fas fa-star active","fas fa-star"]:5==e&&(n.value=["fas fa-star active","fas fa-star active","fas fa-star active","fas fa-star active","fas fa-star active"]),l.value.star=e},r=async()=>{try{let e=await(0,pt.Zv)({id:t},l.value);if(1==e.status)(0,ft.FN)("已確認完工"),a.value.workingStatus=1;else{let a=(0,At.b$)(e);(0,ft.FN)(a)}}catch(e){console.log(e)}},d=()=>{let e=new Date;i.value.year=(0,At.vL)(e.getFullYear()),i.value.month=(0,At.vL)(e.getMonth()+1),i.value.date=(0,At.vL)(e.getDate()),i.value.hh=(0,At.vL)(e.getHours()),i.value.mm=(0,At.vL)(e.getMinutes()),i.value.ss=(0,At.vL)(e.getSeconds()),i.value.day=(0,At.vL)(e.getDay()),i.value.text=`${i.value.year}-${i.value.month}-${i.value.date} ${i.value.hh}:${i.value.mm}`,0==i.value.day?i.value.day="星期天":1==i.value.day?i.value.day="星期一":2==i.value.day?i.value.day="星期二":3==i.value.day?i.value.day="星期三":4==i.value.day?i.value.day="星期四":5==i.value.day?i.value.day="星期五":6==i.value.day&&(i.value.day="星期六")},u=setInterval((()=>{d()}),1e3),h=async()=>{if(2!=a.value.punchOutType||c.value.reason){c.value.time=i.value.text,a.value.punchInTime=i.value.text.replace(/-/g,"/");try{let e=await(0,pt.pB)({id:t},c.value);if(1==e.status)(0,ft.FN)("已完成簽到打卡"),a.value.punchInType=1;else{let a=(0,At.b$)(e);(0,ft.FN)(a)}}catch(e){console.log(e)}}else(0,ft.FN)("請填寫補打卡理由")},g=async()=>{if(a.value.punchInTime)if(2!=a.value.punchOutType||c.value.reason){c.value.time=i.value.text.replace(/-/g,"/"),a.value.punchOutTime=i.value.text;try{let e=await(0,pt.Wp)({id:t},c.value);if(1==e.status)(0,ft.FN)("已完成簽退打卡"),a.value.punchOutType=1;else{let a=(0,At.b$)(e);(0,ft.FN)(a)}}catch(e){console.log(e)}}else(0,ft.FN)("請填寫補打卡理由");else(0,ft.FN)("請先完成簽到打卡")};return(0,s.Ah)((()=>clearInterval(u))),{mode:e,getTime:u,nowTime:i,punchData:c,punchIn:h,punchOut:g,scheduleData:a,starBtn:o,starClass:n,postData:l,checkFinish:r}},components:{Header:vt.Z}},mt=t(3744);const wt=(0,mt.Z)(kt,[["render",ht],["__scopeId","data-v-39a9c229"]]);var Ct=wt},8776:function(e){e.exports="data:image/jpeg;base64,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"}}]);
//# sourceMappingURL=678.4707e149.js.map