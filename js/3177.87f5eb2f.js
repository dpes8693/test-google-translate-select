"use strict";(self["webpackChunknubk_cli"]=self["webpackChunknubk_cli"]||[]).push([[3177],{9799:function(a,e,t){t.d(e,{Z:function(){return C}});var l=t(6252),i=t(3577);const o=a=>((0,l.dD)("data-v-6d50fb3a"),a=a(),(0,l.Cn)(),a),r={class:"c-header"},c={class:"navbar ui-navbar"},n={class:"navbar-nav"},s=o((()=>(0,l._)("a",{class:"nav-link"},[(0,l._)("i",{class:"fa fa-chevron-left"})],-1))),u=[s],d={class:"navbar-brand"},v={class:"navbar-nav"},p={class:"nav-item"},g={class:"nav-link"};function h(a,e,t,o,s,h){return(0,l.wg)(),(0,l.iD)("header",r,[(0,l._)("nav",c,[(0,l._)("ul",n,[(0,l._)("li",{class:"nav-item",onClick:e[0]||(e[0]=(...a)=>o.backTo&&o.backTo(...a))},u)]),(0,l._)("h1",d,(0,i.zw)(t.title),1),(0,l._)("ul",v,[(0,l._)("li",p,[(0,l._)("a",g,[(0,l._)("i",{class:(0,i.C_)(o.iconCode),onClick:e[1]||(e[1]=(...a)=>o.goto&&o.goto(...a))},[(0,l._)("span",null,(0,i.zw)(o.text),1)],2)])])])])])}t(7658);var y=t(2201),_=t(4477),f={props:{title:String,right:String,path:String,backToPath:String},setup(a){const e=(0,_.s6)(),t=e.goto,l=(0,y.tv)();let i="",o="";const r=a.right?a.right:"";"add"==r&&(i="fa fa-plus",o=" 新增"),"map"==r&&(i="fas fa-map-marker-alt",o=" 地圖"),"text"==r&&(i="far fa-list-ul",o=" 列表"),"search"==r&&(i="far fa-search",o=" 搜尋");const c=()=>{"search"==a.path?console.log("search"):l.push({path:a.path})},n=()=>{if("-1"==a.backToPath)try{t("back")}catch(e){console.log(e),l.back()}else a.backToPath?l.push({path:a.backToPath}):l.push({path:"/home"})};return{iconCode:i,text:o,backTo:n,goto:c}}},I=t(3744);const m=(0,I.Z)(f,[["render",h],["__scopeId","data-v-6d50fb3a"]]);var C=m},3252:function(a,e,t){t.d(e,{Z:function(){return x}});var l=t(6252),i=t(3577),o=t(9963);const r=a=>((0,l.dD)("data-v-79630406"),a=a(),(0,l.Cn)(),a),c={class:"ui-tab selectArea"},n={class:"row"},s={class:"col"},u=r((()=>(0,l._)("option",{selected:""},"請選擇縣市",-1))),d=["value"],v={class:"col"},p=r((()=>(0,l._)("option",{selected:""},"請選擇鄉鎮市區",-1))),g=["value"],h={class:"row"},y={class:"col"},_=["value"];function f(a,e,t,r,f,I){return(0,l.wg)(),(0,l.iD)("div",c,[(0,l._)("div",n,[(0,l._)("div",s,[(0,l.wy)((0,l._)("select",{class:"form-control form-select","onUpdate:modelValue":e[0]||(e[0]=a=>r.city=a),onChange:e[1]||(e[1]=(...a)=>r.changeCityIdx&&r.changeCityIdx(...a))},[u,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.cityAreaData,(a=>((0,l.wg)(),(0,l.iD)("option",{value:a.id,key:a.id},(0,i.zw)(a.city_name),9,d)))),128))],544),[[o.bM,r.city]])]),(0,l._)("div",v,[(0,l.wy)((0,l._)("select",{class:"form-control form-select","onUpdate:modelValue":e[2]||(e[2]=a=>r.area=a),onChange:e[3]||(e[3]=(...a)=>r.changeAreaIdx&&r.changeAreaIdx(...a))},[p,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.areaList,(a=>((0,l.wg)(),(0,l.iD)("option",{value:a.id,key:a.id},(0,i.zw)(a.area_name),9,g)))),128))],544),[[o.bM,r.area]])])]),(0,l._)("div",h,[(0,l._)("div",y,[(0,l.wy)((0,l._)("select",{class:"form-control form-select","onUpdate:modelValue":e[4]||(e[4]=a=>r.code=a),onChange:e[5]||(e[5]=(...a)=>r.changeCodeIdx&&r.changeCodeIdx(...a))},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.codeList,(a=>((0,l.wg)(),(0,l.iD)("option",{value:a.id,key:a.id},(0,i.zw)(a.name),9,_)))),128))],544),[[o.bM,r.code]])])])])}var I=t(2262),m=t(1830),C=t(4477),b={props:{},setup(a,{emit:e}){const t=(0,C.c7)(),i=(0,C.fG)();let o=(0,I.iH)([]),r=(0,I.iH)([]),c=(0,I.iH)("請選擇縣市"),n=(0,I.iH)("請選擇鄉鎮市區"),s=(0,I.iH)(1),u=(0,I.iH)(0),d=(0,I.iH)(0),v=(0,I.iH)(1),p=((0,I.iH)([]),(0,I.iH)([])),g=(0,I.iH)([]);const h=a=>{u.value=a.target.value},y=a=>{d.value=a.target.value},_=a=>{v.value=a.target.value},f=()=>{e("cityIdx",u)},b=()=>{e("areaIdx",d)},w=()=>{e("codeIdx",v)};return(0,l.bv)((async()=>{void 0==t.cityAreaList2?(r.value=await(0,m.EJ)(),t.cityAreaList2=r.value):r.value=t.cityAreaList2,o.value=r.value.data.cityArea,g.value=r.value.data.codeList,0==i.userPosition.cityId?(c.value=65e3,u.value=65e3,p.value=o.value.filter((a=>a.id==u.value))[0].areas,n.value=65000020,d.value=65000020):(c.value=i.userPosition.cityId_2,u.value=i.userPosition.cityId_2,p.value=o.value.filter((a=>a.id==u.value))[0].areas,n.value=i.userPosition.areaId_2,d.value=i.userPosition.areaId_2)})),(0,l.YP)((()=>u.value),(async()=>{p.value=o.value.filter((a=>a.id==u.value))[0].areas,f()})),(0,l.YP)((()=>d.value),(async()=>{b()})),(0,l.YP)((()=>v.value),(async()=>{w()})),{cityAreaData:o,city:c,area:n,areaList:p,changeCityIdx:h,changeAreaIdx:y,codeList:g,code:s,changeCodeIdx:_}}},w=t(3744);const k=(0,w.Z)(b,[["render",f],["__scopeId","data-v-79630406"]]);var x=k},3177:function(a,e,t){t.r(e),t.d(e,{default:function(){return A}});var l=t(6252),i=t(3577);const o=a=>((0,l.dD)("data-v-d06b2c4e"),a=a(),(0,l.Cn)(),a),r={class:"longtermCare"},c={class:"c-main"},n={class:"resource-container"},s=["onClick"],u={class:"card-header"},d=["href"],v=o((()=>(0,l._)("i",{class:"far fa-map-marker"},null,-1))),p=[v],g={class:"card-body"},h=["href"],y={class:"card-title"},_={class:"card-text"},f=o((()=>(0,l._)("br",null,null,-1)));function I(a,e,t,o,v,I){const m=(0,l.up)("Header"),C=(0,l.up)("CitySelecter");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(m,{title:"長照2.0",right:"map",path:"/map/longtermCareMap"}),(0,l._)("div",r,[(0,l._)("section",c,[(0,l.Wm)(C,{onCityIdx:o.updateCityIdx,onAreaIdx:o.updateAreaIdx,onCodeIdx:o.updateCodeIdx},null,8,["onCityIdx","onAreaIdx","onCodeIdx"]),(0,l._)("div",n,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.longTermData,(a=>((0,l.wg)(),(0,l.iD)("div",{class:"card",key:JSON.stringify(a?.geometry?.coordinates),onClick:e=>o.goto("routerQuery","/map/longtermCareMap",{query:{longitude:a?.geometry?.coordinates?.[0],latitude:a?.geometry?.coordinates?.[1]}})},[(0,l._)("div",u,[(0,l._)("a",{href:a.properties?.website,class:"card-link"},p,8,d)]),(0,l._)("div",g,[(0,l._)("a",{href:a.properties?.website,class:"card-link"},[(0,l._)("div",y,(0,i.zw)(a.properties?.name),1),(0,l._)("div",_,[(0,l.Uk)((0,i.zw)(a.properties?.address),1),f,(0,l.Uk)(" "+(0,i.zw)(a.properties?.telephone),1)])],8,h)])],8,s)))),128))])])])],64)}var m=t(9799),C=t(3252),b=t(1557),w=t(2262),k=t(1830),x=t(4477),H={setup(){const a=(0,x.s6)(),e=a.goto;let t=(0,w.iH)([]),i=(0,w.iH)(0),o=(0,w.iH)(0),r=(0,w.iH)(1);const c=a=>{i.value=a.value},n=a=>{o.value=a.value},s=a=>{r.value=a.value};return(0,l.YP)((()=>i.value),(async()=>{0!=i.value&&0!=o.value&&0!=r.value&&(t.value=await(0,k.yD)({cityId:i.value,areaId:o.value,code:r.value}),0==t.value.data.length?((0,b.FN)("該區域無資料"),t.value=[]):t.value=t.value.data)})),(0,l.YP)((()=>o.value),(async()=>{0!=i.value&&0!=o.value&&0!=r.value&&(t.value=await(0,k.yD)({cityId:i.value,areaId:o.value,code:r.value}),0==t.value.data.length?((0,b.FN)("該區域無資料"),t.value=[]):t.value=t.value.data)})),(0,l.YP)((()=>r.value),(async()=>{0!=i.value&&0!=o.value&&0!=r.value&&(t.value=await(0,k.yD)({cityId:i.value,areaId:o.value,code:r.value}),0==t.value.data.length?((0,b.FN)("該區域無資料"),t.value=[]):t.value=t.value.data)})),{longTermData:t,updateCityIdx:c,updateAreaIdx:n,updateCodeIdx:s,goto:e}},components:{Header:m.Z,CitySelecter:C.Z}},D=t(3744);const P=(0,D.Z)(H,[["render",I],["__scopeId","data-v-d06b2c4e"]]);var A=P}}]);
//# sourceMappingURL=3177.87f5eb2f.js.map