"use strict";(self["webpackChunknubk_cli"]=self["webpackChunknubk_cli"]||[]).push([[2361],{8019:function(e,a,l){l.d(a,{D:function(){return s}});const s=()=>{const e="input:not(input[type = checkbox], input[type = radio], input[type = file], input[readonly], input[disabled])",a=document.querySelectorAll(e);a.forEach((e=>{e.addEventListener("focus",(()=>{document.body.classList.add("fixfixed")})),e.addEventListener("blur",(()=>{document.body.classList.remove("fixfixed")}))}))}},5765:function(e,a,l){l.d(a,{Z:function(){return f}});var s=l(6252),i=l(3577);const t=e=>((0,s.dD)("data-v-7303a0ce"),e=e(),(0,s.Cn)(),e),n={class:"c-header c-header-3"},c={class:"navbar ui-navbar"},r={class:"navbar-nav"},o={class:"nav-link"},u=t((()=>(0,s._)("h1",{class:"navbar-brand"},null,-1))),d=t((()=>(0,s._)("ul",{class:"navbar-nav"},[(0,s._)("li",{class:"nav-item"},[(0,s._)("a",{href:"javascript:void(0);",class:"nav-link"})])],-1)));function v(e,a,l,t,v,p){return(0,s.wg)(),(0,s.iD)("header",n,[(0,s._)("nav",c,[(0,s._)("ul",r,[(0,s._)("li",{class:"nav-item",onClick:a[0]||(a[0]=(...e)=>t.btnClick&&t.btnClick(...e))},[(0,s._)("a",o,[(0,s._)("i",{class:(0,i.C_)(t.iconCode)},null,2),(0,s.Uk)((0,i.zw)(t.text),1)])])]),u,d])])}l(7658);var p=l(2201),k=l(4477),g={props:{left:String,path:String,clickFun:Function},setup(e){const a=(0,k.s6)(),l=a.goto,s=(0,p.tv)();let i="",t="";const n=e.left?e.left:"";"chevronArrow"==n?i="fa fa-chevron-left":(i="far fa-arrow-left",t="上一步");const c=()=>{if("-1"==e.path)try{l("back")}catch(a){console.log(a),s.back()}else e.path?s.push({path:e.path}):e.clickFun?e.clickFun():s.push({path:"/home"})};return{iconCode:i,text:t,btnClick:c}}},m=l(3744);const b=(0,m.Z)(g,[["render",v],["__scopeId","data-v-7303a0ce"]]);var f=b},2361:function(e,a,l){l.r(a),l.d(a,{default:function(){return me}});var s=l(6252),i=l(3577),t=l(9963);const n=e=>((0,s.dD)("data-v-f19d37b4"),e=e(),(0,s.Cn)(),e),c={class:"requirementAdd"},r={class:"mb-3 step-container"},o={class:"nav justify-content-center"},u={class:"nav-item"},d=n((()=>(0,s._)("span",null,"1",-1))),v=[d],p={class:"nav-item"},k=n((()=>(0,s._)("span",null,"2",-1))),g=[k],m={class:"title"},b=n((()=>(0,s._)("hr",null,null,-1))),f={key:0,class:"page1"},_={class:"mb-3"},y=n((()=>(0,s._)("label",{class:"form-label"},[(0,s.Uk)("服務類別"),(0,s._)("span",{class:"star"},"*")],-1))),h=["value"],w={class:"mb-3"},D=n((()=>(0,s._)("label",{class:"form-label"},[(0,s.Uk)("服務人員性別"),(0,s._)("span",{class:"star"},"*")],-1))),L={class:"input-group"},I={class:"col form-check"},q=n((()=>(0,s._)("label",{class:"form-check-label",for:"None"},"不指定",-1))),H={class:"col form-check"},x=n((()=>(0,s._)("label",{class:"form-check-label",for:"Male"},"男性",-1))),U={class:"col form-check"},C=n((()=>(0,s._)("label",{class:"form-check-label",for:"Female"},"女性",-1))),F={class:"mb-3"},T=n((()=>(0,s._)("label",{class:"form-label"},[(0,s.Uk)("服務年資"),(0,s._)("span",{class:"star"},"*")],-1))),j={key:0,class:"input-list"},P=["value","id"],R=["for"],V={class:"mb-3"},N=n((()=>(0,s._)("label",{class:"form-label"},[(0,s.Uk)("語言能力(複選)"),(0,s._)("span",{class:"star"},"*")],-1))),z={key:0,class:"input-list"},G=["value","id"],S={class:"form-check-label",for:"'lang'+item.id"},Y={class:"mb-3"},A=n((()=>(0,s._)("label",{class:"form-label"},[(0,s.Uk)("是否需具備該服務類別專業證照"),(0,s._)("span",{class:"star"},"*")],-1))),K={class:"input-group"},M={class:"col form-check"},Z=n((()=>(0,s._)("label",{class:"form-check-label",for:"yes"},"是",-1))),E={class:"col form-check"},O=n((()=>(0,s._)("label",{class:"form-check-label",for:"no"},"否",-1))),W={key:1,class:"page2"},X={class:"mb-3"},B=n((()=>(0,s._)("label",{class:"form-label"},[(0,s.Uk)("服務需求(複選)"),(0,s._)("span",{class:"star"})],-1))),J={class:"input-pill"},Q={key:0,class:"row",required:""},$=["value","id"],ee=["for"],ae={class:"c-footer"},le={class:"ui-tabbtn"},se={class:"row"},ie={class:"col"};function te(e,a,l,n,d,k){const te=(0,s.up)("Header");return(0,s.wg)(),(0,s.iD)(s.HY,null,["page1"==n.showPage?((0,s.wg)(),(0,s.j4)(te,{key:0,path:"/requirement/list"})):(0,s.kq)("",!0),"page2"==n.showPage?((0,s.wg)(),(0,s.j4)(te,{key:1,clickFun:n.backToPage1},null,8,["clickFun"])):(0,s.kq)("",!0),(0,s._)("div",c,[(0,s._)("div",r,[(0,s._)("ul",o,[(0,s._)("li",u,[(0,s._)("a",{href:"javascript:void(0);",class:(0,i.C_)(n.stepStyle[0])},v,2)]),(0,s._)("li",p,[(0,s._)("a",{href:"javascript:void(0);",class:(0,i.C_)(n.stepStyle[1])},g,2)])])]),(0,s._)("div",m,[(0,s._)("p",null,(0,i.zw)(n.title),1)]),b,"page1"==n.showPage?((0,s.wg)(),(0,s.iD)("div",f,[(0,s._)("div",_,[y,n.jobTypeList.length>0?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,class:"form-control form-select","onUpdate:modelValue":a[0]||(a[0]=e=>n.serviceData.serviceRequirementId=e)},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.jobTypeList,(e=>((0,s.wg)(),(0,s.iD)("option",{value:e.id,key:e.id},(0,i.zw)(e.name),9,h)))),128))],512)),[[t.bM,n.serviceData.serviceRequirementId]]):(0,s.kq)("",!0)]),(0,s._)("div",w,[D,(0,s._)("div",L,[(0,s._)("div",I,[(0,s.wy)((0,s._)("input",{type:"radio",class:"form-check-input",value:"None",id:"None","onUpdate:modelValue":a[1]||(a[1]=e=>n.serviceData.gender=e)},null,512),[[t.G2,n.serviceData.gender]]),q]),(0,s._)("div",H,[(0,s.wy)((0,s._)("input",{type:"radio",class:"form-check-input",value:"Male",id:"Male","onUpdate:modelValue":a[2]||(a[2]=e=>n.serviceData.gender=e)},null,512),[[t.G2,n.serviceData.gender]]),x]),(0,s._)("div",U,[(0,s.wy)((0,s._)("input",{type:"radio",class:"form-check-input",value:"Female",id:"Female","onUpdate:modelValue":a[3]||(a[3]=e=>n.serviceData.gender=e)},null,512),[[t.G2,n.serviceData.gender]]),C])])]),(0,s._)("div",F,[T,n.expList.length>0?((0,s.wg)(),(0,s.iD)("div",j,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.expList,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"form-check-inline",key:e.id},[(0,s.wy)((0,s._)("input",{type:"radio",class:"form-check-input",value:"exp"+e.id,id:"exp"+e.id,"onUpdate:modelValue":a[4]||(a[4]=e=>n.serviceData.seniorityId=e)},null,8,P),[[t.G2,n.serviceData.seniorityId]]),(0,s._)("label",{class:"form-check-label",for:"exp"+e.id},(0,i.zw)(e.name),9,R)])))),128))])):(0,s.kq)("",!0)]),(0,s._)("div",V,[N,n.langList.length>0?((0,s.wg)(),(0,s.iD)("div",z,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.langList,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"form-check-inline",key:e.id},[(0,s.wy)((0,s._)("input",{type:"checkbox",class:"form-check-input",value:"lang"+e.id,id:"lang"+e.id,"onUpdate:modelValue":a[5]||(a[5]=e=>n.serviceData.languageId=e)},null,8,G),[[t.e8,n.serviceData.languageId]]),(0,s._)("label",S,(0,i.zw)(e.name),1)])))),128))])):(0,s.kq)("",!0)]),(0,s._)("div",Y,[A,(0,s._)("div",K,[(0,s._)("div",M,[(0,s.wy)((0,s._)("input",{type:"radio",class:"form-check-input",value:"1",id:"yes","onUpdate:modelValue":a[6]||(a[6]=e=>n.serviceData.isHasLicense=e)},null,512),[[t.G2,n.serviceData.isHasLicense]]),Z]),(0,s._)("div",E,[(0,s.wy)((0,s._)("input",{type:"radio",class:"form-check-input",value:"0",id:"no","onUpdate:modelValue":a[7]||(a[7]=e=>n.serviceData.isHasLicense=e)},null,512),[[t.G2,n.serviceData.isHasLicense]]),O])])])])):(0,s.kq)("",!0),"page2"==n.showPage?((0,s.wg)(),(0,s.iD)("div",W,[(0,s._)("div",X,[B,(0,s._)("div",J,[n.serviceRequirementList.length>0?((0,s.wg)(),(0,s.iD)("div",Q,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.serviceRequirementList,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col-4 form-check",key:e.id},[(0,s.wy)((0,s._)("input",{type:"checkbox",class:"form-check-input",value:e.id,id:e.id,"onUpdate:modelValue":a[8]||(a[8]=e=>n.serviceData.serviceId=e)},null,8,$),[[t.e8,n.serviceData.serviceId]]),(0,s._)("label",{class:"form-check-label",for:e.id},(0,i.zw)(e.name),9,ee)])))),128))])):(0,s.kq)("",!0)])])])):(0,s.kq)("",!0)]),(0,s._)("footer",ae,[(0,s._)("div",le,[(0,s._)("div",se,[(0,s._)("div",ie,["page1"==n.showPage?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn-primary",type:"button",onClick:a[9]||(a[9]=(...e)=>n.save&&n.save(...e))},"確認並繼續")):(0,s.kq)("",!0),"page2"==n.showPage?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn btn-primary",type:"button",onClick:a[10]||(a[10]=(...e)=>n.save2&&n.save2(...e))},"完成新增")):(0,s.kq)("",!0)])])])])],64)}l(7658);var ne=l(2262),ce=l(2201),re=l(1557),oe=l(5765),ue=l(1830),de=l(4477),ve=l(8019),pe={setup(){const e=(0,de.A2)(),a=(0,de.dU)(),l=(0,de.dX)(),i=(0,ce.tv)(),t=(0,ne.qj)({});let n=(0,ne.iH)(["nav-link active","nav-link","nav-link"]),c=(0,ne.iH)("page1"),r=(0,ne.iH)("服務資料");const o=()=>{c.value="page1",n.value=["nav-link active ","nav-link","nav-link"],r.value="基本資料"};t.serviceRequirementId="1",t.gender="None",t.seniorityId="exp1",t.languageId=[],t.isHasLicense="0";const u=()=>{0==t.languageId.length?(0,re.FN)("請至少填寫一項語言能力"):(c.value="page2",n.value=["nav-link visited","nav-link active","nav-link"],r.value="照顧需求")};t.serviceId=[];let d=(0,ne.iH)({});const v=async()=>{if(0==t.serviceId.length)(0,re.FN)("請至少填寫一項服務需求");else{d.value.serviceRequirementId=parseInt(t.serviceRequirementId),d.value.gender=t.gender,d.value.seniorityId=parseInt(t.seniorityId.replace(/[^0-9]/gi,"")),d.value.languageId=t.languageId.map((e=>parseInt(e.replace(/[^0-9]/gi,"")))),d.value.isHasLicense=parseInt(t.isHasLicense),d.value.serviceId=t.serviceId;let e=await(0,ue.WO)(d.value);"新增成功"==e.data?((0,re.FN)(e.data),i.push({path:"/requirement/list"})):(0,re.FN)(e.message)}};let p=(0,ne.iH)([]),k=(0,ne.iH)([]),g=(0,ne.iH)([]),m=(0,ne.iH)([]);return(0,s.bv)((async()=>{(0,ve.D)(),void 0==a.jobTypeList?(p.value=await(0,ue.Dr)(),p.value=p.value.data.data,a.jobTypeList=p.value):p.value=a.jobTypeList,void 0==l.experienceTypeList?(k.value=await(0,ue.PF)(),k.value=k.value.data.data,l.experienceTypeList=k.value):k.value=l.experienceTypeList,void 0==e.languageTypeList?(g.value=await(0,ue.L2)(),g.value=g.value.data.data,e.languageTypeList=g.value):g.value=e.languageTypeList,m.value=await(0,ue.su)({id:t.serviceRequirementId}),m.value=m.value.data.data})),(0,s.YP)((()=>t.serviceRequirementId),(async()=>{m.value=await(0,ue.su)({id:t.serviceRequirementId}),m.value=m.value.data.data,t.serviceId=[]})),{serviceData:t,jobTypeList:p,expList:k,langList:g,serviceRequirementList:m,stepStyle:n,showPage:c,title:r,save:u,backToPage1:o,save2:v}},components:{Header:oe.Z}},ke=l(3744);const ge=(0,ke.Z)(pe,[["render",te],["__scopeId","data-v-f19d37b4"]]);var me=ge}}]);
//# sourceMappingURL=2361.dbbcea53.js.map