"use strict";(self["webpackChunknubk_cli"]=self["webpackChunknubk_cli"]||[]).push([[6682],{6186:function(e,a,t){function n(){const e=navigator.userAgent.toLowerCase()||"";let a=navigator.platform.toLowerCase()||"";return a.indexOf("linux")>-1&&e.indexOf("android")>-1&&(a="android"),(a.indexOf("iphone")>-1||a.indexOf("ipad")>-1)&&(a="ios",console.log=function(e){window.webkit.messageHandlers.logger.postMessage(e)}),a}function s(e={}){let a=n()||"";if("android"==a)window.ExtCall.postMessage(e);else{if("ios"!=a)throw new Error(a);window.webkit.messageHandlers.ExtCall.postMessage(e)}}t.d(a,{H6:function(){return g},VU:function(){return d},sX:function(){return i}});const i={openNewWebView:o,replaceSetting:l,goBack:c,toBrowser:r};function o(e=""){const a=JSON.stringify({function:"popWebview",url:e});s(a)}function l(e="",a=""){const t=JSON.stringify({function:"changeProjectSettingURL",userid:e,url:a});s(t)}function r(e=""){const a=JSON.stringify({function:"toBrowser",url:e});s(a)}function c(){const e=JSON.stringify({function:"goBack"});s(e)}const d={lineLogin(e="",a=""){const t=JSON.stringify({function:"lineLogin",channel_id:e,callback:a});s(t)},appleLogin(e=""){const a=JSON.stringify({function:"appleLogin",callback:e});s(a)}},g={startGPS(e=""){const a=JSON.stringify({function:"startGPS",callback:e});s(a)},stopGPS(){const e=JSON.stringify({function:"stopGPS"});s(e)},getCurrentLocation(e=""){const a=JSON.stringify({function:"getCurrentLocation",callback:e});s(a)},getUserLocationHistory(e=""){const a=JSON.stringify({function:"getUserLocationHistory",callback:e});s(a)}}},4988:function(e,a,t){t.d(a,{Cq:function(){return l},Qr:function(){return A},Ux:function(){return c},b$:function(){return o},g7:function(){return v},hB:function(){return u},nN:function(){return r},nV:function(){return f},vL:function(){return g},vW:function(){return w},yv:function(){return I}});t(7658);var n=t(6186),s=t(1830),i=t(4477);const o=e=>"string"==typeof e.message?e.message:"other error",l=e=>{for(let a=0;a<24;a++)e.push({id:a,time:`${a}:00`}),e.push({id:a+1,time:`${a}:30`})},r=()=>{const e=location.href,a=e.split("/"),t=a[a.length-1];return{urlId:t}},c=()=>{const e=location.href,a=e.split("/"),t=a[a.length-2];return{urlId:t}},d=e=>[e.getFullYear(),e.getMonth()+1,e.getDate()],g=e=>e<10?"0"+e:e,A=e=>{let a=JSON.parse(JSON.stringify(e)),t={},n="";return a.forEach((e=>{e.start=new Date(e.start.replace(/-/g,"/")),e.end=new Date(e.end.replace(/-/g,"/")),e.info=d(e.start),t[`${e.info[0]}/${e.info[1]}`]?t[`${e.info[0]}/${e.info[1]}`].push(e.info[2]):t[`${e.info[0]}/${e.info[1]}`]=[e.info[2]]})),n=a[0]?.start.getHours()==a[0]?.end.getHours()?`${a[0]?.start.getHours()}:${g(a[0]?.start.getMinutes())} ~ ${a[0]?.end.getHours()}:${g(a[0]?.end.getMinutes())}(24小時)`:`${a[0]?.start.getHours()}:${g(a[0]?.start.getMinutes())} ~ ${a[0]?.end.getHours()}:${g(a[0]?.end.getMinutes())}`,{newDates:a,info:t,time:n}},u=e=>{let a=JSON.parse(JSON.stringify(e)),t={},n="";return a.forEach((e=>{e.start=new Date(e.start.replace(/-/g,"/")),e.end=new Date(e.end.replace(/-/g,"/")),e.info=d(e.start),t[`${e.info[0]}/${e.info[1]}`]?t[`${e.info[0]}/${e.info[1]}`].push([e.info[2],e.isDone]):t[`${e.info[0]}/${e.info[1]}`]=[[e.info[2],e.isDone]]})),n=a[0]?.start.getHours()==a[0]?.end.getHours()?"全天(24小時)":`${a[0]?.start.getHours()}:${g(a[0]?.start.getMinutes())} ~ ${a[0]?.end.getHours()}:${g(a[0]?.end.getMinutes())}`,{newDates:a,info:t,time:n}},v=e=>{let a=[],t=[],n={},s=[];return e?.length>0&&e.forEach((e=>a.push(e.split("-")))),a.forEach((e=>{let a=`${e[0]}/${e[1]}`;t.push(a),n[a]?n[a].push(e[2]):n[a]=[e[2]]})),t=t.filter(((e,a)=>t.indexOf(e)===a)),1==t.length&&s.push(`${t?.[0]}/${n?.[t?.[0]]?.join("、")}`),t.length>1&&s.push(`${t?.[1]}/${n?.[t?.[1]]?.join("、")}`),{monthInfo:t,dayInfo:n,dateInfo:s}},f=(e,a)=>{let t={};return a.forEach((a=>{let n=parseInt(a.substring(1,3))-1,s=parseInt(a.substring(3,5))-1,i=parseInt(a.substring(5,7))-1;Object.keys(t).includes(e[n].name)||Object.keys(t).includes(e[n].data[s].name)?t[e[n].data[s].name].push(e[n].data[s].data[i]):t[e[n].data[s].name]=[e[n].data[s].data[i]]})),t},I=()=>{try{window.ExtCallStartGPS=()=>!0,n.H6.startGPS("ExtCallStartGPS")}catch(e){}},w=()=>{const e=(0,i.fG)();if(0==e.userPosition.cityId)try{window.ExtCallGetCurrentLocation=async(a,t,n)=>{if("string"===typeof a&&a?.length>6){const a=await(0,s.MP)({longitude:n,latitude:t});console.log("apiGetPosition已發送/"+a.data.defaultPlace.cityName+"/"+a.data.defaultPlace.townName),e.userPosition.cityId=a.data.defaultPlace.cityId,e.userPosition.areaId=a.data.defaultPlace.areaId,e.userPosition.cityId_2=a.data.longTermCare2Place.cityId,e.userPosition.areaId_2=a.data.longTermCare2Place.areaId,console.log(e.userPosition.cityId+"/"+e.userPosition.areaId+"/"+e.userPosition.cityId_2+"/"+e.userPosition.areaId_2)}},n.H6.getCurrentLocation("ExtCallGetCurrentLocation")}catch(a){console.log("電腦版不支援 extCall GPS")}}},9799:function(e,a,t){t.d(a,{Z:function(){return m}});var n=t(6252),s=t(3577);const i=e=>((0,n.dD)("data-v-6d50fb3a"),e=e(),(0,n.Cn)(),e),o={class:"c-header"},l={class:"navbar ui-navbar"},r={class:"navbar-nav"},c=i((()=>(0,n._)("a",{class:"nav-link"},[(0,n._)("i",{class:"fa fa-chevron-left"})],-1))),d=[c],g={class:"navbar-brand"},A={class:"navbar-nav"},u={class:"nav-item"},v={class:"nav-link"};function f(e,a,t,i,c,f){return(0,n.wg)(),(0,n.iD)("header",o,[(0,n._)("nav",l,[(0,n._)("ul",r,[(0,n._)("li",{class:"nav-item",onClick:a[0]||(a[0]=(...e)=>i.backTo&&i.backTo(...e))},d)]),(0,n._)("h1",g,(0,s.zw)(t.title),1),(0,n._)("ul",A,[(0,n._)("li",u,[(0,n._)("a",v,[(0,n._)("i",{class:(0,s.C_)(i.iconCode),onClick:a[1]||(a[1]=(...e)=>i.goto&&i.goto(...e))},[(0,n._)("span",null,(0,s.zw)(i.text),1)],2)])])])])])}t(7658);var I=t(2201),w=t(4477),p={props:{title:String,right:String,path:String,backToPath:String},setup(e){const a=(0,w.s6)(),t=a.goto,n=(0,I.tv)();let s="",i="";const o=e.right?e.right:"";"add"==o&&(s="fa fa-plus",i=" 新增"),"map"==o&&(s="fas fa-map-marker-alt",i=" 地圖"),"text"==o&&(s="far fa-list-ul",i=" 列表"),"search"==o&&(s="far fa-search",i=" 搜尋");const l=()=>{"search"==e.path?console.log("search"):n.push({path:e.path})},r=()=>{if("-1"==e.backToPath)try{t("back")}catch(a){console.log(a),n.back()}else e.backToPath?n.push({path:e.backToPath}):n.push({path:"/home"})};return{iconCode:s,text:i,backTo:r,goto:l}}},h=t(3744);const k=(0,h.Z)(p,[["render",f],["__scopeId","data-v-6d50fb3a"]]);var m=k},6682:function(e,a,t){t.r(a),t.d(a,{default:function(){return Ja}});var n=t(6252),s=t(3577),i=t(9963),o=t(8776);const l=e=>((0,n.dD)("data-v-56bbd0a5"),e=e(),(0,n.Cn)(),e),r={class:"orderInfo"},c={class:"c-main"},d={class:"detail-container"},g={class:"item-container"},A=l((()=>(0,n._)("div",{class:"item-title"},"照顧日期時段",-1))),u={class:"item-content"},v={class:"main2"},f=l((()=>(0,n._)("div",{class:"title2"},"照顧日期",-1))),I={class:"content2"},w={key:0,class:"content2"},p={class:"main2"},h=l((()=>(0,n._)("div",{class:"title2"},"照顧時段",-1))),k={class:"content2"},m={key:0,class:"item-container"},y={class:"item-title item-link collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapse1"},D={class:"item-content collapse",id:"collapse1"},b={class:"main1"},C=l((()=>(0,n._)("div",{class:"title1"},"性別",-1))),_={class:"content1"},B={class:"main1"},P=l((()=>(0,n._)("div",{class:"title1"},"年資",-1))),E={class:"content1"},H={class:"main1"},S=l((()=>(0,n._)("div",{class:"title1"},"語言",-1))),q={class:"content1"},Q={class:"main2"},x=l((()=>(0,n._)("div",{class:"title2"},"具備證照",-1))),z={key:0,class:"content2"},j={key:1,class:"content2"},M={key:1,class:"item-container"},U=l((()=>(0,n._)("div",{class:"item-title item-link collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapse2"},"被照護者資訊",-1))),W={class:"item-content collapse",id:"collapse2"},F={class:"main1"},T=l((()=>(0,n._)("div",{class:"title1"},"名稱",-1))),L={class:"content1"},N={class:"main1"},O=l((()=>(0,n._)("div",{class:"title1"},"性別",-1))),J={class:"content1"},V={class:"main1"},G=l((()=>(0,n._)("div",{class:"title1"},"年齡",-1))),K={class:"content1"},Z={class:"main1"},X=l((()=>(0,n._)("div",{class:"title1"},"身高",-1))),Y={class:"content1"},R={class:"main1"},$=l((()=>(0,n._)("div",{class:"title1"},"體重",-1))),ee={class:"content1"},ae={class:"main1"},te=l((()=>(0,n._)("div",{class:"title1"},"關係",-1))),ne={class:"content1"},se={class:"main2"},ie=l((()=>(0,n._)("div",{class:"title2"},"行動能力",-1))),oe={key:0,class:"content2"},le={key:1,class:"content2"},re={class:"main2"},ce=l((()=>(0,n._)("div",{class:"title2"},"照顧地點",-1))),de={class:"content2"},ge={class:"item-container"},Ae=l((()=>(0,n._)("div",{class:"item-title item-link collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapse3"},"病症",-1))),ue={class:"item-content collapse",id:"collapse3"},ve={class:"title2"},fe={class:"content2"},Ie={key:2,class:"item-container"},we=l((()=>(0,n._)("div",{class:"item-title item-link collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapse4"},"服務需求",-1))),pe={class:"item-content collapse",id:"collapse4"},he={class:"content2"},ke={class:"item-container"},me={class:"item-title"},ye={class:"item-content"},De={class:"caregiver-outer"},be={class:"card-header"},Ce=["onClick"],_e=["src"],Be={key:1,src:o,class:"card-img"},Pe={class:"card-body"},Ee=["onClick"],He={class:"card-title"},Se={class:"card-date"},qe={key:0,class:"d-flex"},Qe=l((()=>(0,n._)("div",{class:"col-left"},"接受日期：",-1))),xe={class:"col-right"},ze={class:"yes"},je={key:0},Me={class:"yes"},Ue={key:1,class:"d-flex"},We=l((()=>(0,n._)("div",{class:"col-left"},"取消日期：",-1))),Fe={key:0,class:"col-right"},Te={key:1,class:"col-right"},Le={class:"no"},Ne={key:0},Oe={class:"no"},Je={key:2,class:"d-flex"},Ve=l((()=>(0,n._)("div",{class:"col-left"},"照顧日期：",-1))),Ge={class:"col-right"},Ke={key:0},Ze={class:"card-time"},Xe={class:"card-state"},Ye={key:0,class:"btn btn-state"},Re={key:1,class:"btn btn-state"},$e={key:2,class:"btn btn-wait"},ea={key:3,class:"btn btn-wait"},aa={class:"mt-4b btn-container"},ta={class:"row"},na={key:0,class:"col"},sa={class:"col"},ia={class:"modal fade",id:"openCourse",tabindex:"-1","aria-labelledby":"openModalLabel","aria-hidden":"true"},oa={class:"modal-dialog modal-dialog-centered"},la={class:"modal-content"},ra={class:"modal-body"},ca=l((()=>(0,n._)("div",{class:"noDataAlert"},"最愛照護人員",-1))),da={key:0,class:"caregiver-outer"},ga={class:"card-header"},Aa={href:"javascript:void(0);",class:"card-link"},ua=["src"],va={key:1,src:o,class:"card-img"},fa={class:"card-body"},Ia={href:"javascript:void(0);",class:"card-link"},wa={class:"card-title"},pa={class:"card-info"},ha={class:"card-license"},ka={key:0,class:"card-text"},ma={key:1,class:"card-text"},ya=["id","value"],Da={key:1,class:"caregiver-outer"},ba=l((()=>(0,n._)("div",{class:"noDataAlert"},"請先新增最愛看護清單",-1))),Ca=[ba],_a={class:"modal-footer"},Ba={class:"btn-container"},Pa={key:0,class:"row"},Ea={class:"col"},Ha=l((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{class:"btn btn-outline-primary",type:"button","data-bs-dismiss":"modal"},"取消邀約")],-1))),Sa={key:1,class:"row"},qa=l((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{class:"btn btn-outline-primary",type:"button","data-bs-dismiss":"modal"},"確定")],-1))),Qa=[qa];function xa(e,a,t,o,l,ba){const qa=(0,n.up)("Header");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(qa,{title:"工單內容",backToPath:"/order/list"}),(0,n._)("div",r,[(0,n._)("section",c,[(0,n._)("div",d,[(0,n._)("div",g,[A,(0,n._)("div",u,[(0,n._)("div",v,[f,(0,n._)("div",I,(0,s.zw)(o.orderData?.monthInfo?.[0])+"/"+(0,s.zw)(o.orderData?.info?.[o.orderData?.monthInfo?.[0]].join("、")),1),2==o.orderData?.monthInfo?.length?((0,n.wg)(),(0,n.iD)("div",w,(0,s.zw)(o.orderData?.monthInfo?.[1])+"/"+(0,s.zw)(o.orderData?.info?.[o.orderData?.monthInfo?.[1]].join("、")),1)):(0,n.kq)("",!0)]),(0,n._)("div",p,[h,(0,n._)("div",k,(0,s.zw)(o.orderData.time),1)])])]),o.orderData.employerService?((0,n.wg)(),(0,n.iD)("div",m,[(0,n._)("div",y,(0,s.zw)(o.orderData.employerService.name),1),(0,n._)("div",D,[(0,n._)("div",b,[C,(0,n._)("div",_,(0,s.zw)("Male"==o.orderData.employerService.gender?"男性":"Female"==o.orderData.employerService.gender?"女性":"不指定"),1)]),(0,n._)("div",B,[P,(0,n._)("div",E,(0,s.zw)(o.orderData.employerService?.seniority?.name),1)]),(0,n._)("div",H,[S,(0,n._)("div",q,(0,s.zw)(o.orderData.employerService.languageInfo.join("、")),1)]),(0,n._)("div",Q,[x,0!=o.orderData?.employerService?.licenseInfo?.length?((0,n.wg)(),(0,n.iD)("div",z,(0,s.zw)(o.orderData?.employerService?.licenseInfo?.join("、")),1)):(0,n.kq)("",!0),0==o.orderData?.employerService?.licenseInfo?.length?((0,n.wg)(),(0,n.iD)("div",j,"無")):(0,n.kq)("",!0)])])])):(0,n.kq)("",!0),o.orderData?.disabledPerson?((0,n.wg)(),(0,n.iD)("div",M,[U,(0,n._)("div",W,[(0,n._)("div",null,[(0,n._)("div",F,[T,(0,n._)("div",L,(0,s.zw)(o.orderData.disabledPerson.name),1)]),(0,n._)("div",N,[O,(0,n._)("div",J,(0,s.zw)("Female"==o.orderData.disabledPerson.gender?"女性":"男性"),1)]),(0,n._)("div",V,[G,(0,n._)("div",K,(0,s.zw)(o.orderData.disabledPerson.age)+"歲",1)]),(0,n._)("div",Z,[X,(0,n._)("div",Y,(0,s.zw)(o.orderData.disabledPerson.height)+"公分",1)]),(0,n._)("div",R,[$,(0,n._)("div",ee,(0,s.zw)(o.orderData.disabledPerson.weight)+"公斤",1)]),(0,n._)("div",ae,[te,(0,n._)("div",ne,(0,s.zw)(o.orderData.disabledPerson.relationship),1)]),(0,n._)("div",se,[ie,0!=o.orderData?.disabledPerson?.abilityToActInfo?.length?((0,n.wg)(),(0,n.iD)("div",oe,(0,s.zw)(o.orderData?.disabledPerson?.abilityToActInfo?.join("、")),1)):(0,n.kq)("",!0),0==o.orderData?.disabledPerson?.abilityToActInfo?.length?((0,n.wg)(),(0,n.iD)("div",le,"無")):(0,n.kq)("",!0)]),(0,n._)("div",re,[ce,(0,n._)("div",de,(0,s.zw)(o.orderData.disabledPerson.servicePlaceInfo),1)])])])])):(0,n.kq)("",!0),(0,n._)("div",ge,[Ae,(0,n._)("div",ue,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.orderData?.disabledPerson?.disease,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"main2",key:e.id},[(0,n._)("div",ve,(0,s.zw)(e.diseaseName),1),(0,n._)("div",fe,(0,s.zw)(e.symptom.join("、")),1)])))),128))])]),o.orderData?.employerService?((0,n.wg)(),(0,n.iD)("div",Ie,[we,(0,n._)("div",pe,[(0,n._)("div",he,(0,s.zw)(o.orderData.employerService?.serviceInfo?.join("、")),1)])])):(0,n.kq)("",!0),(0,n._)("div",ke,[(0,n._)("div",me,[(0,n.Uk)("已回復邀約"),(0,n._)("a",{href:"javascript:void(0);",class:"btn btn-add","data-bs-toggle":"modal","data-bs-target":"#openCourse",onClick:a[0]||(a[0]=(...e)=>o.loadFavData&&o.loadFavData(...e))},"新增邀約")]),(0,n._)("div",ye,[(0,n._)("div",De,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.orderData.careTakerList,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"card",key:e.id},[(0,n._)("div",be,[(0,n._)("a",{onClick:a=>o.goto(`/order/info/${o.urlId}/${e.id}`),class:"card-link"},[e.avatarUrl?((0,n.wg)(),(0,n.iD)("img",{key:0,src:e.avatarUrl,class:"card-img",onerror:"this.onerror=null; this.src='https://fakeimg.pl/91x121/'"},null,8,_e)):(0,n.kq)("",!0),e.avatarUrl?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("img",Be))],8,Ce)]),(0,n._)("div",Pe,[(0,n._)("a",{onClick:a=>o.goto(`/order/info/${o.urlId}/${e.id}`),class:"card-link"},[(0,n._)("div",He,(0,s.zw)(e.name)+"("+(0,s.zw)("Male"==e.gender?"男性":"女性")+"/"+(0,s.zw)(e.age)+"歲/"+(0,s.zw)(e.height)+"cm/"+(0,s.zw)(e.weight)+"kg)",1),(0,n._)("div",Se,[2==e.replyStatus?((0,n.wg)(),(0,n.iD)("div",qe,[Qe,(0,n._)("div",xe,[(0,n.Uk)((0,s.zw)(e?.checkMonthInfo[0])+"/",1),(0,n._)("span",ze,(0,s.zw)(e.checkDayInfo[e?.checkMonthInfo[0]].join("、")),1),2==e.checkMonthInfo?.length?((0,n.wg)(),(0,n.iD)("div",je,[(0,n.Uk)((0,s.zw)(e?.checkMonthInfo[1])+"/",1),(0,n._)("span",Me,(0,s.zw)(e.checkDayInfo[e?.checkMonthInfo[1]].join("、")),1)])):(0,n.kq)("",!0)])])):(0,n.kq)("",!0),2==e.replyStatus?((0,n.wg)(),(0,n.iD)("div",Ue,[We,0==e.cancelDate?((0,n.wg)(),(0,n.iD)("div",Fe,"無 ")):(0,n.kq)("",!0),0!=e.cancelDate?((0,n.wg)(),(0,n.iD)("div",Te,[(0,n.Uk)((0,s.zw)(e.cancelMonthInfo[0])+"/",1),(0,n._)("span",Le,(0,s.zw)(e.cancelDayInfo[e.cancelMonthInfo[0]].join("、")),1),2==e.cancelMonthInfo.length?((0,n.wg)(),(0,n.iD)("div",Ne,[(0,n.Uk)((0,s.zw)(e.cancelMonthInfo[1])+"/",1),(0,n._)("span",Oe,(0,s.zw)(e.cancelDayInfo[e.cancelMonthInfo[1]].join("、")),1)])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])):(0,n.kq)("",!0),2!=e.replyStatus?((0,n.wg)(),(0,n.iD)("div",Je,[Ve,(0,n._)("div",Ge,[(0,n.Uk)((0,s.zw)(o.orderData?.monthInfo?.[0])+"/"+(0,s.zw)(o.orderData?.info?.[o.orderData?.monthInfo?.[0]].join("、"))+" ",1),2==o.orderData?.monthInfo?.length?((0,n.wg)(),(0,n.iD)("div",Ke,(0,s.zw)(o.orderData?.monthInfo?.[1])+"/"+(0,s.zw)(o.orderData?.info?.[o.orderData?.monthInfo?.[1]].join("、")),1)):(0,n.kq)("",!0)])])):(0,n.kq)("",!0)]),(0,n._)("div",Ze,"照顧時段："+(0,s.zw)(e.startTime)+"~"+(0,s.zw)(e.endTime),1)],8,Ee),(0,n._)("div",Xe,[0==e.replyStatus?((0,n.wg)(),(0,n.iD)("a",Ye,"未讀取")):(0,n.kq)("",!0),1==e.replyStatus?((0,n.wg)(),(0,n.iD)("a",Re,"已讀取")):(0,n.kq)("",!0),2==e.replyStatus?((0,n.wg)(),(0,n.iD)("a",$e,"已接受")):(0,n.kq)("",!0),3==e.replyStatus?((0,n.wg)(),(0,n.iD)("a",ea,"已拒絕")):(0,n.kq)("",!0)])])])))),128))])])]),(0,n._)("div",aa,[(0,n._)("div",ta,[1==o.orderData.workOrderStatus?((0,n.wg)(),(0,n.iD)("div",na,[(0,n._)("button",{class:"btn btn-outline-primary",type:"button",onClick:a[1]||(a[1]=e=>o.goto(`/order/edit/${o.urlId}`))},"修改資料")])):(0,n.kq)("",!0),(0,n._)("div",sa,[(0,n._)("button",{class:"btn btn-outline-primary",type:"button",onClick:a[2]||(a[2]=(...e)=>o.deleteOrder&&o.deleteOrder(...e))},"刪除資料")])])]),(0,n._)("div",ia,[(0,n._)("div",oa,[(0,n._)("div",la,[(0,n._)("div",ra,[ca,o.favData.length>0?((0,n.wg)(),(0,n.iD)("div",da,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.favData,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"card",key:e.id},[(0,n._)("div",ga,[(0,n._)("a",Aa,[e.avatarImgUrl?((0,n.wg)(),(0,n.iD)("img",{key:0,src:e.avatarImgUrl,class:"card-img",onerror:"this.onerror=null; this.src='https://fakeimg.pl/150x200/'"},null,8,ua)):(0,n.kq)("",!0),e.avatarImgUrl?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("img",va))])]),(0,n._)("div",fa,[(0,n._)("a",Ia,[(0,n._)("div",wa,[(0,n.Uk)((0,s.zw)(e.name),1),(0,n._)("i",{class:(0,s.C_)("男性"==e.gender?"far fa-venus":"far fa-mars")},null,2)]),(0,n._)("div",pa,(0,s.zw)(e.age)+"歲/"+(0,s.zw)(e.height)+"cm/"+(0,s.zw)(e.weight)+"kg 年資"+(0,s.zw)(e.Seniority),1),(0,n._)("div",ha,(0,s.zw)(e.license.join("、")),1),e.experience.length>0?((0,n.wg)(),(0,n.iD)("div",ka,"照顧經驗："+(0,s.zw)(e.experience.join("、")),1)):(0,n.kq)("",!0),0==e.experience.length?((0,n.wg)(),(0,n.iD)("div",ma,"照顧經驗：無")):(0,n.kq)("",!0)]),(0,n.wy)((0,n._)("input",{type:"checkbox",id:e.id,value:e.id,class:"btn btn-delete checkBtn","onUpdate:modelValue":a[3]||(a[3]=e=>o.workOrder.caretakerResumeId=e)},null,8,ya),[[i.e8,o.workOrder.caretakerResumeId]])])])))),128))])):(0,n.kq)("",!0),0==o.favData.length?((0,n.wg)(),(0,n.iD)("div",Da,Ca)):(0,n.kq)("",!0)]),(0,n._)("div",_a,[(0,n._)("div",Ba,[0!=o.favData.length?((0,n.wg)(),(0,n.iD)("div",Pa,[(0,n._)("div",Ea,[(0,n._)("button",{class:"btn btn-outline-primary",type:"button","data-bs-dismiss":"modal",onClick:a[4]||(a[4]=(...e)=>o.checkInvite&&o.checkInvite(...e))},"送出邀約")]),Ha])):(0,n.kq)("",!0),0==o.favData.length?((0,n.wg)(),(0,n.iD)("div",Sa,Qa)):(0,n.kq)("",!0)])])])])])])])])],64)}t(7658);var za=t(2262),ja=t(2201),Ma=t(9799),Ua=t(4988),Wa=t(1830),Fa=t(4477),Ta=t(1557),La={setup(){const e=(0,Fa.dU)(),a=(0,ja.tv)(),t=(0,Ua.nN)().urlId;let s=(0,za.iH)([]),i=[],o=[],l=1,r=(0,za.iH)([]),c=(0,za.iH)({workOrderId:t,caretakerResumeId:[]});const d=async()=>{void 0==e.jobTypeList?(o=await(0,Wa.Dr)(),o=o.data.data,e.jobTypeList=o.value):o=e.jobTypeList,l=o.filter((e=>e.name==s.value.employerService.name)),l=l[0].id,r.value=await(0,Wa.mq)({page:1,limit:100,isFavorite:1,jobTypeId:l}),r.value=r.value.data.data;let a=[];s.value.careTakerList.forEach((e=>{a.push(e.id)})),r.value=r.value.filter((e=>!a.includes(e.id)))},g=async()=>{let e=await(0,Wa.GK)(c.value);if(1==e.status){(0,Ta.FN)("已發送邀約");try{let e=await(0,Wa.IR)({id:t});s.value.careTakerList=e.data.careTakerList}catch(a){console.log(a)}}else{let a=(0,Ua.b$)(e);(0,Ta.FN)(a)}};(0,n.bv)((async()=>{try{s.value=await(0,Wa.IR)({id:t}),s.value=s.value.data,s.value.careTakerList.forEach(((e,a)=>{i.push(e.replyStatus)})),s.value.orderSta=i;let e=(0,Ua.Qr)(s.value.workdays);s.value.newDates=e.newDates,s.value.info=e.info,s.value.time=e.time,s.value.monthInfo=Object.keys(s.value.info),s.value.employerService.languageInfo=[],s.value.employerService.language?.length>0&&s.value.employerService.language.forEach((e=>{s.value.employerService.languageInfo.push(e.name)})),s.value.employerService.licenseInfo=[],s.value.employerService.license?.length>0&&s.value.employerService.license.forEach((e=>{s.value.employerService.licenseInfo.push(e.name)})),s.value.disabledPerson.abilityToActInfo=[],s.value.disabledPerson.abilityToAct?.length>0&&s.value.disabledPerson.abilityToAct.forEach((e=>{s.value.disabledPerson.abilityToActInfo.push(e.name)})),s.value.disabledPerson.servicePlaceInfo=s.value.disabledPerson.servicePlace.city.name+s.value.disabledPerson.servicePlace.area.name+" "+s.value.disabledPerson.servicePlace.place.name,s.value.employerService.serviceInfo=[],s.value.employerService.service?.length>0&&s.value.employerService.service.forEach((e=>{s.value.employerService.serviceInfo.push(e.name)})),s.value.careTakerList.forEach((e=>{if(e.cancelDate&&e.cancelDate?.length>0){let a=(0,Ua.g7)(e.cancelDate);e.cancelMonthInfo=a.monthInfo,e.cancelDayInfo=a.dayInfo}if(e.checkDate){let a=(0,Ua.g7)(e.checkDate);e.checkMonthInfo=a.monthInfo,e.checkDayInfo=a.dayInfo}}))}catch(e){console.log(e)}}));const A=e=>{a.push({path:e})},u=async()=>{const e=await(0,Ta.qW)("確定刪除此筆資料");if(1==e)try{let e=await(0,Wa.oB)({id:t});1==e.status?((0,Ta.FN)("刪除成功"),a.push({path:"/order/list"})):(0,Ta.FN)(e.message)}catch(n){console.log(n)}};return{orderData:s,goto:A,urlId:t,loadFavData:d,favData:r,checkInvite:g,workOrder:c,deleteOrder:u}},components:{Header:Ma.Z}},Na=t(3744);const Oa=(0,Na.Z)(La,[["render",xa],["__scopeId","data-v-56bbd0a5"]]);var Ja=Oa},8776:function(e){e.exports="data:image/jpeg;base64,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"}}]);
//# sourceMappingURL=6682.8641b203.js.map