"use strict";(self["webpackChunknubk_cli"]=self["webpackChunknubk_cli"]||[]).push([[6293],{9799:function(a,e,t){t.d(e,{Z:function(){return f}});var l=t(6252),n=t(3577);const o=a=>((0,l.dD)("data-v-6d50fb3a"),a=a(),(0,l.Cn)(),a),i={class:"c-header"},c={class:"navbar ui-navbar"},s={class:"navbar-nav"},r=o((()=>(0,l._)("a",{class:"nav-link"},[(0,l._)("i",{class:"fa fa-chevron-left"})],-1))),u=[r],d={class:"navbar-brand"},v={class:"navbar-nav"},g={class:"nav-item"},p={class:"nav-link"};function A(a,e,t,o,r,A){return(0,l.wg)(),(0,l.iD)("header",i,[(0,l._)("nav",c,[(0,l._)("ul",s,[(0,l._)("li",{class:"nav-item",onClick:e[0]||(e[0]=(...a)=>o.backTo&&o.backTo(...a))},u)]),(0,l._)("h1",d,(0,n.zw)(t.title),1),(0,l._)("ul",v,[(0,l._)("li",g,[(0,l._)("a",p,[(0,l._)("i",{class:(0,n.C_)(o.iconCode),onClick:e[1]||(e[1]=(...a)=>o.goto&&o.goto(...a))},[(0,l._)("span",null,(0,n.zw)(o.text),1)],2)])])])])])}t(7658);var m=t(2201),h=t(4477),y={props:{title:String,right:String,path:String,backToPath:String},setup(a){const e=(0,h.s6)(),t=e.goto,l=(0,m.tv)();let n="",o="";const i=a.right?a.right:"";"add"==i&&(n="fa fa-plus",o=" 新增"),"map"==i&&(n="fas fa-map-marker-alt",o=" 地圖"),"text"==i&&(n="far fa-list-ul",o=" 列表"),"search"==i&&(n="far fa-search",o=" 搜尋");const c=()=>{"search"==a.path?console.log("search"):l.push({path:a.path})},s=()=>{if("-1"==a.backToPath)try{t("back")}catch(e){console.log(e),l.back()}else a.backToPath?l.push({path:a.backToPath}):l.push({path:"/home"})};return{iconCode:n,text:o,backTo:s,goto:c}}},I=t(3744);const C=(0,I.Z)(y,[["render",A],["__scopeId","data-v-6d50fb3a"]]);var f=C},3252:function(a,e,t){t.d(e,{Z:function(){return k}});var l=t(6252),n=t(3577),o=t(9963);const i=a=>((0,l.dD)("data-v-79630406"),a=a(),(0,l.Cn)(),a),c={class:"ui-tab selectArea"},s={class:"row"},r={class:"col"},u=i((()=>(0,l._)("option",{selected:""},"請選擇縣市",-1))),d=["value"],v={class:"col"},g=i((()=>(0,l._)("option",{selected:""},"請選擇鄉鎮市區",-1))),p=["value"],A={class:"row"},m={class:"col"},h=["value"];function y(a,e,t,i,y,I){return(0,l.wg)(),(0,l.iD)("div",c,[(0,l._)("div",s,[(0,l._)("div",r,[(0,l.wy)((0,l._)("select",{class:"form-control form-select","onUpdate:modelValue":e[0]||(e[0]=a=>i.city=a),onChange:e[1]||(e[1]=(...a)=>i.changeCityIdx&&i.changeCityIdx(...a))},[u,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.cityAreaData,(a=>((0,l.wg)(),(0,l.iD)("option",{value:a.id,key:a.id},(0,n.zw)(a.city_name),9,d)))),128))],544),[[o.bM,i.city]])]),(0,l._)("div",v,[(0,l.wy)((0,l._)("select",{class:"form-control form-select","onUpdate:modelValue":e[2]||(e[2]=a=>i.area=a),onChange:e[3]||(e[3]=(...a)=>i.changeAreaIdx&&i.changeAreaIdx(...a))},[g,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.areaList,(a=>((0,l.wg)(),(0,l.iD)("option",{value:a.id,key:a.id},(0,n.zw)(a.area_name),9,p)))),128))],544),[[o.bM,i.area]])])]),(0,l._)("div",A,[(0,l._)("div",m,[(0,l.wy)((0,l._)("select",{class:"form-control form-select","onUpdate:modelValue":e[4]||(e[4]=a=>i.code=a),onChange:e[5]||(e[5]=(...a)=>i.changeCodeIdx&&i.changeCodeIdx(...a))},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.codeList,(a=>((0,l.wg)(),(0,l.iD)("option",{value:a.id,key:a.id},(0,n.zw)(a.name),9,h)))),128))],544),[[o.bM,i.code]])])])])}var I=t(2262),C=t(1830),f=t(4477),w={props:{},setup(a,{emit:e}){const t=(0,f.c7)(),n=(0,f.fG)();let o=(0,I.iH)([]),i=(0,I.iH)([]),c=(0,I.iH)("請選擇縣市"),s=(0,I.iH)("請選擇鄉鎮市區"),r=(0,I.iH)(1),u=(0,I.iH)(0),d=(0,I.iH)(0),v=(0,I.iH)(1),g=((0,I.iH)([]),(0,I.iH)([])),p=(0,I.iH)([]);const A=a=>{u.value=a.target.value},m=a=>{d.value=a.target.value},h=a=>{v.value=a.target.value},y=()=>{e("cityIdx",u)},w=()=>{e("areaIdx",d)},b=()=>{e("codeIdx",v)};return(0,l.bv)((async()=>{void 0==t.cityAreaList2?(i.value=await(0,C.EJ)(),t.cityAreaList2=i.value):i.value=t.cityAreaList2,o.value=i.value.data.cityArea,p.value=i.value.data.codeList,0==n.userPosition.cityId?(c.value=65e3,u.value=65e3,g.value=o.value.filter((a=>a.id==u.value))[0].areas,s.value=65000020,d.value=65000020):(c.value=n.userPosition.cityId_2,u.value=n.userPosition.cityId_2,g.value=o.value.filter((a=>a.id==u.value))[0].areas,s.value=n.userPosition.areaId_2,d.value=n.userPosition.areaId_2)})),(0,l.YP)((()=>u.value),(async()=>{g.value=o.value.filter((a=>a.id==u.value))[0].areas,y()})),(0,l.YP)((()=>d.value),(async()=>{w()})),(0,l.YP)((()=>v.value),(async()=>{b()})),{cityAreaData:o,city:c,area:s,areaList:g,changeCityIdx:A,changeAreaIdx:m,codeList:p,code:r,changeCodeIdx:h}}},b=t(3744);const H=(0,b.Z)(w,[["render",y],["__scopeId","data-v-79630406"]]);var k=H},6084:function(a,e,t){t.r(e),t.d(e,{default:function(){return D}});var l=t(6252);const n={class:"longtermCare"},o={class:"c-main"},i={class:"resource-container"},c={class:"map-container"};function s(a,e,t,s,r,u){const d=(0,l.up)("Header"),v=(0,l.up)("CitySelecter"),g=(0,l.up)("GoogleMap");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(d,{title:"長照2.0",right:"text",path:"/map/longtermCare"}),(0,l._)("div",n,[(0,l._)("section",o,[(0,l.Wm)(v,{onCityIdx:s.updateCityIdx,onAreaIdx:s.updateAreaIdx,onCodeIdx:s.updateCodeIdx},null,8,["onCityIdx","onAreaIdx","onCodeIdx"]),(0,l._)("div",i,[(0,l._)("div",c,[(0,l.Wm)(g,{class:"map",data:s.longTermData,initial:s.initial,icon:s.ImgUrl},null,8,["data","initial","icon"])])])])])],64)}var r=t(9799),u=t(3252);const d=a=>((0,l.dD)("data-v-7ae1386e"),a=a(),(0,l.Cn)(),a),v=d((()=>(0,l._)("div",{class:"google-map",id:"map"},null,-1))),g=[v];function p(a,e,t,n,o,i){return(0,l.wg)(),(0,l.iD)("div",null,g)}t(7658);var A=t(2262),m={props:{data:Object,icon:String,initial:Array},setup(a){(0,A.qj)(a.data);const e=(0,A.iH)(a.icon);let t=null,n=(0,A.iH)(a.initial[1]),o=(0,A.iH)(a.initial[0]),i=(0,A.qj)([]),c=(0,A.qj)({center:{lat:n.value,lng:o.value},lacation:i});const s=()=>{c.lacation=[],a.data.forEach((a=>{c.lacation.push({id:a.properties.id,name:a.properties.name,lat:a.geometry.coordinates[1],lng:a.geometry.coordinates[0],telephone:a.properties.telephone,address:a.properties.address,website:a.properties.website})}))},r=(a,e)=>(t=new google.maps.Map(document.getElementById("map"),{center:{lat:a,lng:e},zoom:15,maxZoom:20,minZoom:3,streetViewControl:!1,mapTypeControl:!1}),t),u=()=>{c.lacation.forEach((a=>{const l=new google.maps.Marker({position:{lat:a.lat,lng:a.lng},map:t,icon:e.value}),n=new google.maps.InfoWindow({content:`\n                        <div id="content">\n                            <p class="infoHeader" style="color:#8F63CF ; font-size:1rem; font-weight:600;" >${a.name}<a style="margin:0;font-size:0.8rem; font-weight:400;" href='${a.website}'">(網站)</a></p>\n                            <p class="infoBody" style="margin:0;font-size:0.75rem; font-weight:400;" v-if="item.address" >${a.address}\n                                \n                            </p>\n                            \n                        </div>\n                        `,maxWidth:300});l.addListener("click",(()=>{const a=document.querySelector(".gm-style-iw");if(a){const e=a.parentNode.classList[0];document.querySelector(`.${e}`).remove()}n.open(t,l)}))}))};return(0,l.bv)((()=>{r(n.value,o.value),s(),u()})),(0,l.YP)((()=>a.initial),(a=>{n.value=a[1],o.value=a[0],r(n.value,o.value),s(),u()})),(0,l.YP)((()=>a.data),(()=>{a.data[0]&&(n.value=a.data[0].geometry.coordinates[1],o.value=a.data[0].geometry.coordinates[0],r(n.value,o.value),s(),u())})),{map:t,lat:n}}},h=t(3744);const y=(0,h.Z)(m,[["render",p],["__scopeId","data-v-7ae1386e"]]);var I=y,C=t(2201),f=t(1557),w="data:image/png;base64,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",b=t(1830),H={setup(){(0,C.tv)();let a=w,e=(0,A.iH)([]),t=(0,A.iH)(0),n=(0,A.iH)(0),o=(0,A.iH)(1),i=(0,A.iH)([120.6802474,24.158286989]);const c=a=>{t.value=a.value},s=a=>{n.value=a.value},r=a=>{o.value=a.value};return(0,l.YP)((()=>t.value),(async()=>{0!=t.value&&0!=n.value&&0!=o.value&&(e.value=await(0,b.yD)({cityId:t.value,areaId:n.value,code:o.value}),0==e.value.data.length?((0,f.FN)("該區域無資料"),e.value=[]):e.value=e.value.data)})),(0,l.YP)((()=>n.value),(async()=>{0!=t.value&&0!=n.value&&0!=o.value&&(e.value=await(0,b.yD)({cityId:t.value,areaId:n.value,code:o.value}),0==e.value.data.length?((0,f.FN)("該區域無資料"),e.value=[]):e.value=e.value.data)})),(0,l.YP)((()=>o.value),(async()=>{0!=t.value&&0!=n.value&&0!=o.value&&(e.value=await(0,b.yD)({cityId:t.value,areaId:n.value,code:o.value}),0==e.value.data.length?((0,f.FN)("該區域無資料"),e.value=[]):e.value=e.value.data)})),{longTermData:e,initial:i,ImgUrl:a,updateCityIdx:c,updateAreaIdx:s,updateCodeIdx:r}},components:{Header:r.Z,GoogleMap:I,CitySelecter:u.Z}};const k=(0,h.Z)(H,[["render",s],["__scopeId","data-v-e7e968d2"]]);var D=k}}]);
//# sourceMappingURL=6293.81fa7651.js.map