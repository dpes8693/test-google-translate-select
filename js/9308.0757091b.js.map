{"version":3,"file":"js/9308.0757091b.js","mappings":"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","sources":["webpack://nubk_cli/./src/components/global/NoData.vue","webpack://nubk_cli/./src/components/global/NoData.vue?24f4","webpack://nubk_cli/./src/components/global/header/HeaderArea.vue","webpack://nubk_cli/./src/components/global/header/HeaderArea.vue?a13c","webpack://nubk_cli/./src/view/course/newCourse.vue","webpack://nubk_cli/./src/view/course/components/CitySelecter.vue","webpack://nubk_cli/./src/view/course/components/CitySelecter.vue?a245","webpack://nubk_cli/./src/view/course/newCourse.vue?3546"],"sourcesContent":["<script>\r\n\r\n</script>\r\n\r\n<template>\r\n    <div class=\"nodata\">\r\n        <img src=\"@/assets/image/nodata.svg\" alt=\"無資料\">\r\n        <p>目前沒有資料</p>\r\n    </div>\r\n</template>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.nodata {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    flex-direction: column;\r\n    margin-top: 5rem;\r\n\r\n    img {\r\n        width: 50%;\r\n        margin: 0 auto;\r\n    }\r\n\r\n    p {\r\n        color: #777777;\r\n        font-size: 1rem;\r\n        margin: 0 auto;\r\n    }\r\n}\r\n</style>","import { render } from \"./NoData.vue?vue&type=template&id=74e50aab&scoped=true\"\nconst script = {}\n\nimport \"./NoData.vue?vue&type=style&index=0&id=74e50aab&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Documents\\\\nubk_cli\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-74e50aab\"]])\n\nexport default __exports__","<script>\r\nimport { useRouter } from \"vue-router\"\r\n// import { ExtCall } from \"@/utils/extCall\"\r\nimport { useGlobalStore } from \"@/store/global\"\r\n\r\nexport default {\r\n  props: {\r\n    title: String,\r\n    right: String,\r\n    path: String,\r\n    backToPath: String,\r\n  },\r\n  setup(props) {\r\n    const globalStore = useGlobalStore()\r\n    const globalGoto = globalStore.goto\r\n\r\n    const router = useRouter()\r\n    let iconCode = \"\"\r\n    let text = \"\"\r\n    const state = props.right ? props.right : \"\"\r\n    if (state == \"add\") {\r\n      iconCode = \"fa fa-plus\"\r\n      text = \" 新增\"\r\n    }\r\n    if (state == \"map\") {\r\n      iconCode = \"fas fa-map-marker-alt\"\r\n      text = \" 地圖\"\r\n    }\r\n    if (state == \"text\") {\r\n      iconCode = \"far fa-list-ul\"\r\n      text = \" 列表\"\r\n    }\r\n    if (state == \"search\") {\r\n      iconCode = \"far fa-search\"\r\n      text = \" 搜尋\"\r\n    }\r\n\r\n    const goto = () => {\r\n      if (props.path == \"search\") {\r\n        console.log(\"search\")\r\n      } else {\r\n        router.push({ path: props.path })\r\n      }\r\n    }\r\n    const backTo = () => {\r\n      if (props.backToPath == \"-1\") {\r\n        try {\r\n          globalGoto(\"back\")\r\n        } catch (error) {\r\n          console.log(error)\r\n          router.back()\r\n        }\r\n      } else if (props.backToPath) {\r\n        router.push({ path: props.backToPath })\r\n      } else {\r\n        router.push({ path: \"/home\" })\r\n      }\r\n    }\r\n\r\n    return { iconCode, text, backTo, goto }\r\n  },\r\n}\r\n</script>\r\n\r\n<template>\r\n  <header class=\"c-header\">\r\n    <nav class=\"navbar ui-navbar\">\r\n      <ul class=\"navbar-nav\">\r\n        <li class=\"nav-item\" @click=\"backTo\"> \r\n          <a class=\"nav-link\"\r\n            ><i class=\"fa fa-chevron-left\"></i\r\n          ></a>\r\n        </li>\r\n      </ul>\r\n      <h1 class=\"navbar-brand\">{{ title }}</h1>\r\n      <ul class=\"navbar-nav\">\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\"\r\n            ><i :class=\"iconCode\" @click=\"goto\"\r\n              ><span>{{ text }}</span></i\r\n            ></a\r\n          >\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </header>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n// @import \"../../../assets/layout.scss\";\r\n@import \"@/assets/custom/config\";\r\n@import \"@/assets/custom/mixins\";\r\n\r\n// header\r\n.c-header {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  z-index: 2;\r\n}\r\n\r\n.ui-navbar {\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n  height: $header-height;\r\n  background-color: $primary-color;\r\n\r\n  .nav-link {\r\n    padding-left: 0.875rem;\r\n    padding-right: 0.875rem;\r\n    color: white;\r\n    font-size: 0.8125rem;\r\n    line-height: 1;\r\n    white-space: nowrap;\r\n\r\n    i {\r\n      font-size: 1.125rem;\r\n      color: white;\r\n    }\r\n\r\n    span {\r\n      font-size: 0.8125rem;\r\n      padding-left: 0.25rem;\r\n    }\r\n\r\n    .fa-chevron-left {\r\n      font-size: 1.25rem;\r\n    }\r\n  }\r\n}\r\n\r\n.navbar-brand {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  margin-right: 0;\r\n  margin-bottom: 0;\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n  color: white;\r\n  font-size: 1.25rem;\r\n  white-space: nowrap;\r\n  @include translate(-50%, -50%);\r\n\r\n  img {\r\n    height: 2.1875rem;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./HeaderArea.vue?vue&type=template&id=6d50fb3a&scoped=true\"\nimport script from \"./HeaderArea.vue?vue&type=script&lang=js\"\nexport * from \"./HeaderArea.vue?vue&type=script&lang=js\"\n\nimport \"./HeaderArea.vue?vue&type=style&index=0&id=6d50fb3a&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Documents\\\\nubk_cli\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6d50fb3a\"]])\n\nexport default __exports__","<script>\r\nimport Header from \"../../components/global/header/HeaderArea.vue\"\r\nimport CitySelect from \"./components/CitySelecter.vue\"\r\nimport NoData from \"../../components/global/NoData.vue\"\r\nimport { ref, onMounted, onUnmounted } from 'vue'\r\nimport { Toast } from '../../components/global/swal.js'\r\nimport { apiGetCourseList } from \"@/api/api\"\r\nimport { useRouter } from \"vue-router\"\r\nimport { isBetweenBottom } from \"@/utils/helper\"\r\n\r\nexport default {\r\n  setup() {\r\n    const router = useRouter()\r\n    let courseData = ref([])\r\n    let total = ref(0)\r\n    let cityIdx = ref(8)\r\n    let areaIdx = ref(null)\r\n    let APIparams = ref({ page: 1, limit: 10, cityId: null, areaId: null })\r\n    let getApiTimer = null\r\n\r\n    const updateCityIdx = async (val) => {\r\n      APIparams.value.cityId = val.value\r\n      APIparams.value.areaIdx = null\r\n      courseData.value = await apiGetCourseList(APIparams.value)\r\n      total.value = courseData.value.data.total\r\n      courseData.value = courseData.value.data.list\r\n      // console.log(courseData.value)\r\n    }\r\n    const updateAreaIdx = async (val) => {\r\n      APIparams.value.areaIdx = val.value\r\n      courseData.value = await apiGetCourseList(APIparams.value)\r\n      total.value = courseData.value.data.total\r\n      courseData.value = courseData.value.data.list\r\n      // console.log(courseData.value)\r\n    }\r\n    onMounted(async () => {\r\n      // call api\r\n      courseData.value = await apiGetCourseList(APIparams.value)\r\n      total.value = courseData.value.data.total\r\n      courseData.value = courseData.value.data.list\r\n      // console.log(courseData.value)\r\n\r\n      //每0.5S監測是否在底部\r\n      getApiTimer = setInterval(() => {\r\n        if (isBetweenBottom() && total.value > 0 ) {\r\n          // 超過上限不做GET\r\n          if (courseData.value.length < total.value) {\r\n            handleScroll();\r\n          }\r\n        }\r\n      }, 500)\r\n    })\r\n\r\n    //滾動載入資料\r\n    const handleScroll = async () => {\r\n      APIparams.value.page += 1;\r\n      let newData = ref()\r\n      newData.value = await apiGetCourseList(APIparams.value)\r\n      courseData.value = courseData.value.concat(newData.value.data.list);\r\n    };\r\n    //取消監控\r\n    onUnmounted(() => clearInterval(getApiTimer))\r\n\r\n\r\n    const goto = (val) => {\r\n      router.push({ path: val })\r\n    }\r\n\r\n    return { updateCityIdx, updateAreaIdx, courseData, total, goto };\r\n  },\r\n  components: {\r\n    Header, CitySelect,NoData\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Header title=\"最新課程\" backToPath=\"/course/index\" />\r\n  <div class=\"newCourse\">\r\n    <section class=\"c-main\">\r\n      <CitySelect @city-idx=\"updateCityIdx\" @area-idx=\"updateAreaIdx\" />\r\n      <NoData v-if=\"total == 0\"/>\r\n      <div class=\"course-container\">\r\n        <div class=\"card\" v-for=\"item in courseData\" :key=\"item.id\">\r\n          <div class=\"card-body\">\r\n            <a @click=\"goto(`/course/info/${item.courseId}`)\" class=\"card-link\">\r\n              <div class=\"card-title\">{{ item.name }}</div>\r\n              <div class=\"card-date\">課程日期 : {{ item.startDate.slice(0, 10) }} ~ {{ item.endDate.slice(0, 10) }}</div>\r\n              <div class=\"card-organize\">培訓單位 : {{ item.organizer }}</div>\r\n              <div class=\"card-location\">縣市地區 : {{ item.address }}</div>\r\n              <div class=\"card-hour\">訓練時數 : {{ item.hours }}</div>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/assets/custom/config\";\r\n\r\n.newCourse {\r\n  margin-top: $header-height;\r\n  margin-bottom: calc($footer-height + 15px);\r\n}\r\n\r\n</style>","<script>\r\nimport { ref, onMounted, watch, $emit } from 'vue'\r\nimport { apiGetCityArea } from \"@/api/api\"\r\nimport { useCityStore } from '@/store/global'\r\n\r\nexport default {\r\n    props: {\r\n    },\r\n    setup(props, { emit }) {\r\n        const cityStore = useCityStore()\r\n        let cityAreaData = ref([])\r\n        let city = ref(\"請選擇縣市\")\r\n        let area = ref(\"請選擇鄉鎮市區\")\r\n        let cityIdx = ref(8)\r\n        let areaIdx = ref()\r\n        let cityList = ref([])\r\n        let areaList = ref([])\r\n        const changeCityIdx = (e) => {\r\n            cityIdx.value = e.target.value\r\n            // console.log(cityIdx.value)\r\n        }\r\n        const changeAreaIdx = (e) => {\r\n            areaIdx.value = e.target.value\r\n            // console.log(areaIdx.value)\r\n        }\r\n\r\n        //往外傳\r\n        const updateCityIdx = () => {\r\n            emit(\"cityIdx\", cityIdx)\r\n        }\r\n        const updateAreaIdx = () => {\r\n            emit(\"areaIdx\", areaIdx)\r\n        }\r\n\r\n        onMounted(async () => {\r\n            if (cityStore.cityAreaList == undefined) {\r\n                // console.log('沒有')\r\n                // call api\r\n                cityAreaData.value = await apiGetCityArea()\r\n                cityAreaData.value = cityAreaData.value.data\r\n                cityStore.cityAreaList = cityAreaData.value\r\n            } else {\r\n                // console.log('有')\r\n                cityAreaData.value = cityStore.cityAreaList\r\n            }\r\n            // console.log(cityAreaData.value)\r\n            //預設臺中市\r\n            city.value = 8\r\n            cityIdx.value = 8\r\n            areaList.value = cityAreaData?.value?.[cityIdx.value - 1]?.areas\r\n        })\r\n\r\n        watch(() => cityIdx.value, async () => {\r\n            areaList.value = cityAreaData?.value?.[cityIdx.value - 1]?.areas\r\n            updateCityIdx()\r\n        })\r\n        watch(() => areaIdx.value, async () => {\r\n            updateAreaIdx()\r\n        })\r\n\r\n        return { cityAreaData, city, area, areaList, changeCityIdx, changeAreaIdx }\r\n    },\r\n};\r\n</script>\r\n\r\n<template>\r\n    <div class=\"ui-tab selectArea\">\r\n        <div class=\"row\">\r\n            <div class=\"col\">\r\n                <select class=\"form-control form-select\" v-model=\"city\" @change=\"changeCityIdx\">\r\n                    <option selected>請選擇縣市</option>\r\n                    <option v-for=\"item in cityAreaData\" :value=\"item.id\" :key=\"item.id\">{{ item.city_name }}</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"col\">\r\n                <select class=\"form-control form-select\" v-model=\"area\" @change=\"changeAreaIdx\">\r\n                    <option selected>請選擇鄉鎮市區</option>\r\n                    <option v-for=\"item in areaList\" :value=\"item.id\" :key=\"item.id\">{{ item.area_name }}</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.selectArea {\r\n    // border: 10px solid purple;\r\n}\r\n</style>","import { render } from \"./CitySelecter.vue?vue&type=template&id=14849fac&scoped=true\"\nimport script from \"./CitySelecter.vue?vue&type=script&lang=js\"\nexport * from \"./CitySelecter.vue?vue&type=script&lang=js\"\n\nimport \"./CitySelecter.vue?vue&type=style&index=0&id=14849fac&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Documents\\\\nubk_cli\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-14849fac\"]])\n\nexport default __exports__","import { render } from \"./newCourse.vue?vue&type=template&id=4f75613f&scoped=true\"\nimport script from \"./newCourse.vue?vue&type=script&lang=js\"\nexport * from \"./newCourse.vue?vue&type=script&lang=js\"\n\nimport \"./newCourse.vue?vue&type=style&index=0&id=4f75613f&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Documents\\\\nubk_cli\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4f75613f\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_0","alt","_hoisted_2","_hoisted_3","_createElementBlock","_hoisted_1","script","__exports__","render","_hoisted_4","onClick","$setup","_hoisted_6","$props","_hoisted_7","_hoisted_8","_hoisted_9","props","title","String","right","path","backToPath","setup","globalStore","useGlobalStore","globalGoto","goto","router","useRouter","iconCode","text","state","console","log","push","backTo","error","back","_createVNode","_component_Header","_component_CitySelect","onCityIdx","onAreaIdx","_createBlock","_component_NoData","key","_Fragment","item","id","courseId","name","startDate","slice","endDate","organizer","address","_hoisted_10","hours","selected","onChange","value","city_name","area_name","emit","cityStore","useCityStore","cityAreaData","ref","city","area","cityIdx","areaIdx","areaList","changeCityIdx","e","target","changeAreaIdx","updateCityIdx","updateAreaIdx","onMounted","async","undefined","cityAreaList","apiGetCityArea","data","areas","watch","courseData","total","APIparams","page","limit","cityId","areaId","getApiTimer","val","apiGetCourseList","list","setInterval","isBetweenBottom","length","handleScroll","newData","concat","onUnmounted","clearInterval","components","Header","CitySelect","NoData"],"sourceRoot":""}